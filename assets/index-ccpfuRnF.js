var xI=Object.defineProperty;var SI=(e,t,n)=>t in e?xI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Vp=(e,t,n)=>SI(e,typeof t!="symbol"?t+"":t,n);function wI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fp={exports:{}},ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function AI(){if(W1)return ws;W1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var s=null;if(l!==void 0&&(s=""+l),a.key!==void 0&&(s=""+a.key),"key"in a){l={};for(var c in a)c!=="key"&&(l[c]=a[c])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:s,ref:a!==void 0?a:null,props:l}}return ws.Fragment=t,ws.jsx=n,ws.jsxs=n,ws}var Z1;function EI(){return Z1||(Z1=1,Fp.exports=AI()),Fp.exports}var b=EI(),Kp={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function TI(){if(Q1)return Ie;Q1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),x=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function N(L,Z,pe){this.props=L,this.context=Z,this.refs=C,this.updater=pe||E}N.prototype.isReactComponent={},N.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function R(){}R.prototype=N.prototype;function P(L,Z,pe){this.props=L,this.context=Z,this.refs=C,this.updater=pe||E}var M=P.prototype=new R;M.constructor=P,A(M,N.prototype),M.isPureReactComponent=!0;var I=Array.isArray;function k(){}var j={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function $(L,Z,pe){var he=pe.ref;return{$$typeof:e,type:L,key:Z,ref:he!==void 0?he:null,props:pe}}function te(L,Z){return $(L.type,Z,L.props)}function K(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function G(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return Z[pe]})}var V=/\/+/g;function ae(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?G(""+L.key):Z.toString(36)}function me(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,Z,pe,he,ye){var Te=typeof L;(Te==="undefined"||Te==="boolean")&&(L=null);var Oe=!1;if(L===null)Oe=!0;else switch(Te){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(L.$$typeof){case e:case t:Oe=!0;break;case p:return Oe=L._init,B(Oe(L._payload),Z,pe,he,ye)}}if(Oe)return ye=ye(L),Oe=he===""?"."+ae(L,0):he,I(ye)?(pe="",Oe!=null&&(pe=Oe.replace(V,"$&/")+"/"),B(ye,Z,pe,"",function(Ce){return Ce})):ye!=null&&(K(ye)&&(ye=te(ye,pe+(ye.key==null||L&&L.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+Oe)),Z.push(ye)),1;Oe=0;var Ve=he===""?".":he+":";if(I(L))for(var oe=0;oe<L.length;oe++)he=L[oe],Te=Ve+ae(he,oe),Oe+=B(he,Z,pe,Te,ye);else if(oe=w(L),typeof oe=="function")for(L=oe.call(L),oe=0;!(he=L.next()).done;)he=he.value,Te=Ve+ae(he,oe++),Oe+=B(he,Z,pe,Te,ye);else if(Te==="object"){if(typeof L.then=="function")return B(me(L),Z,pe,he,ye);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ne(L,Z,pe){if(L==null)return L;var he=[],ye=0;return B(L,he,"","",function(Te){return Z.call(pe,Te,ye++)}),he}function H(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ge={map:ne,forEach:function(L,Z,pe){ne(L,function(){Z.apply(this,arguments)},pe)},count:function(L){var Z=0;return ne(L,function(){Z++}),Z},toArray:function(L){return ne(L,function(Z){return Z})||[]},only:function(L){if(!K(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ie.Activity=h,Ie.Children=ge,Ie.Component=N,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=P,Ie.StrictMode=r,Ie.Suspense=d,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(L){return j.H.useMemoCache(L)}},Ie.cache=function(L){return function(){return L.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(L,Z,pe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var he=A({},L.props),ye=L.key;if(Z!=null)for(Te in Z.key!==void 0&&(ye=""+Z.key),Z)!q.call(Z,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Z.ref===void 0||(he[Te]=Z[Te]);var Te=arguments.length-2;if(Te===1)he.children=pe;else if(1<Te){for(var Oe=Array(Te),Ve=0;Ve<Te;Ve++)Oe[Ve]=arguments[Ve+2];he.children=Oe}return $(L.type,ye,he)},Ie.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ie.createElement=function(L,Z,pe){var he,ye={},Te=null;if(Z!=null)for(he in Z.key!==void 0&&(Te=""+Z.key),Z)q.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ye[he]=Z[he]);var Oe=arguments.length-2;if(Oe===1)ye.children=pe;else if(1<Oe){for(var Ve=Array(Oe),oe=0;oe<Oe;oe++)Ve[oe]=arguments[oe+2];ye.children=Ve}if(L&&L.defaultProps)for(he in Oe=L.defaultProps,Oe)ye[he]===void 0&&(ye[he]=Oe[he]);return $(L,Te,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(L){return{$$typeof:c,render:L}},Ie.isValidElement=K,Ie.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:H}},Ie.memo=function(L,Z){return{$$typeof:f,type:L,compare:Z===void 0?null:Z}},Ie.startTransition=function(L){var Z=j.T,pe={};j.T=pe;try{var he=L(),ye=j.S;ye!==null&&ye(pe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(k,fe)}catch(Te){fe(Te)}finally{Z!==null&&pe.types!==null&&(Z.types=pe.types),j.T=Z}},Ie.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ie.use=function(L){return j.H.use(L)},Ie.useActionState=function(L,Z,pe){return j.H.useActionState(L,Z,pe)},Ie.useCallback=function(L,Z){return j.H.useCallback(L,Z)},Ie.useContext=function(L){return j.H.useContext(L)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(L,Z){return j.H.useDeferredValue(L,Z)},Ie.useEffect=function(L,Z){return j.H.useEffect(L,Z)},Ie.useEffectEvent=function(L){return j.H.useEffectEvent(L)},Ie.useId=function(){return j.H.useId()},Ie.useImperativeHandle=function(L,Z,pe){return j.H.useImperativeHandle(L,Z,pe)},Ie.useInsertionEffect=function(L,Z){return j.H.useInsertionEffect(L,Z)},Ie.useLayoutEffect=function(L,Z){return j.H.useLayoutEffect(L,Z)},Ie.useMemo=function(L,Z){return j.H.useMemo(L,Z)},Ie.useOptimistic=function(L,Z){return j.H.useOptimistic(L,Z)},Ie.useReducer=function(L,Z,pe){return j.H.useReducer(L,Z,pe)},Ie.useRef=function(L){return j.H.useRef(L)},Ie.useState=function(L){return j.H.useState(L)},Ie.useSyncExternalStore=function(L,Z,pe){return j.H.useSyncExternalStore(L,Z,pe)},Ie.useTransition=function(){return j.H.useTransition()},Ie.version="19.2.0",Ie}var ew;function gl(){return ew||(ew=1,Kp.exports=TI()),Kp.exports}var T=gl();const at=Fr(T),CI=wI({__proto__:null,default:at},[T]);var Yp={exports:{}},As={},Jp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function _I(){return tw||(tw=1,(function(e){function t(B,ne){var H=B.length;B.push(ne);e:for(;0<H;){var fe=H-1>>>1,ge=B[fe];if(0<a(ge,ne))B[fe]=ne,B[H]=ge,H=fe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ne=B[0],H=B.pop();if(H!==ne){B[0]=H;e:for(var fe=0,ge=B.length,L=ge>>>1;fe<L;){var Z=2*(fe+1)-1,pe=B[Z],he=Z+1,ye=B[he];if(0>a(pe,H))he<ge&&0>a(ye,pe)?(B[fe]=ye,B[he]=H,fe=he):(B[fe]=pe,B[Z]=H,fe=Z);else if(he<ge&&0>a(ye,H))B[fe]=ye,B[he]=H,fe=he;else break e}}return ne}function a(B,ne){var H=B.sortIndex-ne.sortIndex;return H!==0?H:B.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],p=1,h=null,x=3,w=!1,E=!1,A=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var ne=n(f);ne!==null;){if(ne.callback===null)r(f);else if(ne.startTime<=B)r(f),ne.sortIndex=ne.expirationTime,t(d,ne);else break;ne=n(f)}}function I(B){if(A=!1,M(B),!E)if(n(d)!==null)E=!0,k||(k=!0,G());else{var ne=n(f);ne!==null&&me(I,ne.startTime-B)}}var k=!1,j=-1,q=5,$=-1;function te(){return C?!0:!(e.unstable_now()-$<q)}function K(){if(C=!1,k){var B=e.unstable_now();$=B;var ne=!0;try{e:{E=!1,A&&(A=!1,R(j),j=-1),w=!0;var H=x;try{t:{for(M(B),h=n(d);h!==null&&!(h.expirationTime>B&&te());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,x=h.priorityLevel;var ge=fe(h.expirationTime<=B);if(B=e.unstable_now(),typeof ge=="function"){h.callback=ge,M(B),ne=!0;break t}h===n(d)&&r(d),M(B)}else r(d);h=n(d)}if(h!==null)ne=!0;else{var L=n(f);L!==null&&me(I,L.startTime-B),ne=!1}}break e}finally{h=null,x=H,w=!1}ne=void 0}}finally{ne?G():k=!1}}}var G;if(typeof P=="function")G=function(){P(K)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ae=V.port2;V.port1.onmessage=K,G=function(){ae.postMessage(null)}}else G=function(){N(K,0)};function me(B,ne){j=N(function(){B(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var H=x;x=ne;try{return B()}finally{x=H}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=x;x=B;try{return ne()}finally{x=H}},e.unstable_scheduleCallback=function(B,ne,H){var fe=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?fe+H:fe):H=fe,B){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=H+ge,B={id:p++,callback:ne,priorityLevel:B,startTime:H,expirationTime:ge,sortIndex:-1},H>fe?(B.sortIndex=H,t(f,B),n(d)===null&&B===n(f)&&(A?(R(j),j=-1):A=!0,me(I,H-fe))):(B.sortIndex=ge,t(d,B),E||w||(E=!0,k||(k=!0,G()))),B},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(B){var ne=x;return function(){var H=x;x=ne;try{return B.apply(this,arguments)}finally{x=H}}}})(Xp)),Xp}var nw;function NI(){return nw||(nw=1,Jp.exports=_I()),Jp.exports}var Wp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function MI(){if(rw)return fn;rw=1;var e=gl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,f,p){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:d,containerInfo:f,implementation:p}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(d,f,null,p)},fn.flushSync=function(d){var f=s.T,p=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=f,r.p=p,r.d.f()}},fn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},fn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,h=c(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:h,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:h,integrity:x,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},fn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,h=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},fn.requestFormReset=function(d){r.d.r(d)},fn.unstable_batchedUpdates=function(d,f){return d(f)},fn.useFormState=function(d,f,p){return s.H.useFormState(d,f,p)},fn.useFormStatus=function(){return s.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var iw;function j_(){if(iw)return Wp.exports;iw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Wp.exports=MI(),Wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function DI(){if(aw)return As;aw=1;var e=NI(),t=gl(),n=j_();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function s(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return d(v),i;if(S===m)return d(v),o;S=S.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=S;else{for(var _=!1,D=v.child;D;){if(D===u){_=!0,u=v,m=S;break}if(D===m){_=!0,m=v,u=S;break}D=D.sibling}if(!_){for(D=S.child;D;){if(D===u){_=!0,u=S,m=v;break}if(D===m){_=!0,m=S,u=v;break}D=D.sibling}if(!_)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case N:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case P:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return o=i.displayName||null,o!==null?o:ae(i.type)||"Memo";case q:o=i._payload,i=i._init;try{return ae(i(o))}catch{}}return null}var me=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},fe=[],ge=-1;function L(i){return{current:i}}function Z(i){0>ge||(i.current=fe[ge],fe[ge]=null,ge--)}function pe(i,o){ge++,fe[ge]=i.current,i.current=o}var he=L(null),ye=L(null),Te=L(null),Oe=L(null);function Ve(i,o){switch(pe(Te,o),pe(ye,i),pe(he,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?x1(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=x1(o),i=S1(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(he),pe(he,i)}function oe(){Z(he),Z(ye),Z(Te)}function Ce(i){i.memoizedState!==null&&pe(Oe,i);var o=he.current,u=S1(o,i.type);o!==u&&(pe(ye,i),pe(he,u))}function re(i){ye.current===i&&(Z(he),Z(ye)),Oe.current===i&&(Z(Oe),ys._currentValue=H)}var Q,Re;function be(i){if(Q===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Q=o&&o[1]||"",Re=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+i+Re}var Le=!1;function et(i,o){if(!i||Le)return"";Le=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var ee=ie}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ie){ee=ie}i.call(ce.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),_=S[0],D=S[1];if(_&&D){var U=_.split(`
`),X=D.split(`
`);for(v=m=0;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;for(;v<X.length&&!X[v].includes("DetermineComponentFrameRoot");)v++;if(m===U.length||v===X.length)for(m=U.length-1,v=X.length-1;1<=m&&0<=v&&U[m]!==X[v];)v--;for(;1<=m&&0<=v;m--,v--)if(U[m]!==X[v]){if(m!==1||v!==1)do if(m--,v--,0>v||U[m]!==X[v]){var se=`
`+U[m].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=m&&0<=v);break}}}finally{Le=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?be(u):""}function lt(i,o){switch(i.tag){case 26:case 27:case 5:return be(i.type);case 16:return be("Lazy");case 13:return i.child!==o&&o!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return et(i.type,!1);case 11:return et(i.type.render,!1);case 1:return et(i.type,!0);case 31:return be("Activity");default:return""}}function tt(i){try{var o="",u=null;do o+=lt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var kr=Object.prototype.hasOwnProperty,jr=e.unstable_scheduleCallback,ya=e.unstable_cancelCallback,_n=e.unstable_shouldYield,Pi=e.unstable_requestPaint,zt=e.unstable_now,ba=e.unstable_getCurrentPriorityLevel,Tr=e.unstable_ImmediatePriority,Cr=e.unstable_UserBlockingPriority,yn=e.unstable_NormalPriority,Pl=e.unstable_LowPriority,xa=e.unstable_IdlePriority,O=e.log,Y=e.unstable_setDisableYieldValue,le=null,de=null;function ve(i){if(typeof O=="function"&&Y(i),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(le,i)}catch{}}var Ne=Math.clz32?Math.clz32:Ze,xe=Math.log,Ue=Math.LN2;function Ze(i){return i>>>=0,i===0?32:31-(xe(i)/Ue|0)|0}var nt=256,Nt=262144,Ct=4194304;function tr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bn(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,S=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var D=m&134217727;return D!==0?(m=D&~S,m!==0?v=tr(m):(_&=D,_!==0?v=tr(_):u||(u=D&~i,u!==0&&(v=tr(u))))):(D=m&~S,D!==0?v=tr(D):_!==0?v=tr(_):u||(u=m&~i,u!==0&&(v=tr(u)))),v===0?0:o!==0&&o!==v&&(o&S)===0&&(S=v&-v,u=o&-o,S>=u||S===32&&(u&4194048)!==0)?o:v}function Nn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Sa(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tb(){var i=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),i}function Rd(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ol(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sO(i,o,u,m,v,S){var _=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var D=i.entanglements,U=i.expirationTimes,X=i.hiddenUpdates;for(u=_&~u;0<u;){var se=31-Ne(u),ce=1<<se;D[se]=0,U[se]=-1;var ee=X[se];if(ee!==null)for(X[se]=null,se=0;se<ee.length;se++){var ie=ee[se];ie!==null&&(ie.lane&=-536870913)}u&=~ce}m!==0&&nb(i,m,0),S!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=S&~(_&~o))}function nb(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-Ne(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function rb(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-Ne(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function ib(i,o){var u=o&-o;return u=(u&42)!==0?1:Id(u),(u&(i.suspendedLanes|o))!==0?0:u}function Id(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function kd(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ab(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:$1(i.type))}function ob(i,o){var u=ne.p;try{return ne.p=i,o()}finally{ne.p=u}}var Oi=Math.random().toString(36).slice(2),tn="__reactFiber$"+Oi,Mn="__reactProps$"+Oi,co="__reactContainer$"+Oi,jd="__reactEvents$"+Oi,uO="__reactListeners$"+Oi,cO="__reactHandles$"+Oi,lb="__reactResources$"+Oi,Rl="__reactMarker$"+Oi;function Ld(i){delete i[tn],delete i[Mn],delete i[jd],delete i[uO],delete i[cO]}function fo(i){var o=i[tn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[co]||u[tn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=N1(i);i!==null;){if(u=i[tn])return u;i=N1(i)}return o}i=u,u=i.parentNode}return null}function mo(i){if(i=i[tn]||i[co]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Il(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function po(i){var o=i[lb];return o||(o=i[lb]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Jt(i){i[Rl]=!0}var sb=new Set,ub={};function wa(i,o){ho(i,o),ho(i+"Capture",o)}function ho(i,o){for(ub[i]=o,i=0;i<o.length;i++)sb.add(o[i])}var fO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cb={},fb={};function dO(i){return kr.call(fb,i)?!0:kr.call(cb,i)?!1:fO.test(i)?fb[i]=!0:(cb[i]=!0,!1)}function xu(i,o,u){if(dO(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Su(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Kr(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function nr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function db(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function mO(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,S=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(_){u=""+_,S.call(this,_)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ud(i){if(!i._valueTracker){var o=db(i)?"checked":"value";i._valueTracker=mO(i,o,""+i[o])}}function mb(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=db(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function wu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var pO=/[\n"\\]/g;function rr(i){return i.replace(pO,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function qd(i,o,u,m,v,S,_,D){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),o!=null?_==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+nr(o)):i.value!==""+nr(o)&&(i.value=""+nr(o)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),o!=null?Bd(i,_,nr(o)):u!=null?Bd(i,_,nr(u)):m!=null&&i.removeAttribute("value"),v==null&&S!=null&&(i.defaultChecked=!!S),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+nr(D):i.removeAttribute("name")}function pb(i,o,u,m,v,S,_,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Ud(i);return}u=u!=null?""+nr(u):"",o=o!=null?""+nr(o):u,D||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=D?i.checked:!!m,i.defaultChecked=!!m,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Ud(i)}function Bd(i,o,u){o==="number"&&wu(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function go(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+nr(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function hb(i,o,u){if(o!=null&&(o=""+nr(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+nr(u):""}function gb(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(me(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=nr(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Ud(i)}function vo(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var hO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vb(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||hO.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function yb(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&vb(i,v,m)}else for(var S in o)o.hasOwnProperty(S)&&vb(i,S,o[S])}function zd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Au(i){return vO.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Yr(){}var Hd=null;function Gd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yo=null,bo=null;function bb(i){var o=mo(i);if(o&&(i=o.stateNode)){var u=i[Mn]||null;e:switch(i=o.stateNode,o.type){case"input":if(qd(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+rr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[Mn]||null;if(!v)throw Error(r(90));qd(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&mb(m)}break e;case"textarea":hb(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&go(i,!!u.multiple,o,!1)}}}var $d=!1;function xb(i,o,u){if($d)return i(o,u);$d=!0;try{var m=i(o);return m}finally{if($d=!1,(yo!==null||bo!==null)&&(cc(),yo&&(o=yo,i=bo,bo=yo=null,bb(o),i)))for(o=0;o<i.length;o++)bb(i[o])}}function kl(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Mn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vd=!1;if(Jr)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Vd=!1}var Ri=null,Fd=null,Eu=null;function Sb(){if(Eu)return Eu;var i,o=Fd,u=o.length,m,v="value"in Ri?Ri.value:Ri.textContent,S=v.length;for(i=0;i<u&&o[i]===v[i];i++);var _=u-i;for(m=1;m<=_&&o[u-m]===v[S-m];m++);return Eu=v.slice(i,1<m?1-m:void 0)}function Tu(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Cu(){return!0}function wb(){return!1}function Dn(i){function o(u,m,v,S,_){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=S,this.target=_,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Cu:wb,this.isPropagationStopped=wb,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),o}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=Dn(Aa),Ll=h({},Aa,{view:0,detail:0}),yO=Dn(Ll),Kd,Yd,Ul,Nu=h({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ul&&(Ul&&i.type==="mousemove"?(Kd=i.screenX-Ul.screenX,Yd=i.screenY-Ul.screenY):Yd=Kd=0,Ul=i),Kd)},movementY:function(i){return"movementY"in i?i.movementY:Yd}}),Ab=Dn(Nu),bO=h({},Nu,{dataTransfer:0}),xO=Dn(bO),SO=h({},Ll,{relatedTarget:0}),Jd=Dn(SO),wO=h({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),AO=Dn(wO),EO=h({},Aa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),TO=Dn(EO),CO=h({},Aa,{data:0}),Eb=Dn(CO),_O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DO(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=MO[i])?!!o[i]:!1}function Xd(){return DO}var PO=h({},Ll,{key:function(i){if(i.key){var o=_O[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Tu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?NO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xd,charCode:function(i){return i.type==="keypress"?Tu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Tu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),OO=Dn(PO),RO=h({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tb=Dn(RO),IO=h({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xd}),kO=Dn(IO),jO=h({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),LO=Dn(jO),UO=h({},Nu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),qO=Dn(UO),BO=h({},Aa,{newState:0,oldState:0}),zO=Dn(BO),HO=[9,13,27,32],Wd=Jr&&"CompositionEvent"in window,ql=null;Jr&&"documentMode"in document&&(ql=document.documentMode);var GO=Jr&&"TextEvent"in window&&!ql,Cb=Jr&&(!Wd||ql&&8<ql&&11>=ql),_b=" ",Nb=!1;function Mb(i,o){switch(i){case"keyup":return HO.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Db(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function $O(i,o){switch(i){case"compositionend":return Db(o);case"keypress":return o.which!==32?null:(Nb=!0,_b);case"textInput":return i=o.data,i===_b&&Nb?null:i;default:return null}}function VO(i,o){if(xo)return i==="compositionend"||!Wd&&Mb(i,o)?(i=Sb(),Eu=Fd=Ri=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Cb&&o.locale!=="ko"?null:o.data;default:return null}}var FO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pb(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!FO[i.type]:o==="textarea"}function Ob(i,o,u,m){yo?bo?bo.push(m):bo=[m]:yo=m,o=vc(o,"onChange"),0<o.length&&(u=new _u("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Bl=null,zl=null;function KO(i){p1(i,0)}function Mu(i){var o=Il(i);if(mb(o))return i}function Rb(i,o){if(i==="change")return o}var Ib=!1;if(Jr){var Zd;if(Jr){var Qd="oninput"in document;if(!Qd){var kb=document.createElement("div");kb.setAttribute("oninput","return;"),Qd=typeof kb.oninput=="function"}Zd=Qd}else Zd=!1;Ib=Zd&&(!document.documentMode||9<document.documentMode)}function jb(){Bl&&(Bl.detachEvent("onpropertychange",Lb),zl=Bl=null)}function Lb(i){if(i.propertyName==="value"&&Mu(zl)){var o=[];Ob(o,zl,i,Gd(i)),xb(KO,o)}}function YO(i,o,u){i==="focusin"?(jb(),Bl=o,zl=u,Bl.attachEvent("onpropertychange",Lb)):i==="focusout"&&jb()}function JO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Mu(zl)}function XO(i,o){if(i==="click")return Mu(o)}function WO(i,o){if(i==="input"||i==="change")return Mu(o)}function ZO(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var qn=typeof Object.is=="function"?Object.is:ZO;function Hl(i,o){if(qn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!kr.call(o,v)||!qn(i[v],o[v]))return!1}return!0}function Ub(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qb(i,o){var u=Ub(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ub(u)}}function Bb(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Bb(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function zb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=wu(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=wu(i.document)}return o}function em(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var QO=Jr&&"documentMode"in document&&11>=document.documentMode,So=null,tm=null,Gl=null,nm=!1;function Hb(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;nm||So==null||So!==wu(m)||(m=So,"selectionStart"in m&&em(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Gl&&Hl(Gl,m)||(Gl=m,m=vc(tm,"onSelect"),0<m.length&&(o=new _u("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=So)))}function Ea(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var wo={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},rm={},Gb={};Jr&&(Gb=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Ta(i){if(rm[i])return rm[i];if(!wo[i])return i;var o=wo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Gb)return rm[i]=o[u];return i}var $b=Ta("animationend"),Vb=Ta("animationiteration"),Fb=Ta("animationstart"),eR=Ta("transitionrun"),tR=Ta("transitionstart"),nR=Ta("transitioncancel"),Kb=Ta("transitionend"),Yb=new Map,im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");im.push("scrollEnd");function _r(i,o){Yb.set(i,o),wa(o,[i])}var Du=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ir=[],Ao=0,am=0;function Pu(){for(var i=Ao,o=am=Ao=0;o<i;){var u=ir[o];ir[o++]=null;var m=ir[o];ir[o++]=null;var v=ir[o];ir[o++]=null;var S=ir[o];if(ir[o++]=null,m!==null&&v!==null){var _=m.pending;_===null?v.next=v:(v.next=_.next,_.next=v),m.pending=v}S!==0&&Jb(u,v,S)}}function Ou(i,o,u,m){ir[Ao++]=i,ir[Ao++]=o,ir[Ao++]=u,ir[Ao++]=m,am|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function om(i,o,u,m){return Ou(i,o,u,m),Ru(i)}function Ca(i,o){return Ou(i,null,null,o),Ru(i)}function Jb(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,S=i.return;S!==null;)S.childLanes|=u,m=S.alternate,m!==null&&(m.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(v=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,v&&o!==null&&(v=31-Ne(u),i=S.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),S):null}function Ru(i){if(50<fs)throw fs=0,hp=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Eo={};function rR(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(i,o,u,m){return new rR(i,o,u,m)}function lm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xr(i,o){var u=i.alternate;return u===null?(u=Bn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Xb(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Iu(i,o,u,m,v,S){var _=0;if(m=i,typeof i=="function")lm(i)&&(_=1);else if(typeof i=="string")_=sI(i,u,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=Bn(31,u,o,v),i.elementType=$,i.lanes=S,i;case A:return _a(u.children,v,S,o);case C:_=8,v|=24;break;case N:return i=Bn(12,u,o,v|2),i.elementType=N,i.lanes=S,i;case I:return i=Bn(13,u,o,v),i.elementType=I,i.lanes=S,i;case k:return i=Bn(19,u,o,v),i.elementType=k,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:_=10;break e;case R:_=9;break e;case M:_=11;break e;case j:_=14;break e;case q:_=16,m=null;break e}_=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=Bn(_,u,o,v),o.elementType=i,o.type=m,o.lanes=S,o}function _a(i,o,u,m){return i=Bn(7,i,m,o),i.lanes=u,i}function sm(i,o,u){return i=Bn(6,i,null,o),i.lanes=u,i}function Wb(i){var o=Bn(18,null,null,0);return o.stateNode=i,o}function um(i,o,u){return o=Bn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Zb=new WeakMap;function ar(i,o){if(typeof i=="object"&&i!==null){var u=Zb.get(i);return u!==void 0?u:(o={value:i,source:o,stack:tt(o)},Zb.set(i,o),o)}return{value:i,source:o,stack:tt(o)}}var To=[],Co=0,ku=null,$l=0,or=[],lr=0,Ii=null,Lr=1,Ur="";function Wr(i,o){To[Co++]=$l,To[Co++]=ku,ku=i,$l=o}function Qb(i,o,u){or[lr++]=Lr,or[lr++]=Ur,or[lr++]=Ii,Ii=i;var m=Lr;i=Ur;var v=32-Ne(m)-1;m&=~(1<<v),u+=1;var S=32-Ne(o)+v;if(30<S){var _=v-v%5;S=(m&(1<<_)-1).toString(32),m>>=_,v-=_,Lr=1<<32-Ne(o)+v|u<<v|m,Ur=S+i}else Lr=1<<S|u<<v|m,Ur=i}function cm(i){i.return!==null&&(Wr(i,1),Qb(i,1,0))}function fm(i){for(;i===ku;)ku=To[--Co],To[Co]=null,$l=To[--Co],To[Co]=null;for(;i===Ii;)Ii=or[--lr],or[lr]=null,Ur=or[--lr],or[lr]=null,Lr=or[--lr],or[lr]=null}function ex(i,o){or[lr++]=Lr,or[lr++]=Ur,or[lr++]=Ii,Lr=o.id,Ur=o.overflow,Ii=i}var nn=null,gt=null,Ge=!1,ki=null,sr=!1,dm=Error(r(519));function ji(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(ar(o,i)),dm}function tx(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[tn]=i,o[Mn]=m,u){case"dialog":Be("cancel",o),Be("close",o);break;case"iframe":case"object":case"embed":Be("load",o);break;case"video":case"audio":for(u=0;u<ms.length;u++)Be(ms[u],o);break;case"source":Be("error",o);break;case"img":case"image":case"link":Be("error",o),Be("load",o);break;case"details":Be("toggle",o);break;case"input":Be("invalid",o),pb(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Be("invalid",o);break;case"textarea":Be("invalid",o),gb(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||y1(o.textContent,u)?(m.popover!=null&&(Be("beforetoggle",o),Be("toggle",o)),m.onScroll!=null&&Be("scroll",o),m.onScrollEnd!=null&&Be("scrollend",o),m.onClick!=null&&(o.onclick=Yr),o=!0):o=!1,o||ji(i,!0)}function nx(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:nn=nn.return}}function _o(i){if(i!==nn)return!1;if(!Ge)return nx(i),Ge=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Dp(i.type,i.memoizedProps)),u=!u),u&&gt&&ji(i),nx(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));gt=_1(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));gt=_1(i)}else o===27?(o=gt,Xi(i.type)?(i=kp,kp=null,gt=i):gt=o):gt=nn?cr(i.stateNode.nextSibling):null;return!0}function Na(){gt=nn=null,Ge=!1}function mm(){var i=ki;return i!==null&&(In===null?In=i:In.push.apply(In,i),ki=null),i}function Vl(i){ki===null?ki=[i]:ki.push(i)}var pm=L(null),Ma=null,Zr=null;function Li(i,o,u){pe(pm,o._currentValue),o._currentValue=u}function Qr(i){i._currentValue=pm.current,Z(pm)}function hm(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function gm(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var S=v.dependencies;if(S!==null){var _=v.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=v;for(var U=0;U<o.length;U++)if(D.context===o[U]){S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),hm(S.return,u,i),m||(_=null);break e}S=D.next}}else if(v.tag===18){if(_=v.return,_===null)throw Error(r(341));_.lanes|=u,S=_.alternate,S!==null&&(S.lanes|=u),hm(_,u,i),_=null}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===i){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}}function No(i,o,u,m){i=null;for(var v=o,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var _=v.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var D=v.type;qn(v.pendingProps.value,_.value)||(i!==null?i.push(D):i=[D])}}else if(v===Oe.current){if(_=v.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(ys):i=[ys])}v=v.return}i!==null&&gm(o,i,u,m),o.flags|=262144}function ju(i){for(i=i.firstContext;i!==null;){if(!qn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Da(i){Ma=i,Zr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return rx(Ma,i)}function Lu(i,o){return Ma===null&&Da(i),rx(i,o)}function rx(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Zr===null){if(i===null)throw Error(r(308));Zr=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Zr=Zr.next=o;return u}var iR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},aR=e.unstable_scheduleCallback,oR=e.unstable_NormalPriority,kt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new iR,data:new Map,refCount:0}}function Fl(i){i.refCount--,i.refCount===0&&aR(oR,function(){i.controller.abort()})}var Kl=null,ym=0,Mo=0,Do=null;function lR(i,o){if(Kl===null){var u=Kl=[];ym=0,Mo=Sp(),Do={status:"pending",value:void 0,then:function(m){u.push(m)}}}return ym++,o.then(ix,ix),o}function ix(){if(--ym===0&&Kl!==null){Do!==null&&(Do.status="fulfilled");var i=Kl;Kl=null,Mo=0,Do=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function sR(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var ax=B.S;B.S=function(i,o){HS=zt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&lR(i,o),ax!==null&&ax(i,o)};var Pa=L(null);function bm(){var i=Pa.current;return i!==null?i:dt.pooledCache}function Uu(i,o){o===null?pe(Pa,Pa.current):pe(Pa,o.pool)}function ox(){var i=bm();return i===null?null:{parent:kt._currentValue,pool:i}}var Po=Error(r(460)),xm=Error(r(474)),qu=Error(r(542)),Bu={then:function(){}};function lx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function sx(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Yr,Yr),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,cx(i),i;default:if(typeof o.status=="string")o.then(Yr,Yr);else{if(i=dt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,cx(i),i}throw Ra=o,Po}}function Oa(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ra=u,Po):u}}var Ra=null;function ux(){if(Ra===null)throw Error(r(459));var i=Ra;return Ra=null,i}function cx(i){if(i===Po||i===qu)throw Error(r(483))}var Oo=null,Yl=0;function zu(i){var o=Yl;return Yl+=1,Oo===null&&(Oo=[]),sx(Oo,i,o)}function Jl(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Hu(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function fx(i){function o(F,z){if(i){var J=F.deletions;J===null?(F.deletions=[z],F.flags|=16):J.push(z)}}function u(F,z){if(!i)return null;for(;z!==null;)o(F,z),z=z.sibling;return null}function m(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function v(F,z){return F=Xr(F,z),F.index=0,F.sibling=null,F}function S(F,z,J){return F.index=J,i?(J=F.alternate,J!==null?(J=J.index,J<z?(F.flags|=67108866,z):J):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function _(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function D(F,z,J,ue){return z===null||z.tag!==6?(z=sm(J,F.mode,ue),z.return=F,z):(z=v(z,J),z.return=F,z)}function U(F,z,J,ue){var De=J.type;return De===A?se(F,z,J.props.children,ue,J.key):z!==null&&(z.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&Oa(De)===z.type)?(z=v(z,J.props),Jl(z,J),z.return=F,z):(z=Iu(J.type,J.key,J.props,null,F.mode,ue),Jl(z,J),z.return=F,z)}function X(F,z,J,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==J.containerInfo||z.stateNode.implementation!==J.implementation?(z=um(J,F.mode,ue),z.return=F,z):(z=v(z,J.children||[]),z.return=F,z)}function se(F,z,J,ue,De){return z===null||z.tag!==7?(z=_a(J,F.mode,ue,De),z.return=F,z):(z=v(z,J),z.return=F,z)}function ce(F,z,J){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=sm(""+z,F.mode,J),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return J=Iu(z.type,z.key,z.props,null,F.mode,J),Jl(J,z),J.return=F,J;case E:return z=um(z,F.mode,J),z.return=F,z;case q:return z=Oa(z),ce(F,z,J)}if(me(z)||G(z))return z=_a(z,F.mode,J,null),z.return=F,z;if(typeof z.then=="function")return ce(F,zu(z),J);if(z.$$typeof===P)return ce(F,Lu(F,z),J);Hu(F,z)}return null}function ee(F,z,J,ue){var De=z!==null?z.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return De!==null?null:D(F,z,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===De?U(F,z,J,ue):null;case E:return J.key===De?X(F,z,J,ue):null;case q:return J=Oa(J),ee(F,z,J,ue)}if(me(J)||G(J))return De!==null?null:se(F,z,J,ue,null);if(typeof J.then=="function")return ee(F,z,zu(J),ue);if(J.$$typeof===P)return ee(F,z,Lu(F,J),ue);Hu(F,J)}return null}function ie(F,z,J,ue,De){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return F=F.get(J)||null,D(z,F,""+ue,De);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return F=F.get(ue.key===null?J:ue.key)||null,U(z,F,ue,De);case E:return F=F.get(ue.key===null?J:ue.key)||null,X(z,F,ue,De);case q:return ue=Oa(ue),ie(F,z,J,ue,De)}if(me(ue)||G(ue))return F=F.get(J)||null,se(z,F,ue,De,null);if(typeof ue.then=="function")return ie(F,z,J,zu(ue),De);if(ue.$$typeof===P)return ie(F,z,J,Lu(z,ue),De);Hu(z,ue)}return null}function we(F,z,J,ue){for(var De=null,Fe=null,_e=z,je=z=0,He=null;_e!==null&&je<J.length;je++){_e.index>je?(He=_e,_e=null):He=_e.sibling;var Ke=ee(F,_e,J[je],ue);if(Ke===null){_e===null&&(_e=He);break}i&&_e&&Ke.alternate===null&&o(F,_e),z=S(Ke,z,je),Fe===null?De=Ke:Fe.sibling=Ke,Fe=Ke,_e=He}if(je===J.length)return u(F,_e),Ge&&Wr(F,je),De;if(_e===null){for(;je<J.length;je++)_e=ce(F,J[je],ue),_e!==null&&(z=S(_e,z,je),Fe===null?De=_e:Fe.sibling=_e,Fe=_e);return Ge&&Wr(F,je),De}for(_e=m(_e);je<J.length;je++)He=ie(_e,F,je,J[je],ue),He!==null&&(i&&He.alternate!==null&&_e.delete(He.key===null?je:He.key),z=S(He,z,je),Fe===null?De=He:Fe.sibling=He,Fe=He);return i&&_e.forEach(function(ta){return o(F,ta)}),Ge&&Wr(F,je),De}function Pe(F,z,J,ue){if(J==null)throw Error(r(151));for(var De=null,Fe=null,_e=z,je=z=0,He=null,Ke=J.next();_e!==null&&!Ke.done;je++,Ke=J.next()){_e.index>je?(He=_e,_e=null):He=_e.sibling;var ta=ee(F,_e,Ke.value,ue);if(ta===null){_e===null&&(_e=He);break}i&&_e&&ta.alternate===null&&o(F,_e),z=S(ta,z,je),Fe===null?De=ta:Fe.sibling=ta,Fe=ta,_e=He}if(Ke.done)return u(F,_e),Ge&&Wr(F,je),De;if(_e===null){for(;!Ke.done;je++,Ke=J.next())Ke=ce(F,Ke.value,ue),Ke!==null&&(z=S(Ke,z,je),Fe===null?De=Ke:Fe.sibling=Ke,Fe=Ke);return Ge&&Wr(F,je),De}for(_e=m(_e);!Ke.done;je++,Ke=J.next())Ke=ie(_e,F,je,Ke.value,ue),Ke!==null&&(i&&Ke.alternate!==null&&_e.delete(Ke.key===null?je:Ke.key),z=S(Ke,z,je),Fe===null?De=Ke:Fe.sibling=Ke,Fe=Ke);return i&&_e.forEach(function(bI){return o(F,bI)}),Ge&&Wr(F,je),De}function ct(F,z,J,ue){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var De=J.key;z!==null;){if(z.key===De){if(De=J.type,De===A){if(z.tag===7){u(F,z.sibling),ue=v(z,J.props.children),ue.return=F,F=ue;break e}}else if(z.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&Oa(De)===z.type){u(F,z.sibling),ue=v(z,J.props),Jl(ue,J),ue.return=F,F=ue;break e}u(F,z);break}else o(F,z);z=z.sibling}J.type===A?(ue=_a(J.props.children,F.mode,ue,J.key),ue.return=F,F=ue):(ue=Iu(J.type,J.key,J.props,null,F.mode,ue),Jl(ue,J),ue.return=F,F=ue)}return _(F);case E:e:{for(De=J.key;z!==null;){if(z.key===De)if(z.tag===4&&z.stateNode.containerInfo===J.containerInfo&&z.stateNode.implementation===J.implementation){u(F,z.sibling),ue=v(z,J.children||[]),ue.return=F,F=ue;break e}else{u(F,z);break}else o(F,z);z=z.sibling}ue=um(J,F.mode,ue),ue.return=F,F=ue}return _(F);case q:return J=Oa(J),ct(F,z,J,ue)}if(me(J))return we(F,z,J,ue);if(G(J)){if(De=G(J),typeof De!="function")throw Error(r(150));return J=De.call(J),Pe(F,z,J,ue)}if(typeof J.then=="function")return ct(F,z,zu(J),ue);if(J.$$typeof===P)return ct(F,z,Lu(F,J),ue);Hu(F,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,z!==null&&z.tag===6?(u(F,z.sibling),ue=v(z,J),ue.return=F,F=ue):(u(F,z),ue=sm(J,F.mode,ue),ue.return=F,F=ue),_(F)):u(F,z)}return function(F,z,J,ue){try{Yl=0;var De=ct(F,z,J,ue);return Oo=null,De}catch(_e){if(_e===Po||_e===qu)throw _e;var Fe=Bn(29,_e,null,F.mode);return Fe.lanes=ue,Fe.return=F,Fe}finally{}}}var Ia=fx(!0),dx=fx(!1),Ui=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Bi(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Qe&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Ru(i),Jb(i,null,u),o}return Ou(i,m,o,u),Ru(i)}function Xl(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,rb(i,u)}}function Am(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var _={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?v=S=_:S=S.next=_,u=u.next}while(u!==null);S===null?v=S=o:S=S.next=o}else v=S=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Em=!1;function Wl(){if(Em){var i=Do;if(i!==null)throw i}}function Zl(i,o,u,m){Em=!1;var v=i.updateQueue;Ui=!1;var S=v.firstBaseUpdate,_=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var U=D,X=U.next;U.next=null,_===null?S=X:_.next=X,_=U;var se=i.alternate;se!==null&&(se=se.updateQueue,D=se.lastBaseUpdate,D!==_&&(D===null?se.firstBaseUpdate=X:D.next=X,se.lastBaseUpdate=U))}if(S!==null){var ce=v.baseState;_=0,se=X=U=null,D=S;do{var ee=D.lane&-536870913,ie=ee!==D.lane;if(ie?(ze&ee)===ee:(m&ee)===ee){ee!==0&&ee===Mo&&(Em=!0),se!==null&&(se=se.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var we=i,Pe=D;ee=o;var ct=u;switch(Pe.tag){case 1:if(we=Pe.payload,typeof we=="function"){ce=we.call(ct,ce,ee);break e}ce=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Pe.payload,ee=typeof we=="function"?we.call(ct,ce,ee):we,ee==null)break e;ce=h({},ce,ee);break e;case 2:Ui=!0}}ee=D.callback,ee!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=v.callbacks,ie===null?v.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},se===null?(X=se=ie,U=ce):se=se.next=ie,_|=ee;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ie=D,D=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);se===null&&(U=ce),v.baseState=U,v.firstBaseUpdate=X,v.lastBaseUpdate=se,S===null&&(v.shared.lanes=0),Vi|=_,i.lanes=_,i.memoizedState=ce}}function mx(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function px(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)mx(u[i],o)}var Ro=L(null),Gu=L(0);function hx(i,o){i=si,pe(Gu,i),pe(Ro,o),si=i|o.baseLanes}function Tm(){pe(Gu,si),pe(Ro,Ro.current)}function Cm(){si=Gu.current,Z(Ro),Z(Gu)}var zn=L(null),ur=null;function zi(i){var o=i.alternate;pe(Ot,Ot.current&1),pe(zn,i),ur===null&&(o===null||Ro.current!==null||o.memoizedState!==null)&&(ur=i)}function _m(i){pe(Ot,Ot.current),pe(zn,i),ur===null&&(ur=i)}function gx(i){i.tag===22?(pe(Ot,Ot.current),pe(zn,i),ur===null&&(ur=i)):Hi()}function Hi(){pe(Ot,Ot.current),pe(zn,zn.current)}function Hn(i){Z(zn),ur===i&&(ur=null),Z(Ot)}var Ot=L(0);function $u(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Rp(u)||Ip(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ei=0,ke=null,st=null,jt=null,Vu=!1,Io=!1,ka=!1,Fu=0,Ql=0,ko=null,uR=0;function Mt(){throw Error(r(321))}function Nm(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!qn(i[u],o[u]))return!1;return!0}function Mm(i,o,u,m,v,S){return ei=S,ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?Qx:$m,ka=!1,S=u(m,v),ka=!1,Io&&(S=yx(o,u,m,v)),vx(i),S}function vx(i){B.H=ns;var o=st!==null&&st.next!==null;if(ei=0,jt=st=ke=null,Vu=!1,Ql=0,ko=null,o)throw Error(r(300));i===null||Lt||(i=i.dependencies,i!==null&&ju(i)&&(Lt=!0))}function yx(i,o,u,m){ke=i;var v=0;do{if(Io&&(ko=null),Ql=0,Io=!1,25<=v)throw Error(r(301));if(v+=1,jt=st=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=eS,S=o(u,m)}while(Io);return S}function cR(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?es(o):o,i=i.useState()[0],(st!==null?st.memoizedState:null)!==i&&(ke.flags|=1024),o}function Dm(){var i=Fu!==0;return Fu=0,i}function Pm(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Om(i){if(Vu){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Vu=!1}ei=0,jt=st=ke=null,Io=!1,Ql=Fu=0,ko=null}function xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ke.memoizedState=jt=i:jt=jt.next=i,jt}function Rt(){if(st===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=st.next;var o=jt===null?ke.memoizedState:jt.next;if(o!==null)jt=o,st=i;else{if(i===null)throw ke.alternate===null?Error(r(467)):Error(r(310));st=i,i={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},jt===null?ke.memoizedState=jt=i:jt=jt.next=i}return jt}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function es(i){var o=Ql;return Ql+=1,ko===null&&(ko=[]),i=sx(ko,i,o),o=ke,(jt===null?o.memoizedState:jt.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?Qx:$m),i}function Yu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return es(i);if(i.$$typeof===P)return rn(i)}throw Error(r(438,String(i)))}function Rm(i){var o=null,u=ke.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=ke.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Ku(),ke.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=te;return o.index++,u}function ti(i,o){return typeof o=="function"?o(i):o}function Ju(i){var o=Rt();return Im(o,st,i)}function Im(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,S=m.pending;if(S!==null){if(v!==null){var _=v.next;v.next=S.next,S.next=_}o.baseQueue=v=S,m.pending=null}if(S=i.baseState,v===null)i.memoizedState=S;else{o=v.next;var D=_=null,U=null,X=o,se=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(ze&ce)===ce:(ei&ce)===ce){var ee=X.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===Mo&&(se=!0);else if((ei&ee)===ee){X=X.next,ee===Mo&&(se=!0);continue}else ce={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(D=U=ce,_=S):U=U.next=ce,ke.lanes|=ee,Vi|=ee;ce=X.action,ka&&u(S,ce),S=X.hasEagerState?X.eagerState:u(S,ce)}else ee={lane:ce,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(D=U=ee,_=S):U=U.next=ee,ke.lanes|=ce,Vi|=ce;X=X.next}while(X!==null&&X!==o);if(U===null?_=S:U.next=D,!qn(S,i.memoizedState)&&(Lt=!0,se&&(u=Do,u!==null)))throw u;i.memoizedState=S,i.baseState=_,i.baseQueue=U,m.lastRenderedState=S}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function km(i){var o=Rt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,S=o.memoizedState;if(v!==null){u.pending=null;var _=v=v.next;do S=i(S,_.action),_=_.next;while(_!==v);qn(S,o.memoizedState)||(Lt=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),u.lastRenderedState=S}return[S,m]}function bx(i,o,u){var m=ke,v=Rt(),S=Ge;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=o();var _=!qn((st||v).memoizedState,u);if(_&&(v.memoizedState=u,Lt=!0),v=v.queue,Um(wx.bind(null,m,v,i),[i]),v.getSnapshot!==o||_||jt!==null&&jt.memoizedState.tag&1){if(m.flags|=2048,jo(9,{destroy:void 0},Sx.bind(null,m,v,u,o),null),dt===null)throw Error(r(349));S||(ei&127)!==0||xx(m,o,u)}return u}function xx(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ke.updateQueue,o===null?(o=Ku(),ke.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Sx(i,o,u,m){o.value=u,o.getSnapshot=m,Ax(o)&&Ex(i)}function wx(i,o,u){return u(function(){Ax(o)&&Ex(i)})}function Ax(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!qn(i,u)}catch{return!0}}function Ex(i){var o=Ca(i,2);o!==null&&kn(o,i,2)}function jm(i){var o=xn();if(typeof i=="function"){var u=i;if(i=u(),ka){ve(!0);try{u()}finally{ve(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:i},o}function Tx(i,o,u,m){return i.baseState=u,Im(i,st,typeof m=="function"?m:ti)}function fR(i,o,u,m,v){if(Zu(i))throw Error(r(485));if(i=o.action,i!==null){var S={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){S.listeners.push(_)}};B.T!==null?u(!0):S.isTransition=!1,m(S),u=o.pending,u===null?(S.next=o.pending=S,Cx(o,S)):(S.next=u.next,o.pending=u.next=S)}}function Cx(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var S=B.T,_={};B.T=_;try{var D=u(v,m),U=B.S;U!==null&&U(_,D),_x(i,o,D)}catch(X){Lm(i,o,X)}finally{S!==null&&_.types!==null&&(S.types=_.types),B.T=S}}else try{S=u(v,m),_x(i,o,S)}catch(X){Lm(i,o,X)}}function _x(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){Nx(i,o,m)},function(m){return Lm(i,o,m)}):Nx(i,o,u)}function Nx(i,o,u){o.status="fulfilled",o.value=u,Mx(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,Cx(i,u)))}function Lm(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,Mx(o),o=o.next;while(o!==m)}i.action=null}function Mx(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Dx(i,o){return o}function Px(i,o){if(Ge){var u=dt.formState;if(u!==null){e:{var m=ke;if(Ge){if(gt){t:{for(var v=gt,S=sr;v.nodeType!==8;){if(!S){v=null;break t}if(v=cr(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){gt=cr(v.nextSibling),m=v.data==="F!";break e}}ji(m)}m=!1}m&&(o=u[0])}}return u=xn(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dx,lastRenderedState:o},u.queue=m,u=Xx.bind(null,ke,m),m.dispatch=u,m=jm(!1),S=Gm.bind(null,ke,!1,m.queue),m=xn(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=fR.bind(null,ke,v,S,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function Ox(i){var o=Rt();return Rx(o,st,i)}function Rx(i,o,u){if(o=Im(i,o,Dx)[0],i=Ju(ti)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=es(o)}catch(_){throw _===Po?qu:_}else m=o;o=Rt();var v=o.queue,S=v.dispatch;return u!==o.memoizedState&&(ke.flags|=2048,jo(9,{destroy:void 0},dR.bind(null,v,u),null)),[m,S,i]}function dR(i,o){i.action=o}function Ix(i){var o=Rt(),u=st;if(u!==null)return Rx(o,u,i);Rt(),o=o.memoizedState,u=Rt();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function jo(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=ke.updateQueue,o===null&&(o=Ku(),ke.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function kx(){return Rt().memoizedState}function Xu(i,o,u,m){var v=xn();ke.flags|=i,v.memoizedState=jo(1|o,{destroy:void 0},u,m===void 0?null:m)}function Wu(i,o,u,m){var v=Rt();m=m===void 0?null:m;var S=v.memoizedState.inst;st!==null&&m!==null&&Nm(m,st.memoizedState.deps)?v.memoizedState=jo(o,S,u,m):(ke.flags|=i,v.memoizedState=jo(1|o,S,u,m))}function jx(i,o){Xu(8390656,8,i,o)}function Um(i,o){Wu(2048,8,i,o)}function mR(i){ke.flags|=4;var o=ke.updateQueue;if(o===null)o=Ku(),ke.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function Lx(i){var o=Rt().memoizedState;return mR({ref:o,nextImpl:i}),function(){if((Qe&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Ux(i,o){return Wu(4,2,i,o)}function qx(i,o){return Wu(4,4,i,o)}function Bx(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zx(i,o,u){u=u!=null?u.concat([i]):null,Wu(4,4,Bx.bind(null,o,i),u)}function qm(){}function Hx(i,o){var u=Rt();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Nm(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function Gx(i,o){var u=Rt();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Nm(o,m[1]))return m[0];if(m=i(),ka){ve(!0);try{i()}finally{ve(!1)}}return u.memoizedState=[m,o],m}function Bm(i,o,u){return u===void 0||(ei&1073741824)!==0&&(ze&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=$S(),ke.lanes|=i,Vi|=i,u)}function $x(i,o,u,m){return qn(u,o)?u:Ro.current!==null?(i=Bm(i,u,m),qn(i,o)||(Lt=!0),i):(ei&42)===0||(ei&1073741824)!==0&&(ze&261930)===0?(Lt=!0,i.memoizedState=u):(i=$S(),ke.lanes|=i,Vi|=i,o)}function Vx(i,o,u,m,v){var S=ne.p;ne.p=S!==0&&8>S?S:8;var _=B.T,D={};B.T=D,Gm(i,!1,o,u);try{var U=v(),X=B.S;if(X!==null&&X(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var se=sR(U,m);ts(i,o,se,Vn(i))}else ts(i,o,m,Vn(i))}catch(ce){ts(i,o,{then:function(){},status:"rejected",reason:ce},Vn())}finally{ne.p=S,_!==null&&D.types!==null&&(_.types=D.types),B.T=_}}function pR(){}function zm(i,o,u,m){if(i.tag!==5)throw Error(r(476));var v=Fx(i).queue;Vx(i,v,o,H,u===null?pR:function(){return Kx(i),u(m)})}function Fx(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Kx(i){var o=Fx(i);o.next===null&&(o=i.alternate.memoizedState),ts(i,o.next.queue,{},Vn())}function Hm(){return rn(ys)}function Yx(){return Rt().memoizedState}function Jx(){return Rt().memoizedState}function hR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Vn();i=qi(u);var m=Bi(o,i,u);m!==null&&(kn(m,o,u),Xl(m,o,u)),o={cache:vm()},i.payload=o;return}o=o.return}}function gR(i,o,u){var m=Vn();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Zu(i)?Wx(o,u):(u=om(i,o,u,m),u!==null&&(kn(u,i,m),Zx(u,o,m)))}function Xx(i,o,u){var m=Vn();ts(i,o,u,m)}function ts(i,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zu(i))Wx(o,v);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var _=o.lastRenderedState,D=S(_,u);if(v.hasEagerState=!0,v.eagerState=D,qn(D,_))return Ou(i,o,v,0),dt===null&&Pu(),!1}catch{}finally{}if(u=om(i,o,v,m),u!==null)return kn(u,i,m),Zx(u,o,m),!0}return!1}function Gm(i,o,u,m){if(m={lane:2,revertLane:Sp(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Zu(i)){if(o)throw Error(r(479))}else o=om(i,u,m,2),o!==null&&kn(o,i,2)}function Zu(i){var o=i.alternate;return i===ke||o!==null&&o===ke}function Wx(i,o){Io=Vu=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Zx(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,rb(i,u)}}var ns={readContext:rn,use:Yu,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};ns.useEffectEvent=Mt;var Qx={readContext:rn,use:Yu,useCallback:function(i,o){return xn().memoizedState=[i,o===void 0?null:o],i},useContext:rn,useEffect:jx,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Xu(4194308,4,Bx.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Xu(4194308,4,i,o)},useInsertionEffect:function(i,o){Xu(4,2,i,o)},useMemo:function(i,o){var u=xn();o=o===void 0?null:o;var m=i();if(ka){ve(!0);try{i()}finally{ve(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=xn();if(u!==void 0){var v=u(o);if(ka){ve(!0);try{u(o)}finally{ve(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=gR.bind(null,ke,i),[m.memoizedState,i]},useRef:function(i){var o=xn();return i={current:i},o.memoizedState=i},useState:function(i){i=jm(i);var o=i.queue,u=Xx.bind(null,ke,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:qm,useDeferredValue:function(i,o){var u=xn();return Bm(u,i,o)},useTransition:function(){var i=jm(!1);return i=Vx.bind(null,ke,i.queue,!0,!1),xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=ke,v=xn();if(Ge){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),dt===null)throw Error(r(349));(ze&127)!==0||xx(m,o,u)}v.memoizedState=u;var S={value:u,getSnapshot:o};return v.queue=S,jx(wx.bind(null,m,S,i),[i]),m.flags|=2048,jo(9,{destroy:void 0},Sx.bind(null,m,S,u,o),null),u},useId:function(){var i=xn(),o=dt.identifierPrefix;if(Ge){var u=Ur,m=Lr;u=(m&~(1<<32-Ne(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Fu++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=uR++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Hm,useFormState:Px,useActionState:Px,useOptimistic:function(i){var o=xn();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Gm.bind(null,ke,!0,u),u.dispatch=o,[i,o]},useMemoCache:Rm,useCacheRefresh:function(){return xn().memoizedState=hR.bind(null,ke)},useEffectEvent:function(i){var o=xn(),u={impl:i};return o.memoizedState=u,function(){if((Qe&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},$m={readContext:rn,use:Yu,useCallback:Hx,useContext:rn,useEffect:Um,useImperativeHandle:zx,useInsertionEffect:Ux,useLayoutEffect:qx,useMemo:Gx,useReducer:Ju,useRef:kx,useState:function(){return Ju(ti)},useDebugValue:qm,useDeferredValue:function(i,o){var u=Rt();return $x(u,st.memoizedState,i,o)},useTransition:function(){var i=Ju(ti)[0],o=Rt().memoizedState;return[typeof i=="boolean"?i:es(i),o]},useSyncExternalStore:bx,useId:Yx,useHostTransitionStatus:Hm,useFormState:Ox,useActionState:Ox,useOptimistic:function(i,o){var u=Rt();return Tx(u,st,i,o)},useMemoCache:Rm,useCacheRefresh:Jx};$m.useEffectEvent=Lx;var eS={readContext:rn,use:Yu,useCallback:Hx,useContext:rn,useEffect:Um,useImperativeHandle:zx,useInsertionEffect:Ux,useLayoutEffect:qx,useMemo:Gx,useReducer:km,useRef:kx,useState:function(){return km(ti)},useDebugValue:qm,useDeferredValue:function(i,o){var u=Rt();return st===null?Bm(u,i,o):$x(u,st.memoizedState,i,o)},useTransition:function(){var i=km(ti)[0],o=Rt().memoizedState;return[typeof i=="boolean"?i:es(i),o]},useSyncExternalStore:bx,useId:Yx,useHostTransitionStatus:Hm,useFormState:Ix,useActionState:Ix,useOptimistic:function(i,o){var u=Rt();return st!==null?Tx(u,st,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:Jx};eS.useEffectEvent=Lx;function Vm(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:h({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Fm={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=Vn(),v=qi(m);v.payload=o,u!=null&&(v.callback=u),o=Bi(i,v,m),o!==null&&(kn(o,i,m),Xl(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=Vn(),v=qi(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Bi(i,v,m),o!==null&&(kn(o,i,m),Xl(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Vn(),m=qi(u);m.tag=2,o!=null&&(m.callback=o),o=Bi(i,m,u),o!==null&&(kn(o,i,u),Xl(o,i,u))}};function tS(i,o,u,m,v,S,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,S,_):o.prototype&&o.prototype.isPureReactComponent?!Hl(u,m)||!Hl(v,S):!0}function nS(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Fm.enqueueReplaceState(o,o.state,null)}function ja(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=h({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function rS(i){Du(i)}function iS(i){console.error(i)}function aS(i){Du(i)}function Qu(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function oS(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Km(i,o,u){return u=qi(u),u.tag=3,u.payload={element:null},u.callback=function(){Qu(i,o)},u}function lS(i){return i=qi(i),i.tag=3,i}function sS(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var S=m.value;i.payload=function(){return v(S)},i.callback=function(){oS(o,u,m)}}var _=u.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){oS(o,u,m),typeof v!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var D=m.stack;this.componentDidCatch(m.value,{componentStack:D!==null?D:""})})}function vR(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&No(o,u,v,!0),u=zn.current,u!==null){switch(u.tag){case 31:case 13:return ur===null?fc():u.alternate===null&&Dt===0&&(Dt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===Bu?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),yp(i,m,v)),!1;case 22:return u.flags|=65536,m===Bu?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),yp(i,m,v)),!1}throw Error(r(435,u.tag))}return yp(i,m,v),fc(),!1}if(Ge)return o=zn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==dm&&(i=Error(r(422),{cause:m}),Vl(ar(i,u)))):(m!==dm&&(o=Error(r(423),{cause:m}),Vl(ar(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=ar(m,u),v=Km(i.stateNode,m,v),Am(i,v),Dt!==4&&(Dt=2)),!1;var S=Error(r(520),{cause:m});if(S=ar(S,u),cs===null?cs=[S]:cs.push(S),Dt!==4&&(Dt=2),o===null)return!0;m=ar(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Km(u.stateNode,m,i),Am(u,i),!1;case 1:if(o=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fi===null||!Fi.has(S))))return u.flags|=65536,v&=-v,u.lanes|=v,v=lS(v),sS(v,i,u,m),Am(u,v),!1}u=u.return}while(u!==null);return!1}var Ym=Error(r(461)),Lt=!1;function an(i,o,u,m){o.child=i===null?dx(o,null,u,m):Ia(o,i.child,u,m)}function uS(i,o,u,m,v){u=u.render;var S=o.ref;if("ref"in m){var _={};for(var D in m)D!=="ref"&&(_[D]=m[D])}else _=m;return Da(o),m=Mm(i,o,u,_,S,v),D=Dm(),i!==null&&!Lt?(Pm(i,o,v),ni(i,o,v)):(Ge&&D&&cm(o),o.flags|=1,an(i,o,m,v),o.child)}function cS(i,o,u,m,v){if(i===null){var S=u.type;return typeof S=="function"&&!lm(S)&&S.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=S,fS(i,o,S,m,v)):(i=Iu(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!np(i,v)){var _=S.memoizedProps;if(u=u.compare,u=u!==null?u:Hl,u(_,m)&&i.ref===o.ref)return ni(i,o,v)}return o.flags|=1,i=Xr(S,m),i.ref=o.ref,i.return=o,o.child=i}function fS(i,o,u,m,v){if(i!==null){var S=i.memoizedProps;if(Hl(S,m)&&i.ref===o.ref)if(Lt=!1,o.pendingProps=m=S,np(i,v))(i.flags&131072)!==0&&(Lt=!0);else return o.lanes=i.lanes,ni(i,o,v)}return Jm(i,o,u,m,v)}function dS(i,o,u,m){var v=m.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~S}else m=0,o.child=null;return mS(i,o,S,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Uu(o,S!==null?S.cachePool:null),S!==null?hx(o,S):Tm(),gx(o);else return m=o.lanes=536870912,mS(i,o,S!==null?S.baseLanes|u:u,u,m)}else S!==null?(Uu(o,S.cachePool),hx(o,S),Hi(),o.memoizedState=null):(i!==null&&Uu(o,null),Tm(),Hi());return an(i,o,v,u),o.child}function rs(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function mS(i,o,u,m,v){var S=bm();return S=S===null?null:{parent:kt._currentValue,pool:S},o.memoizedState={baseLanes:u,cachePool:S},i!==null&&Uu(o,null),Tm(),gx(o),i!==null&&No(i,o,m,!0),o.childLanes=v,null}function ec(i,o){return o=nc({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function pS(i,o,u){return Ia(o,i.child,null,u),i=ec(o,o.pendingProps),i.flags|=2,Hn(o),o.memoizedState=null,i}function yR(i,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Ge){if(m.mode==="hidden")return i=ec(o,m),o.lanes=536870912,rs(null,i);if(_m(o),(i=gt)?(i=C1(i,sr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ii!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},u=Wb(i),u.return=o,o.child=u,nn=o,gt=null)):i=null,i===null)throw ji(o);return o.lanes=536870912,null}return ec(o,m)}var S=i.memoizedState;if(S!==null){var _=S.dehydrated;if(_m(o),v)if(o.flags&256)o.flags&=-257,o=pS(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Lt||No(i,o,u,!1),v=(u&i.childLanes)!==0,Lt||v){if(m=dt,m!==null&&(_=ib(m,u),_!==0&&_!==S.retryLane))throw S.retryLane=_,Ca(i,_),kn(m,i,_),Ym;fc(),o=pS(i,o,u)}else i=S.treeContext,gt=cr(_.nextSibling),nn=o,Ge=!0,ki=null,sr=!1,i!==null&&ex(o,i),o=ec(o,m),o.flags|=4096;return o}return i=Xr(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function tc(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Jm(i,o,u,m,v){return Da(o),u=Mm(i,o,u,m,void 0,v),m=Dm(),i!==null&&!Lt?(Pm(i,o,v),ni(i,o,v)):(Ge&&m&&cm(o),o.flags|=1,an(i,o,u,v),o.child)}function hS(i,o,u,m,v,S){return Da(o),o.updateQueue=null,u=yx(o,m,u,v),vx(i),m=Dm(),i!==null&&!Lt?(Pm(i,o,S),ni(i,o,S)):(Ge&&m&&cm(o),o.flags|=1,an(i,o,u,S),o.child)}function gS(i,o,u,m,v){if(Da(o),o.stateNode===null){var S=Eo,_=u.contextType;typeof _=="object"&&_!==null&&(S=rn(_)),S=new u(m,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Fm,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=m,S.state=o.memoizedState,S.refs={},Sm(o),_=u.contextType,S.context=typeof _=="object"&&_!==null?rn(_):Eo,S.state=o.memoizedState,_=u.getDerivedStateFromProps,typeof _=="function"&&(Vm(o,u,_,m),S.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(_=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),_!==S.state&&Fm.enqueueReplaceState(S,S.state,null),Zl(o,m,S,v),Wl(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){S=o.stateNode;var D=o.memoizedProps,U=ja(u,D);S.props=U;var X=S.context,se=u.contextType;_=Eo,typeof se=="object"&&se!==null&&(_=rn(se));var ce=u.getDerivedStateFromProps;se=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||X!==_)&&nS(o,S,m,_),Ui=!1;var ee=o.memoizedState;S.state=ee,Zl(o,m,S,v),Wl(),X=o.memoizedState,D||ee!==X||Ui?(typeof ce=="function"&&(Vm(o,u,ce,m),X=o.memoizedState),(U=Ui||tS(o,u,U,m,ee,X,_))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=X),S.props=m,S.state=X,S.context=_,m=U):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{S=o.stateNode,wm(i,o),_=o.memoizedProps,se=ja(u,_),S.props=se,ce=o.pendingProps,ee=S.context,X=u.contextType,U=Eo,typeof X=="object"&&X!==null&&(U=rn(X)),D=u.getDerivedStateFromProps,(X=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==ce||ee!==U)&&nS(o,S,m,U),Ui=!1,ee=o.memoizedState,S.state=ee,Zl(o,m,S,v),Wl();var ie=o.memoizedState;_!==ce||ee!==ie||Ui||i!==null&&i.dependencies!==null&&ju(i.dependencies)?(typeof D=="function"&&(Vm(o,u,D,m),ie=o.memoizedState),(se=Ui||tS(o,u,se,m,ee,ie,U)||i!==null&&i.dependencies!==null&&ju(i.dependencies))?(X||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ie,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ie,U)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||_===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ie),S.props=m,S.state=ie,S.context=U,m=se):(typeof S.componentDidUpdate!="function"||_===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),m=!1)}return S=m,tc(i,o),m=(o.flags&128)!==0,S||m?(S=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&m?(o.child=Ia(o,i.child,null,v),o.child=Ia(o,null,u,v)):an(i,o,u,v),o.memoizedState=S.state,i=o.child):i=ni(i,o,v),i}function vS(i,o,u,m){return Na(),o.flags|=256,an(i,o,u,m),o.child}var Xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wm(i){return{baseLanes:i,cachePool:ox()}}function Zm(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=$n),i}function yS(i,o,u){var m=o.pendingProps,v=!1,S=(o.flags&128)!==0,_;if((_=S)||(_=i!==null&&i.memoizedState===null?!1:(Ot.current&2)!==0),_&&(v=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ge){if(v?zi(o):Hi(),(i=gt)?(i=C1(i,sr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ii!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},u=Wb(i),u.return=o,o.child=u,nn=o,gt=null)):i=null,i===null)throw ji(o);return Ip(i)?o.lanes=32:o.lanes=536870912,null}var D=m.children;return m=m.fallback,v?(Hi(),v=o.mode,D=nc({mode:"hidden",children:D},v),m=_a(m,v,u,null),D.return=o,m.return=o,D.sibling=m,o.child=D,m=o.child,m.memoizedState=Wm(u),m.childLanes=Zm(i,_,u),o.memoizedState=Xm,rs(null,m)):(zi(o),Qm(o,D))}var U=i.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(S)o.flags&256?(zi(o),o.flags&=-257,o=ep(i,o,u)):o.memoizedState!==null?(Hi(),o.child=i.child,o.flags|=128,o=null):(Hi(),D=m.fallback,v=o.mode,m=nc({mode:"visible",children:m.children},v),D=_a(D,v,u,null),D.flags|=2,m.return=o,D.return=o,m.sibling=D,o.child=m,Ia(o,i.child,null,u),m=o.child,m.memoizedState=Wm(u),m.childLanes=Zm(i,_,u),o.memoizedState=Xm,o=rs(null,m));else if(zi(o),Ip(D)){if(_=D.nextSibling&&D.nextSibling.dataset,_)var X=_.dgst;_=X,m=Error(r(419)),m.stack="",m.digest=_,Vl({value:m,source:null,stack:null}),o=ep(i,o,u)}else if(Lt||No(i,o,u,!1),_=(u&i.childLanes)!==0,Lt||_){if(_=dt,_!==null&&(m=ib(_,u),m!==0&&m!==U.retryLane))throw U.retryLane=m,Ca(i,m),kn(_,i,m),Ym;Rp(D)||fc(),o=ep(i,o,u)}else Rp(D)?(o.flags|=192,o.child=i.child,o=null):(i=U.treeContext,gt=cr(D.nextSibling),nn=o,Ge=!0,ki=null,sr=!1,i!==null&&ex(o,i),o=Qm(o,m.children),o.flags|=4096);return o}return v?(Hi(),D=m.fallback,v=o.mode,U=i.child,X=U.sibling,m=Xr(U,{mode:"hidden",children:m.children}),m.subtreeFlags=U.subtreeFlags&65011712,X!==null?D=Xr(X,D):(D=_a(D,v,u,null),D.flags|=2),D.return=o,m.return=o,m.sibling=D,o.child=m,rs(null,m),m=o.child,D=i.child.memoizedState,D===null?D=Wm(u):(v=D.cachePool,v!==null?(U=kt._currentValue,v=v.parent!==U?{parent:U,pool:U}:v):v=ox(),D={baseLanes:D.baseLanes|u,cachePool:v}),m.memoizedState=D,m.childLanes=Zm(i,_,u),o.memoizedState=Xm,rs(i.child,m)):(zi(o),u=i.child,i=u.sibling,u=Xr(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(_=o.deletions,_===null?(o.deletions=[i],o.flags|=16):_.push(i)),o.child=u,o.memoizedState=null,u)}function Qm(i,o){return o=nc({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function nc(i,o){return i=Bn(22,i,null,o),i.lanes=0,i}function ep(i,o,u){return Ia(o,i.child,null,u),i=Qm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function bS(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),hm(i.return,o,u)}function tp(i,o,u,m,v,S){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:S}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=u,_.tailMode=v,_.treeForkCount=S)}function xS(i,o,u){var m=o.pendingProps,v=m.revealOrder,S=m.tail;m=m.children;var _=Ot.current,D=(_&2)!==0;if(D?(_=_&1|2,o.flags|=128):_&=1,pe(Ot,_),an(i,o,m,u),m=Ge?$l:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bS(i,u,o);else if(i.tag===19)bS(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&$u(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),tp(o,!1,v,u,S,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&$u(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}tp(o,!0,u,null,S,m);break;case"together":tp(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ni(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Vi|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(No(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Xr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Xr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function np(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&ju(i)))}function bR(i,o,u){switch(o.tag){case 3:Ve(o,o.stateNode.containerInfo),Li(o,kt,i.memoizedState.cache),Na();break;case 27:case 5:Ce(o);break;case 4:Ve(o,o.stateNode.containerInfo);break;case 10:Li(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,_m(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(zi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?yS(i,o,u):(zi(o),i=ni(i,o,u),i!==null?i.sibling:null);zi(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(No(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return xS(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(Ot,Ot.current),m)break;return null;case 22:return o.lanes=0,dS(i,o,u,o.pendingProps);case 24:Li(o,kt,i.memoizedState.cache)}return ni(i,o,u)}function SS(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Lt=!0;else{if(!np(i,u)&&(o.flags&128)===0)return Lt=!1,bR(i,o,u);Lt=(i.flags&131072)!==0}else Lt=!1,Ge&&(o.flags&1048576)!==0&&Qb(o,$l,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Oa(o.elementType),o.type=i,typeof i=="function")lm(i)?(m=ja(i,m),o.tag=1,o=gS(null,o,i,m,u)):(o.tag=0,o=Jm(null,o,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===M){o.tag=11,o=uS(null,o,i,m,u);break e}else if(v===j){o.tag=14,o=cS(null,o,i,m,u);break e}}throw o=ae(i)||i,Error(r(306,o,""))}}return o;case 0:return Jm(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=ja(m,o.pendingProps),gS(i,o,m,v,u);case 3:e:{if(Ve(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var S=o.memoizedState;v=S.element,wm(i,o),Zl(o,m,null,u);var _=o.memoizedState;if(m=_.cache,Li(o,kt,m),m!==S.cache&&gm(o,[kt],u,!0),Wl(),m=_.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=vS(i,o,m,u);break e}else if(m!==v){v=ar(Error(r(424)),o),Vl(v),o=vS(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=cr(i.firstChild),nn=o,Ge=!0,ki=null,sr=!0,u=dx(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Na(),m===v){o=ni(i,o,u);break e}an(i,o,m,u)}o=o.child}return o;case 26:return tc(i,o),i===null?(u=O1(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ge||(u=o.type,i=o.pendingProps,m=yc(Te.current).createElement(u),m[tn]=o,m[Mn]=i,on(m,u,i),Jt(m),o.stateNode=m):o.memoizedState=O1(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ce(o),i===null&&Ge&&(m=o.stateNode=M1(o.type,o.pendingProps,Te.current),nn=o,sr=!0,v=gt,Xi(o.type)?(kp=v,gt=cr(m.firstChild)):gt=v),an(i,o,o.pendingProps.children,u),tc(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ge&&((v=m=gt)&&(m=JR(m,o.type,o.pendingProps,sr),m!==null?(o.stateNode=m,nn=o,gt=cr(m.firstChild),sr=!1,v=!0):v=!1),v||ji(o)),Ce(o),v=o.type,S=o.pendingProps,_=i!==null?i.memoizedProps:null,m=S.children,Dp(v,S)?m=null:_!==null&&Dp(v,_)&&(o.flags|=32),o.memoizedState!==null&&(v=Mm(i,o,cR,null,null,u),ys._currentValue=v),tc(i,o),an(i,o,m,u),o.child;case 6:return i===null&&Ge&&((i=u=gt)&&(u=XR(u,o.pendingProps,sr),u!==null?(o.stateNode=u,nn=o,gt=null,i=!0):i=!1),i||ji(o)),null;case 13:return yS(i,o,u);case 4:return Ve(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ia(o,null,m,u):an(i,o,m,u),o.child;case 11:return uS(i,o,o.type,o.pendingProps,u);case 7:return an(i,o,o.pendingProps,u),o.child;case 8:return an(i,o,o.pendingProps.children,u),o.child;case 12:return an(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Li(o,o.type,m.value),an(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Da(o),v=rn(v),m=m(v),o.flags|=1,an(i,o,m,u),o.child;case 14:return cS(i,o,o.type,o.pendingProps,u);case 15:return fS(i,o,o.type,o.pendingProps,u);case 19:return xS(i,o,u);case 31:return yR(i,o,u);case 22:return dS(i,o,u,o.pendingProps);case 24:return Da(o),m=rn(kt),i===null?(v=bm(),v===null&&(v=dt,S=vm(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=u),v=S),o.memoizedState={parent:m,cache:v},Sm(o),Li(o,kt,v)):((i.lanes&u)!==0&&(wm(i,o),Zl(o,null,null,u),Wl()),v=i.memoizedState,S=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Li(o,kt,m)):(m=S.cache,Li(o,kt,m),m!==v.cache&&gm(o,[kt],u,!0))),an(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ri(i){i.flags|=4}function rp(i,o,u,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(YS())i.flags|=8192;else throw Ra=Bu,xm}else i.flags&=-16777217}function wS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!L1(o))if(YS())i.flags|=8192;else throw Ra=Bu,xm}function rc(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?tb():536870912,i.lanes|=o,Bo|=o)}function is(i,o){if(!Ge)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function vt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function xR(i,o,u){var m=o.pendingProps;switch(fm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(o),null;case 1:return vt(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Qr(kt),oe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(_o(o)?ri(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,mm())),vt(o),null;case 26:var v=o.type,S=o.memoizedState;return i===null?(ri(o),S!==null?(vt(o),wS(o,S)):(vt(o),rp(o,v,null,m,u))):S?S!==i.memoizedState?(ri(o),vt(o),wS(o,S)):(vt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&ri(o),vt(o),rp(o,v,i,m,u)),null;case 27:if(re(o),u=Te.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ri(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return vt(o),null}i=he.current,_o(o)?tx(o):(i=M1(v,m,u),o.stateNode=i,ri(o))}return vt(o),null;case 5:if(re(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ri(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return vt(o),null}if(S=he.current,_o(o))tx(o);else{var _=yc(Te.current);switch(S){case 1:S=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:S=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":S=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":S=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":S=_.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?_.createElement("select",{is:m.is}):_.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?_.createElement(v,{is:m.is}):_.createElement(v)}}S[tn]=o,S[Mn]=m;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)S.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=S;e:switch(on(S,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ri(o)}}return vt(o),rp(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&ri(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=Te.current,_o(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=nn,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[tn]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||y1(i.nodeValue,u)),i||ji(o,!0)}else i=yc(i).createTextNode(m),i[tn]=o,o.stateNode=i}return vt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=_o(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[tn]=o}else Na(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),i=!1}else u=mm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Hn(o),o):(Hn(o),null);if((o.flags&128)!==0)throw Error(r(558))}return vt(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=_o(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[tn]=o}else Na(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),v=!1}else v=mm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Hn(o),o):(Hn(o),null)}return Hn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==v&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),rc(o,o.updateQueue),vt(o),null);case 4:return oe(),i===null&&Tp(o.stateNode.containerInfo),vt(o),null;case 10:return Qr(o.type),vt(o),null;case 19:if(Z(Ot),m=o.memoizedState,m===null)return vt(o),null;if(v=(o.flags&128)!==0,S=m.rendering,S===null)if(v)is(m,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=$u(i),S!==null){for(o.flags|=128,is(m,!1),i=S.updateQueue,o.updateQueue=i,rc(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)Xb(u,i),u=u.sibling;return pe(Ot,Ot.current&1|2),Ge&&Wr(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&zt()>sc&&(o.flags|=128,v=!0,is(m,!1),o.lanes=4194304)}else{if(!v)if(i=$u(S),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,rc(o,i),is(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Ge)return vt(o),null}else 2*zt()-m.renderingStartTime>sc&&u!==536870912&&(o.flags|=128,v=!0,is(m,!1),o.lanes=4194304);m.isBackwards?(S.sibling=o.child,o.child=S):(i=m.last,i!==null?i.sibling=S:o.child=S,m.last=S)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=zt(),i.sibling=null,u=Ot.current,pe(Ot,v?u&1|2:u&1),Ge&&Wr(o,m.treeForkCount),i):(vt(o),null);case 22:case 23:return Hn(o),Cm(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(vt(o),o.subtreeFlags&6&&(o.flags|=8192)):vt(o),u=o.updateQueue,u!==null&&rc(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&Z(Pa),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Qr(kt),vt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function SR(i,o){switch(fm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Qr(kt),oe(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return re(o),null;case 31:if(o.memoizedState!==null){if(Hn(o),o.alternate===null)throw Error(r(340));Na()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Hn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Na()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Z(Ot),null;case 4:return oe(),null;case 10:return Qr(o.type),null;case 22:case 23:return Hn(o),Cm(),i!==null&&Z(Pa),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Qr(kt),null;case 25:return null;default:return null}}function AS(i,o){switch(fm(o),o.tag){case 3:Qr(kt),oe();break;case 26:case 27:case 5:re(o);break;case 4:oe();break;case 31:o.memoizedState!==null&&Hn(o);break;case 13:Hn(o);break;case 19:Z(Ot);break;case 10:Qr(o.type);break;case 22:case 23:Hn(o),Cm(),i!==null&&Z(Pa);break;case 24:Qr(kt)}}function as(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var S=u.create,_=u.inst;m=S(),_.destroy=m}u=u.next}while(u!==v)}}catch(D){it(o,o.return,D)}}function Gi(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var S=v.next;m=S;do{if((m.tag&i)===i){var _=m.inst,D=_.destroy;if(D!==void 0){_.destroy=void 0,v=o;var U=u,X=D;try{X()}catch(se){it(v,U,se)}}}m=m.next}while(m!==S)}}catch(se){it(o,o.return,se)}}function ES(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{px(o,u)}catch(m){it(i,i.return,m)}}}function TS(i,o,u){u.props=ja(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){it(i,o,m)}}function os(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){it(i,o,v)}}function qr(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){it(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){it(i,o,v)}else u.current=null}function CS(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){it(i,i.return,v)}}function ip(i,o,u){try{var m=i.stateNode;GR(m,i.type,u,o),m[Mn]=o}catch(v){it(i,i.return,v)}}function _S(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Xi(i.type)||i.tag===4}function ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_S(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Xi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function op(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Yr));else if(m!==4&&(m===27&&Xi(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(op(i,o,u),i=i.sibling;i!==null;)op(i,o,u),i=i.sibling}function ic(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Xi(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(ic(i,o,u),i=i.sibling;i!==null;)ic(i,o,u),i=i.sibling}function NS(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);on(o,m,u),o[tn]=i,o[Mn]=u}catch(S){it(i,i.return,S)}}var ii=!1,Ut=!1,lp=!1,MS=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function wR(i,o){if(i=i.containerInfo,Np=Tc,i=zb(i),em(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var _=0,D=-1,U=-1,X=0,se=0,ce=i,ee=null;t:for(;;){for(var ie;ce!==u||v!==0&&ce.nodeType!==3||(D=_+v),ce!==S||m!==0&&ce.nodeType!==3||(U=_+m),ce.nodeType===3&&(_+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)ee=ce,ce=ie;for(;;){if(ce===i)break t;if(ee===u&&++X===v&&(D=_),ee===S&&++se===m&&(U=_),(ie=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ie}u=D===-1||U===-1?null:{start:D,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(Mp={focusedElem:i,selectionRange:u},Tc=!1,Xt=o;Xt!==null;)if(o=Xt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Xt=i;else for(;Xt!==null;){switch(o=Xt,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=o,v=S.memoizedProps,S=S.memoizedState,m=u.stateNode;try{var we=ja(u.type,v);i=m.getSnapshotBeforeUpdate(we,S),m.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){it(u,u.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Op(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Xt=i;break}Xt=o.return}}function DS(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:oi(i,u),m&4&&as(5,u);break;case 1:if(oi(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(_){it(u,u.return,_)}else{var v=ja(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(_){it(u,u.return,_)}}m&64&&ES(u),m&512&&os(u,u.return);break;case 3:if(oi(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{px(i,o)}catch(_){it(u,u.return,_)}}break;case 27:o===null&&m&4&&NS(u);case 26:case 5:oi(i,u),o===null&&m&4&&CS(u),m&512&&os(u,u.return);break;case 12:oi(i,u);break;case 31:oi(i,u),m&4&&RS(i,u);break;case 13:oi(i,u),m&4&&IS(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=PR.bind(null,u),WR(i,u))));break;case 22:if(m=u.memoizedState!==null||ii,!m){o=o!==null&&o.memoizedState!==null||Ut,v=ii;var S=Ut;ii=m,(Ut=o)&&!S?li(i,u,(u.subtreeFlags&8772)!==0):oi(i,u),ii=v,Ut=S}break;case 30:break;default:oi(i,u)}}function PS(i){var o=i.alternate;o!==null&&(i.alternate=null,PS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ld(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,Pn=!1;function ai(i,o,u){for(u=u.child;u!==null;)OS(i,o,u),u=u.sibling}function OS(i,o,u){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(le,u)}catch{}switch(u.tag){case 26:Ut||qr(u,o),ai(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ut||qr(u,o);var m=xt,v=Pn;Xi(u.type)&&(xt=u.stateNode,Pn=!1),ai(i,o,u),hs(u.stateNode),xt=m,Pn=v;break;case 5:Ut||qr(u,o);case 6:if(m=xt,v=Pn,xt=null,ai(i,o,u),xt=m,Pn=v,xt!==null)if(Pn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(u.stateNode)}catch(S){it(u,o,S)}else try{xt.removeChild(u.stateNode)}catch(S){it(u,o,S)}break;case 18:xt!==null&&(Pn?(i=xt,E1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Yo(i)):E1(xt,u.stateNode));break;case 4:m=xt,v=Pn,xt=u.stateNode.containerInfo,Pn=!0,ai(i,o,u),xt=m,Pn=v;break;case 0:case 11:case 14:case 15:Gi(2,u,o),Ut||Gi(4,u,o),ai(i,o,u);break;case 1:Ut||(qr(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&TS(u,o,m)),ai(i,o,u);break;case 21:ai(i,o,u);break;case 22:Ut=(m=Ut)||u.memoizedState!==null,ai(i,o,u),Ut=m;break;default:ai(i,o,u)}}function RS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Yo(i)}catch(u){it(o,o.return,u)}}}function IS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yo(i)}catch(u){it(o,o.return,u)}}function AR(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new MS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new MS),o;default:throw Error(r(435,i.tag))}}function ac(i,o){var u=AR(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=OR.bind(null,i,m);m.then(v,v)}})}function On(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],S=i,_=o,D=_;e:for(;D!==null;){switch(D.tag){case 27:if(Xi(D.type)){xt=D.stateNode,Pn=!1;break e}break;case 5:xt=D.stateNode,Pn=!1;break e;case 3:case 4:xt=D.stateNode.containerInfo,Pn=!0;break e}D=D.return}if(xt===null)throw Error(r(160));OS(S,_,v),xt=null,Pn=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)kS(o,i),o=o.sibling}var Nr=null;function kS(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:On(o,i),Rn(i),m&4&&(Gi(3,i,i.return),as(3,i),Gi(5,i,i.return));break;case 1:On(o,i),Rn(i),m&512&&(Ut||u===null||qr(u,u.return)),m&64&&ii&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Nr;if(On(o,i),Rn(i),m&512&&(Ut||u===null||qr(u,u.return)),m&4){var S=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":S=v.getElementsByTagName("title")[0],(!S||S[Rl]||S[tn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(m),v.head.insertBefore(S,v.querySelector("head > title"))),on(S,m,u),S[tn]=i,Jt(S),m=S;break e;case"link":var _=k1("link","href",v).get(m+(u.href||""));if(_){for(var D=0;D<_.length;D++)if(S=_[D],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){_.splice(D,1);break t}}S=v.createElement(m),on(S,m,u),v.head.appendChild(S);break;case"meta":if(_=k1("meta","content",v).get(m+(u.content||""))){for(D=0;D<_.length;D++)if(S=_[D],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){_.splice(D,1);break t}}S=v.createElement(m),on(S,m,u),v.head.appendChild(S);break;default:throw Error(r(468,m))}S[tn]=i,Jt(S),m=S}i.stateNode=m}else j1(v,i.type,i.stateNode);else i.stateNode=I1(v,m,i.memoizedProps);else S!==m?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,m===null?j1(v,i.type,i.stateNode):I1(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&ip(i,i.memoizedProps,u.memoizedProps)}break;case 27:On(o,i),Rn(i),m&512&&(Ut||u===null||qr(u,u.return)),u!==null&&m&4&&ip(i,i.memoizedProps,u.memoizedProps);break;case 5:if(On(o,i),Rn(i),m&512&&(Ut||u===null||qr(u,u.return)),i.flags&32){v=i.stateNode;try{vo(v,"")}catch(we){it(i,i.return,we)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,ip(i,v,u!==null?u.memoizedProps:v)),m&1024&&(lp=!0);break;case 6:if(On(o,i),Rn(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(we){it(i,i.return,we)}}break;case 3:if(Sc=null,v=Nr,Nr=bc(o.containerInfo),On(o,i),Nr=v,Rn(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Yo(o.containerInfo)}catch(we){it(i,i.return,we)}lp&&(lp=!1,jS(i));break;case 4:m=Nr,Nr=bc(i.stateNode.containerInfo),On(o,i),Rn(i),Nr=m;break;case 12:On(o,i),Rn(i);break;case 31:On(o,i),Rn(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ac(i,m)));break;case 13:On(o,i),Rn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(lc=zt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ac(i,m)));break;case 22:v=i.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,X=ii,se=Ut;if(ii=X||v,Ut=se||U,On(o,i),Ut=se,ii=X,Rn(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||U||ii||Ut||La(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){U=u=o;try{if(S=U.stateNode,v)_=S.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{D=U.stateNode;var ce=U.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(we){it(U,U.return,we)}}}else if(o.tag===6){if(u===null){U=o;try{U.stateNode.nodeValue=v?"":U.memoizedProps}catch(we){it(U,U.return,we)}}}else if(o.tag===18){if(u===null){U=o;try{var ie=U.stateNode;v?T1(ie,!0):T1(U.stateNode,!1)}catch(we){it(U,U.return,we)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,ac(i,u))));break;case 19:On(o,i),Rn(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,ac(i,m)));break;case 30:break;case 21:break;default:On(o,i),Rn(i)}}function Rn(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(_S(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,S=ap(i);ic(i,S,v);break;case 5:var _=u.stateNode;u.flags&32&&(vo(_,""),u.flags&=-33);var D=ap(i);ic(i,D,_);break;case 3:case 4:var U=u.stateNode.containerInfo,X=ap(i);op(i,X,U);break;default:throw Error(r(161))}}catch(se){it(i,i.return,se)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function jS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;jS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function oi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)DS(i,o.alternate,o),o=o.sibling}function La(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Gi(4,o,o.return),La(o);break;case 1:qr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&TS(o,o.return,u),La(o);break;case 27:hs(o.stateNode);case 26:case 5:qr(o,o.return),La(o);break;case 22:o.memoizedState===null&&La(o);break;case 30:La(o);break;default:La(o)}i=i.sibling}}function li(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,S=o,_=S.flags;switch(S.tag){case 0:case 11:case 15:li(v,S,u),as(4,S);break;case 1:if(li(v,S,u),m=S,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(X){it(m,m.return,X)}if(m=S,v=m.updateQueue,v!==null){var D=m.stateNode;try{var U=v.shared.hiddenCallbacks;if(U!==null)for(v.shared.hiddenCallbacks=null,v=0;v<U.length;v++)mx(U[v],D)}catch(X){it(m,m.return,X)}}u&&_&64&&ES(S),os(S,S.return);break;case 27:NS(S);case 26:case 5:li(v,S,u),u&&m===null&&_&4&&CS(S),os(S,S.return);break;case 12:li(v,S,u);break;case 31:li(v,S,u),u&&_&4&&RS(v,S);break;case 13:li(v,S,u),u&&_&4&&IS(v,S);break;case 22:S.memoizedState===null&&li(v,S,u),os(S,S.return);break;case 30:break;default:li(v,S,u)}o=o.sibling}}function sp(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Fl(u))}function up(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Fl(i))}function Mr(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)LS(i,o,u,m),o=o.sibling}function LS(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Mr(i,o,u,m),v&2048&&as(9,o);break;case 1:Mr(i,o,u,m);break;case 3:Mr(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Fl(i)));break;case 12:if(v&2048){Mr(i,o,u,m),i=o.stateNode;try{var S=o.memoizedProps,_=S.id,D=S.onPostCommit;typeof D=="function"&&D(_,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){it(o,o.return,U)}}else Mr(i,o,u,m);break;case 31:Mr(i,o,u,m);break;case 13:Mr(i,o,u,m);break;case 23:break;case 22:S=o.stateNode,_=o.alternate,o.memoizedState!==null?S._visibility&2?Mr(i,o,u,m):ls(i,o):S._visibility&2?Mr(i,o,u,m):(S._visibility|=2,Lo(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&sp(_,o);break;case 24:Mr(i,o,u,m),v&2048&&up(o.alternate,o);break;default:Mr(i,o,u,m)}}function Lo(i,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,_=o,D=u,U=m,X=_.flags;switch(_.tag){case 0:case 11:case 15:Lo(S,_,D,U,v),as(8,_);break;case 23:break;case 22:var se=_.stateNode;_.memoizedState!==null?se._visibility&2?Lo(S,_,D,U,v):ls(S,_):(se._visibility|=2,Lo(S,_,D,U,v)),v&&X&2048&&sp(_.alternate,_);break;case 24:Lo(S,_,D,U,v),v&&X&2048&&up(_.alternate,_);break;default:Lo(S,_,D,U,v)}o=o.sibling}}function ls(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:ls(u,m),v&2048&&sp(m.alternate,m);break;case 24:ls(u,m),v&2048&&up(m.alternate,m);break;default:ls(u,m)}o=o.sibling}}var ss=8192;function Uo(i,o,u){if(i.subtreeFlags&ss)for(i=i.child;i!==null;)US(i,o,u),i=i.sibling}function US(i,o,u){switch(i.tag){case 26:Uo(i,o,u),i.flags&ss&&i.memoizedState!==null&&uI(u,Nr,i.memoizedState,i.memoizedProps);break;case 5:Uo(i,o,u);break;case 3:case 4:var m=Nr;Nr=bc(i.stateNode.containerInfo),Uo(i,o,u),Nr=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=ss,ss=16777216,Uo(i,o,u),ss=m):Uo(i,o,u));break;default:Uo(i,o,u)}}function qS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function us(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Xt=m,zS(m,i)}qS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)BS(i),i=i.sibling}function BS(i){switch(i.tag){case 0:case 11:case 15:us(i),i.flags&2048&&Gi(9,i,i.return);break;case 3:us(i);break;case 12:us(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,oc(i)):us(i);break;default:us(i)}}function oc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Xt=m,zS(m,i)}qS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Gi(8,o,o.return),oc(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,oc(o));break;default:oc(o)}i=i.sibling}}function zS(i,o){for(;Xt!==null;){var u=Xt;switch(u.tag){case 0:case 11:case 15:Gi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Fl(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Xt=m;else e:for(u=i;Xt!==null;){m=Xt;var v=m.sibling,S=m.return;if(PS(m),m===u){Xt=null;break e}if(v!==null){v.return=S,Xt=v;break e}Xt=S}}}var ER={getCacheForType:function(i){var o=rn(kt),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return rn(kt).controller.signal}},TR=typeof WeakMap=="function"?WeakMap:Map,Qe=0,dt=null,qe=null,ze=0,rt=0,Gn=null,$i=!1,qo=!1,cp=!1,si=0,Dt=0,Vi=0,Ua=0,fp=0,$n=0,Bo=0,cs=null,In=null,dp=!1,lc=0,HS=0,sc=1/0,uc=null,Fi=null,Ht=0,Ki=null,zo=null,ui=0,mp=0,pp=null,GS=null,fs=0,hp=null;function Vn(){return(Qe&2)!==0&&ze!==0?ze&-ze:B.T!==null?Sp():ab()}function $S(){if($n===0)if((ze&536870912)===0||Ge){var i=Nt;Nt<<=1,(Nt&3932160)===0&&(Nt=262144),$n=i}else $n=536870912;return i=zn.current,i!==null&&(i.flags|=32),$n}function kn(i,o,u){(i===dt&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Ho(i,0),Yi(i,ze,$n,!1)),Ol(i,u),((Qe&2)===0||i!==dt)&&(i===dt&&((Qe&2)===0&&(Ua|=u),Dt===4&&Yi(i,ze,$n,!1)),Br(i))}function VS(i,o,u){if((Qe&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Nn(i,o),v=m?NR(i,o):vp(i,o,!0),S=m;do{if(v===0){qo&&!m&&Yi(i,o,0,!1);break}else{if(u=i.current.alternate,S&&!CR(u)){v=vp(i,o,!1),S=!1;continue}if(v===2){if(S=o,i.errorRecoveryDisabledLanes&S)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var D=i;v=cs;var U=D.current.memoizedState.isDehydrated;if(U&&(Ho(D,_).flags|=256),_=vp(D,_,!1),_!==2){if(cp&&!U){D.errorRecoveryDisabledLanes|=S,Ua|=S,v=4;break e}S=In,In=v,S!==null&&(In===null?In=S:In.push.apply(In,S))}v=_}if(S=!1,v!==2)continue}}if(v===1){Ho(i,0),Yi(i,o,0,!0);break}e:{switch(m=i,S=v,S){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Yi(m,o,$n,!$i);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=lc+300-zt(),10<v)){if(Yi(m,o,$n,!$i),bn(m,0,!0)!==0)break e;ui=o,m.timeoutHandle=w1(FS.bind(null,m,u,In,uc,dp,o,$n,Ua,Bo,$i,S,"Throttled",-0,0),v);break e}FS(m,u,In,uc,dp,o,$n,Ua,Bo,$i,S,null,-0,0)}}break}while(!0);Br(i)}function FS(i,o,u,m,v,S,_,D,U,X,se,ce,ee,ie){if(i.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yr},US(o,S,ce);var we=(S&62914560)===S?lc-zt():(S&4194048)===S?HS-zt():0;if(we=cI(ce,we),we!==null){ui=S,i.cancelPendingCommit=we(e1.bind(null,i,o,S,u,m,v,_,D,U,se,ce,null,ee,ie)),Yi(i,S,_,!X);return}}e1(i,o,S,u,m,v,_,D,U)}function CR(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],S=v.getSnapshot;v=v.value;try{if(!qn(S(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Yi(i,o,u,m){o&=~fp,o&=~Ua,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var S=31-Ne(v),_=1<<S;m[S]=-1,v&=~_}u!==0&&nb(i,u,o)}function cc(){return(Qe&6)===0?(ds(0),!1):!0}function gp(){if(qe!==null){if(rt===0)var i=qe.return;else i=qe,Zr=Ma=null,Om(i),Oo=null,Yl=0,i=qe;for(;i!==null;)AS(i.alternate,i),i=i.return;qe=null}}function Ho(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,FR(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ui=0,gp(),dt=i,qe=u=Xr(i.current,null),ze=o,rt=0,Gn=null,$i=!1,qo=Nn(i,o),cp=!1,Bo=$n=fp=Ua=Vi=Dt=0,In=cs=null,dp=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-Ne(m),S=1<<v;o|=i[v],m&=~S}return si=o,Pu(),u}function KS(i,o){ke=null,B.H=ns,o===Po||o===qu?(o=ux(),rt=3):o===xm?(o=ux(),rt=4):rt=o===Ym?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Gn=o,qe===null&&(Dt=1,Qu(i,ar(o,i.current)))}function YS(){var i=zn.current;return i===null?!0:(ze&4194048)===ze?ur===null:(ze&62914560)===ze||(ze&536870912)!==0?i===ur:!1}function JS(){var i=B.H;return B.H=ns,i===null?ns:i}function XS(){var i=B.A;return B.A=ER,i}function fc(){Dt=4,$i||(ze&4194048)!==ze&&zn.current!==null||(qo=!0),(Vi&134217727)===0&&(Ua&134217727)===0||dt===null||Yi(dt,ze,$n,!1)}function vp(i,o,u){var m=Qe;Qe|=2;var v=JS(),S=XS();(dt!==i||ze!==o)&&(uc=null,Ho(i,o)),o=!1;var _=Dt;e:do try{if(rt!==0&&qe!==null){var D=qe,U=Gn;switch(rt){case 8:gp(),_=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(o=!0);var X=rt;if(rt=0,Gn=null,Go(i,D,U,X),u&&qo){_=0;break e}break;default:X=rt,rt=0,Gn=null,Go(i,D,U,X)}}_R(),_=Dt;break}catch(se){KS(i,se)}while(!0);return o&&i.shellSuspendCounter++,Zr=Ma=null,Qe=m,B.H=v,B.A=S,qe===null&&(dt=null,ze=0,Pu()),_}function _R(){for(;qe!==null;)WS(qe)}function NR(i,o){var u=Qe;Qe|=2;var m=JS(),v=XS();dt!==i||ze!==o?(uc=null,sc=zt()+500,Ho(i,o)):qo=Nn(i,o);e:do try{if(rt!==0&&qe!==null){o=qe;var S=Gn;t:switch(rt){case 1:rt=0,Gn=null,Go(i,o,S,1);break;case 2:case 9:if(lx(S)){rt=0,Gn=null,ZS(o);break}o=function(){rt!==2&&rt!==9||dt!==i||(rt=7),Br(i)},S.then(o,o);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:lx(S)?(rt=0,Gn=null,ZS(o)):(rt=0,Gn=null,Go(i,o,S,7));break;case 5:var _=null;switch(qe.tag){case 26:_=qe.memoizedState;case 5:case 27:var D=qe;if(_?L1(_):D.stateNode.complete){rt=0,Gn=null;var U=D.sibling;if(U!==null)qe=U;else{var X=D.return;X!==null?(qe=X,dc(X)):qe=null}break t}}rt=0,Gn=null,Go(i,o,S,5);break;case 6:rt=0,Gn=null,Go(i,o,S,6);break;case 8:gp(),Dt=6;break e;default:throw Error(r(462))}}MR();break}catch(se){KS(i,se)}while(!0);return Zr=Ma=null,B.H=m,B.A=v,Qe=u,qe!==null?0:(dt=null,ze=0,Pu(),Dt)}function MR(){for(;qe!==null&&!_n();)WS(qe)}function WS(i){var o=SS(i.alternate,i,si);i.memoizedProps=i.pendingProps,o===null?dc(i):qe=o}function ZS(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=hS(u,o,o.pendingProps,o.type,void 0,ze);break;case 11:o=hS(u,o,o.pendingProps,o.type.render,o.ref,ze);break;case 5:Om(o);default:AS(u,o),o=qe=Xb(o,si),o=SS(u,o,si)}i.memoizedProps=i.pendingProps,o===null?dc(i):qe=o}function Go(i,o,u,m){Zr=Ma=null,Om(o),Oo=null,Yl=0;var v=o.return;try{if(vR(i,v,o,u,ze)){Dt=1,Qu(i,ar(u,i.current)),qe=null;return}}catch(S){if(v!==null)throw qe=v,S;Dt=1,Qu(i,ar(u,i.current)),qe=null;return}o.flags&32768?(Ge||m===1?i=!0:qo||(ze&536870912)!==0?i=!1:($i=i=!0,(m===2||m===9||m===3||m===6)&&(m=zn.current,m!==null&&m.tag===13&&(m.flags|=16384))),QS(o,i)):dc(o)}function dc(i){var o=i;do{if((o.flags&32768)!==0){QS(o,$i);return}i=o.return;var u=xR(o.alternate,o,si);if(u!==null){qe=u;return}if(o=o.sibling,o!==null){qe=o;return}qe=o=i}while(o!==null);Dt===0&&(Dt=5)}function QS(i,o){do{var u=SR(i.alternate,i);if(u!==null){u.flags&=32767,qe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){qe=i;return}qe=i=u}while(i!==null);Dt=6,qe=null}function e1(i,o,u,m,v,S,_,D,U){i.cancelPendingCommit=null;do mc();while(Ht!==0);if((Qe&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(S=o.lanes|o.childLanes,S|=am,sO(i,u,S,_,D,U),i===dt&&(qe=dt=null,ze=0),zo=o,Ki=i,ui=u,mp=S,pp=v,GS=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,RR(yn,function(){return a1(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,v=ne.p,ne.p=2,_=Qe,Qe|=4;try{wR(i,o,u)}finally{Qe=_,ne.p=v,B.T=m}}Ht=1,t1(),n1(),r1()}}function t1(){if(Ht===1){Ht=0;var i=Ki,o=zo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var m=ne.p;ne.p=2;var v=Qe;Qe|=4;try{kS(o,i);var S=Mp,_=zb(i.containerInfo),D=S.focusedElem,U=S.selectionRange;if(_!==D&&D&&D.ownerDocument&&Bb(D.ownerDocument.documentElement,D)){if(U!==null&&em(D)){var X=U.start,se=U.end;if(se===void 0&&(se=X),"selectionStart"in D)D.selectionStart=X,D.selectionEnd=Math.min(se,D.value.length);else{var ce=D.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),we=D.textContent.length,Pe=Math.min(U.start,we),ct=U.end===void 0?Pe:Math.min(U.end,we);!ie.extend&&Pe>ct&&(_=ct,ct=Pe,Pe=_);var F=qb(D,Pe),z=qb(D,ct);if(F&&z&&(ie.rangeCount!==1||ie.anchorNode!==F.node||ie.anchorOffset!==F.offset||ie.focusNode!==z.node||ie.focusOffset!==z.offset)){var J=ce.createRange();J.setStart(F.node,F.offset),ie.removeAllRanges(),Pe>ct?(ie.addRange(J),ie.extend(z.node,z.offset)):(J.setEnd(z.node,z.offset),ie.addRange(J))}}}}for(ce=[],ie=D;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ce.length;D++){var ue=ce[D];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Tc=!!Np,Mp=Np=null}finally{Qe=v,ne.p=m,B.T=u}}i.current=o,Ht=2}}function n1(){if(Ht===2){Ht=0;var i=Ki,o=zo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var m=ne.p;ne.p=2;var v=Qe;Qe|=4;try{DS(i,o.alternate,o)}finally{Qe=v,ne.p=m,B.T=u}}Ht=3}}function r1(){if(Ht===4||Ht===3){Ht=0,Pi();var i=Ki,o=zo,u=ui,m=GS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ht=5:(Ht=0,zo=Ki=null,i1(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Fi=null),kd(u),o=o.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(le,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=B.T,v=ne.p,ne.p=2,B.T=null;try{for(var S=i.onRecoverableError,_=0;_<m.length;_++){var D=m[_];S(D.value,{componentStack:D.stack})}}finally{B.T=o,ne.p=v}}(ui&3)!==0&&mc(),Br(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===hp?fs++:(fs=0,hp=i):fs=0,ds(0)}}function i1(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Fl(o)))}function mc(){return t1(),n1(),r1(),a1()}function a1(){if(Ht!==5)return!1;var i=Ki,o=mp;mp=0;var u=kd(ui),m=B.T,v=ne.p;try{ne.p=32>u?32:u,B.T=null,u=pp,pp=null;var S=Ki,_=ui;if(Ht=0,zo=Ki=null,ui=0,(Qe&6)!==0)throw Error(r(331));var D=Qe;if(Qe|=4,BS(S.current),LS(S,S.current,_,u),Qe=D,ds(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(le,S)}catch{}return!0}finally{ne.p=v,B.T=m,i1(i,o)}}function o1(i,o,u){o=ar(u,o),o=Km(i.stateNode,o,2),i=Bi(i,o,2),i!==null&&(Ol(i,2),Br(i))}function it(i,o,u){if(i.tag===3)o1(i,i,u);else for(;o!==null;){if(o.tag===3){o1(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Fi===null||!Fi.has(m))){i=ar(u,i),u=lS(2),m=Bi(o,u,2),m!==null&&(sS(u,m,o,i),Ol(m,2),Br(m));break}}o=o.return}}function yp(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new TR;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(cp=!0,v.add(u),i=DR.bind(null,i,o,u),o.then(i,i))}function DR(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,dt===i&&(ze&u)===u&&(Dt===4||Dt===3&&(ze&62914560)===ze&&300>zt()-lc?(Qe&2)===0&&Ho(i,0):fp|=u,Bo===ze&&(Bo=0)),Br(i)}function l1(i,o){o===0&&(o=tb()),i=Ca(i,o),i!==null&&(Ol(i,o),Br(i))}function PR(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),l1(i,u)}function OR(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),l1(i,u)}function RR(i,o){return jr(i,o)}var pc=null,$o=null,bp=!1,hc=!1,xp=!1,Ji=0;function Br(i){i!==$o&&i.next===null&&($o===null?pc=$o=i:$o=$o.next=i),hc=!0,bp||(bp=!0,kR())}function ds(i,o){if(!xp&&hc){xp=!0;do for(var u=!1,m=pc;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var S=0;else{var _=m.suspendedLanes,D=m.pingedLanes;S=(1<<31-Ne(42|i)+1)-1,S&=v&~(_&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,f1(m,S))}else S=ze,S=bn(m,m===dt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||Nn(m,S)||(u=!0,f1(m,S));m=m.next}while(u);xp=!1}}function IR(){s1()}function s1(){hc=bp=!1;var i=0;Ji!==0&&VR()&&(i=Ji);for(var o=zt(),u=null,m=pc;m!==null;){var v=m.next,S=u1(m,o);S===0?(m.next=null,u===null?pc=v:u.next=v,v===null&&($o=u)):(u=m,(i!==0||(S&3)!==0)&&(hc=!0)),m=v}Ht!==0&&Ht!==5||ds(i),Ji!==0&&(Ji=0)}function u1(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var _=31-Ne(S),D=1<<_,U=v[_];U===-1?((D&u)===0||(D&m)!==0)&&(v[_]=Sa(D,o)):U<=o&&(i.expiredLanes|=D),S&=~D}if(o=dt,u=ze,u=bn(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&ya(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Nn(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&ya(m),kd(u)){case 2:case 8:u=Cr;break;case 32:u=yn;break;case 268435456:u=xa;break;default:u=yn}return m=c1.bind(null,i),u=jr(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&ya(m),i.callbackPriority=2,i.callbackNode=null,2}function c1(i,o){if(Ht!==0&&Ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(mc()&&i.callbackNode!==u)return null;var m=ze;return m=bn(i,i===dt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(VS(i,m,o),u1(i,zt()),i.callbackNode!=null&&i.callbackNode===u?c1.bind(null,i):null)}function f1(i,o){if(mc())return null;VS(i,o,!0)}function kR(){KR(function(){(Qe&6)!==0?jr(Tr,IR):s1()})}function Sp(){if(Ji===0){var i=Mo;i===0&&(i=nt,nt<<=1,(nt&261888)===0&&(nt=256)),Ji=i}return Ji}function d1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Au(""+i)}function m1(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function jR(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var S=d1((v[Mn]||null).action),_=m.submitter;_&&(o=(o=_[Mn]||null)?d1(o.formAction):_.getAttribute("formAction"),o!==null&&(S=o,_=null));var D=new _u("action","action",null,m,v);i.push({event:D,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ji!==0){var U=_?m1(v,_):new FormData(v);zm(u,{pending:!0,data:U,method:v.method,action:S},null,U)}}else typeof S=="function"&&(D.preventDefault(),U=_?m1(v,_):new FormData(v),zm(u,{pending:!0,data:U,method:v.method,action:S},S,U))},currentTarget:v}]})}}for(var wp=0;wp<im.length;wp++){var Ap=im[wp],LR=Ap.toLowerCase(),UR=Ap[0].toUpperCase()+Ap.slice(1);_r(LR,"on"+UR)}_r($b,"onAnimationEnd"),_r(Vb,"onAnimationIteration"),_r(Fb,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(eR,"onTransitionRun"),_r(tR,"onTransitionStart"),_r(nR,"onTransitionCancel"),_r(Kb,"onTransitionEnd"),ho("onMouseEnter",["mouseout","mouseover"]),ho("onMouseLeave",["mouseout","mouseover"]),ho("onPointerEnter",["pointerout","pointerover"]),ho("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ms));function p1(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var S=void 0;if(o)for(var _=m.length-1;0<=_;_--){var D=m[_],U=D.instance,X=D.currentTarget;if(D=D.listener,U!==S&&v.isPropagationStopped())break e;S=D,v.currentTarget=X;try{S(v)}catch(se){Du(se)}v.currentTarget=null,S=U}else for(_=0;_<m.length;_++){if(D=m[_],U=D.instance,X=D.currentTarget,D=D.listener,U!==S&&v.isPropagationStopped())break e;S=D,v.currentTarget=X;try{S(v)}catch(se){Du(se)}v.currentTarget=null,S=U}}}}function Be(i,o){var u=o[jd];u===void 0&&(u=o[jd]=new Set);var m=i+"__bubble";u.has(m)||(h1(o,i,2,!1),u.add(m))}function Ep(i,o,u){var m=0;o&&(m|=4),h1(u,i,m,o)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Tp(i){if(!i[gc]){i[gc]=!0,sb.forEach(function(u){u!=="selectionchange"&&(qR.has(u)||Ep(u,!1,i),Ep(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[gc]||(o[gc]=!0,Ep("selectionchange",!1,o))}}function h1(i,o,u,m){switch($1(o)){case 2:var v=mI;break;case 8:v=pI;break;default:v=Bp}u=v.bind(null,o,u,i),v=void 0,!Vd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Cp(i,o,u,m,v){var S=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var _=m.tag;if(_===3||_===4){var D=m.stateNode.containerInfo;if(D===v)break;if(_===4)for(_=m.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===v)return;_=_.return}for(;D!==null;){if(_=fo(D),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){m=S=_;continue e}D=D.parentNode}}m=m.return}xb(function(){var X=S,se=Gd(u),ce=[];e:{var ee=Yb.get(i);if(ee!==void 0){var ie=_u,we=i;switch(i){case"keypress":if(Tu(u)===0)break e;case"keydown":case"keyup":ie=OO;break;case"focusin":we="focus",ie=Jd;break;case"focusout":we="blur",ie=Jd;break;case"beforeblur":case"afterblur":ie=Jd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ab;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=xO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=kO;break;case $b:case Vb:case Fb:ie=AO;break;case Kb:ie=LO;break;case"scroll":case"scrollend":ie=yO;break;case"wheel":ie=qO;break;case"copy":case"cut":case"paste":ie=TO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Tb;break;case"toggle":case"beforetoggle":ie=zO}var Pe=(o&4)!==0,ct=!Pe&&(i==="scroll"||i==="scrollend"),F=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var z=X,J;z!==null;){var ue=z;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||F===null||(ue=kl(z,F),ue!=null&&Pe.push(ps(z,ue,J))),ct)break;z=z.return}0<Pe.length&&(ee=new ie(ee,we,null,u,se),ce.push({event:ee,listeners:Pe}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",ee&&u!==Hd&&(we=u.relatedTarget||u.fromElement)&&(fo(we)||we[co]))break e;if((ie||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(we=u.relatedTarget||u.toElement,ie=X,we=we?fo(we):null,we!==null&&(ct=l(we),Pe=we.tag,we!==ct||Pe!==5&&Pe!==27&&Pe!==6)&&(we=null)):(ie=null,we=X),ie!==we)){if(Pe=Ab,ue="onMouseLeave",F="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=Tb,ue="onPointerLeave",F="onPointerEnter",z="pointer"),ct=ie==null?ee:Il(ie),J=we==null?ee:Il(we),ee=new Pe(ue,z+"leave",ie,u,se),ee.target=ct,ee.relatedTarget=J,ue=null,fo(se)===X&&(Pe=new Pe(F,z+"enter",we,u,se),Pe.target=J,Pe.relatedTarget=ct,ue=Pe),ct=ue,ie&&we)t:{for(Pe=BR,F=ie,z=we,J=0,ue=F;ue;ue=Pe(ue))J++;ue=0;for(var De=z;De;De=Pe(De))ue++;for(;0<J-ue;)F=Pe(F),J--;for(;0<ue-J;)z=Pe(z),ue--;for(;J--;){if(F===z||z!==null&&F===z.alternate){Pe=F;break t}F=Pe(F),z=Pe(z)}Pe=null}else Pe=null;ie!==null&&g1(ce,ee,ie,Pe,!1),we!==null&&ct!==null&&g1(ce,ct,we,Pe,!0)}}e:{if(ee=X?Il(X):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var Fe=Rb;else if(Pb(ee))if(Ib)Fe=WO;else{Fe=JO;var _e=YO}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&zd(X.elementType)&&(Fe=Rb):Fe=XO;if(Fe&&(Fe=Fe(i,X))){Ob(ce,Fe,u,se);break e}_e&&_e(i,ee,X),i==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&Bd(ee,"number",ee.value)}switch(_e=X?Il(X):window,i){case"focusin":(Pb(_e)||_e.contentEditable==="true")&&(So=_e,tm=X,Gl=null);break;case"focusout":Gl=tm=So=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,Hb(ce,u,se);break;case"selectionchange":if(QO)break;case"keydown":case"keyup":Hb(ce,u,se)}var je;if(Wd)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else xo?Mb(i,u)&&(He="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(He="onCompositionStart");He&&(Cb&&u.locale!=="ko"&&(xo||He!=="onCompositionStart"?He==="onCompositionEnd"&&xo&&(je=Sb()):(Ri=se,Fd="value"in Ri?Ri.value:Ri.textContent,xo=!0)),_e=vc(X,He),0<_e.length&&(He=new Eb(He,i,null,u,se),ce.push({event:He,listeners:_e}),je?He.data=je:(je=Db(u),je!==null&&(He.data=je)))),(je=GO?$O(i,u):VO(i,u))&&(He=vc(X,"onBeforeInput"),0<He.length&&(_e=new Eb("onBeforeInput","beforeinput",null,u,se),ce.push({event:_e,listeners:He}),_e.data=je)),jR(ce,i,X,u,se)}p1(ce,o)})}function ps(i,o,u){return{instance:i,listener:o,currentTarget:u}}function vc(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=kl(i,u),v!=null&&m.unshift(ps(i,v,S)),v=kl(i,o),v!=null&&m.push(ps(i,v,S))),i.tag===3)return m;i=i.return}return[]}function BR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function g1(i,o,u,m,v){for(var S=o._reactName,_=[];u!==null&&u!==m;){var D=u,U=D.alternate,X=D.stateNode;if(D=D.tag,U!==null&&U===m)break;D!==5&&D!==26&&D!==27||X===null||(U=X,v?(X=kl(u,S),X!=null&&_.unshift(ps(u,X,U))):v||(X=kl(u,S),X!=null&&_.push(ps(u,X,U)))),u=u.return}_.length!==0&&i.push({event:o,listeners:_})}var zR=/\r\n?/g,HR=/\u0000|\uFFFD/g;function v1(i){return(typeof i=="string"?i:""+i).replace(zR,`
`).replace(HR,"")}function y1(i,o){return o=v1(o),v1(i)===o}function ut(i,o,u,m,v,S){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||vo(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&vo(i,""+m);break;case"className":Su(i,"class",m);break;case"tabIndex":Su(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Su(i,u,m);break;case"style":yb(i,m,S);break;case"data":if(o!=="object"){Su(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Au(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(o!=="input"&&ut(i,o,"name",v.name,v,null),ut(i,o,"formEncType",v.formEncType,v,null),ut(i,o,"formMethod",v.formMethod,v,null),ut(i,o,"formTarget",v.formTarget,v,null)):(ut(i,o,"encType",v.encType,v,null),ut(i,o,"method",v.method,v,null),ut(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Au(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Yr);break;case"onScroll":m!=null&&Be("scroll",i);break;case"onScrollEnd":m!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Au(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Be("beforetoggle",i),Be("toggle",i),xu(i,"popover",m);break;case"xlinkActuate":Kr(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Kr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Kr(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Kr(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Kr(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Kr(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Kr(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Kr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Kr(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":xu(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=gO.get(u)||u,xu(i,u,m))}}function _p(i,o,u,m,v,S){switch(u){case"style":yb(i,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?vo(i,m):(typeof m=="number"||typeof m=="bigint")&&vo(i,""+m);break;case"onScroll":m!=null&&Be("scroll",i);break;case"onScrollEnd":m!=null&&Be("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Yr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ub.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),S=i[Mn]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(o,S,v),typeof m=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):xu(i,u,m)}}}function on(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var m=!1,v=!1,S;for(S in u)if(u.hasOwnProperty(S)){var _=u[S];if(_!=null)switch(S){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ut(i,o,S,_,u,null)}}v&&ut(i,o,"srcSet",u.srcSet,u,null),m&&ut(i,o,"src",u.src,u,null);return;case"input":Be("invalid",i);var D=S=_=v=null,U=null,X=null;for(m in u)if(u.hasOwnProperty(m)){var se=u[m];if(se!=null)switch(m){case"name":v=se;break;case"type":_=se;break;case"checked":U=se;break;case"defaultChecked":X=se;break;case"value":S=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:ut(i,o,m,se,u,null)}}pb(i,S,D,U,X,_,v,!1);return;case"select":Be("invalid",i),m=_=S=null;for(v in u)if(u.hasOwnProperty(v)&&(D=u[v],D!=null))switch(v){case"value":S=D;break;case"defaultValue":_=D;break;case"multiple":m=D;default:ut(i,o,v,D,u,null)}o=S,u=_,i.multiple=!!m,o!=null?go(i,!!m,o,!1):u!=null&&go(i,!!m,u,!0);return;case"textarea":Be("invalid",i),S=v=m=null;for(_ in u)if(u.hasOwnProperty(_)&&(D=u[_],D!=null))switch(_){case"value":m=D;break;case"defaultValue":v=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:ut(i,o,_,D,u,null)}gb(i,m,v,S);return;case"option":for(U in u)if(u.hasOwnProperty(U)&&(m=u[U],m!=null))switch(U){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ut(i,o,U,m,u,null)}return;case"dialog":Be("beforetoggle",i),Be("toggle",i),Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(m=0;m<ms.length;m++)Be(ms[m],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(m=u[X],m!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ut(i,o,X,m,u,null)}return;default:if(zd(o)){for(se in u)u.hasOwnProperty(se)&&(m=u[se],m!==void 0&&_p(i,o,se,m,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(m=u[D],m!=null&&ut(i,o,D,m,u,null))}function GR(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,_=null,D=null,U=null,X=null,se=null;for(ie in u){var ce=u[ie];if(u.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=ce;default:m.hasOwnProperty(ie)||ut(i,o,ie,null,m,ce)}}for(var ee in m){var ie=m[ee];if(ce=u[ee],m.hasOwnProperty(ee)&&(ie!=null||ce!=null))switch(ee){case"type":S=ie;break;case"name":v=ie;break;case"checked":X=ie;break;case"defaultChecked":se=ie;break;case"value":_=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:ie!==ce&&ut(i,o,ee,ie,m,ce)}}qd(i,_,D,U,X,se,S,v);return;case"select":ie=_=D=ee=null;for(S in u)if(U=u[S],u.hasOwnProperty(S)&&U!=null)switch(S){case"value":break;case"multiple":ie=U;default:m.hasOwnProperty(S)||ut(i,o,S,null,m,U)}for(v in m)if(S=m[v],U=u[v],m.hasOwnProperty(v)&&(S!=null||U!=null))switch(v){case"value":ee=S;break;case"defaultValue":D=S;break;case"multiple":_=S;default:S!==U&&ut(i,o,v,S,m,U)}o=D,u=_,m=ie,ee!=null?go(i,!!u,ee,!1):!!m!=!!u&&(o!=null?go(i,!!u,o,!0):go(i,!!u,u?[]:"",!1));return;case"textarea":ie=ee=null;for(D in u)if(v=u[D],u.hasOwnProperty(D)&&v!=null&&!m.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ut(i,o,D,null,m,v)}for(_ in m)if(v=m[_],S=u[_],m.hasOwnProperty(_)&&(v!=null||S!=null))switch(_){case"value":ee=v;break;case"defaultValue":ie=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==S&&ut(i,o,_,v,m,S)}hb(i,ee,ie);return;case"option":for(var we in u)if(ee=u[we],u.hasOwnProperty(we)&&ee!=null&&!m.hasOwnProperty(we))switch(we){case"selected":i.selected=!1;break;default:ut(i,o,we,null,m,ee)}for(U in m)if(ee=m[U],ie=u[U],m.hasOwnProperty(U)&&ee!==ie&&(ee!=null||ie!=null))switch(U){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ut(i,o,U,ee,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in u)ee=u[Pe],u.hasOwnProperty(Pe)&&ee!=null&&!m.hasOwnProperty(Pe)&&ut(i,o,Pe,null,m,ee);for(X in m)if(ee=m[X],ie=u[X],m.hasOwnProperty(X)&&ee!==ie&&(ee!=null||ie!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:ut(i,o,X,ee,m,ie)}return;default:if(zd(o)){for(var ct in u)ee=u[ct],u.hasOwnProperty(ct)&&ee!==void 0&&!m.hasOwnProperty(ct)&&_p(i,o,ct,void 0,m,ee);for(se in m)ee=m[se],ie=u[se],!m.hasOwnProperty(se)||ee===ie||ee===void 0&&ie===void 0||_p(i,o,se,ee,m,ie);return}}for(var F in u)ee=u[F],u.hasOwnProperty(F)&&ee!=null&&!m.hasOwnProperty(F)&&ut(i,o,F,null,m,ee);for(ce in m)ee=m[ce],ie=u[ce],!m.hasOwnProperty(ce)||ee===ie||ee==null&&ie==null||ut(i,o,ce,ee,m,ie)}function b1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $R(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],S=v.transferSize,_=v.initiatorType,D=v.duration;if(S&&D&&b1(_)){for(_=0,D=v.responseEnd,m+=1;m<u.length;m++){var U=u[m],X=U.startTime;if(X>D)break;var se=U.transferSize,ce=U.initiatorType;se&&b1(ce)&&(U=U.responseEnd,_+=se*(U<D?1:(D-X)/(U-X)))}if(--m,o+=8*(S+_)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Np=null,Mp=null;function yc(i){return i.nodeType===9?i:i.ownerDocument}function x1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S1(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Dp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Pp=null;function VR(){var i=window.event;return i&&i.type==="popstate"?i===Pp?!1:(Pp=i,!0):(Pp=null,!1)}var w1=typeof setTimeout=="function"?setTimeout:void 0,FR=typeof clearTimeout=="function"?clearTimeout:void 0,A1=typeof Promise=="function"?Promise:void 0,KR=typeof queueMicrotask=="function"?queueMicrotask:typeof A1<"u"?function(i){return A1.resolve(null).then(i).catch(YR)}:w1;function YR(i){setTimeout(function(){throw i})}function Xi(i){return i==="head"}function E1(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),Yo(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")hs(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,hs(u);for(var S=u.firstChild;S;){var _=S.nextSibling,D=S.nodeName;S[Rl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=_}}else u==="body"&&hs(i.ownerDocument.body);u=v}while(u);Yo(o)}function T1(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Op(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Op(u),Ld(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function JR(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Rl])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=cr(i.nextSibling),i===null)break}return null}function XR(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=cr(i.nextSibling),i===null))return null;return i}function C1(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=cr(i.nextSibling),i===null))return null;return i}function Rp(i){return i.data==="$?"||i.data==="$~"}function Ip(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function WR(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function cr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var kp=null;function _1(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return cr(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function N1(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function M1(i,o,u){switch(o=yc(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function hs(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ld(i)}var fr=new Map,D1=new Set;function bc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ci=ne.d;ne.d={f:ZR,r:QR,D:eI,C:tI,L:nI,m:rI,X:aI,S:iI,M:oI};function ZR(){var i=ci.f(),o=cc();return i||o}function QR(i){var o=mo(i);o!==null&&o.tag===5&&o.type==="form"?Kx(o):ci.r(i)}var Vo=typeof document>"u"?null:document;function P1(i,o,u){var m=Vo;if(m&&typeof o=="string"&&o){var v=rr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),D1.has(v)||(D1.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),on(o,"link",i),Jt(o),m.head.appendChild(o)))}}function eI(i){ci.D(i),P1("dns-prefetch",i,null)}function tI(i,o){ci.C(i,o),P1("preconnect",i,o)}function nI(i,o,u){ci.L(i,o,u);var m=Vo;if(m&&i&&o){var v='link[rel="preload"][as="'+rr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+rr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+rr(u.imageSizes)+'"]')):v+='[href="'+rr(i)+'"]';var S=v;switch(o){case"style":S=Fo(i);break;case"script":S=Ko(i)}fr.has(S)||(i=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),fr.set(S,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(gs(S))||o==="script"&&m.querySelector(vs(S))||(o=m.createElement("link"),on(o,"link",i),Jt(o),m.head.appendChild(o)))}}function rI(i,o){ci.m(i,o);var u=Vo;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+rr(m)+'"][href="'+rr(i)+'"]',S=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ko(i)}if(!fr.has(S)&&(i=h({rel:"modulepreload",href:i},o),fr.set(S,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(vs(S)))return}m=u.createElement("link"),on(m,"link",i),Jt(m),u.head.appendChild(m)}}}function iI(i,o,u){ci.S(i,o,u);var m=Vo;if(m&&i){var v=po(m).hoistableStyles,S=Fo(i);o=o||"default";var _=v.get(S);if(!_){var D={loading:0,preload:null};if(_=m.querySelector(gs(S)))D.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},u),(u=fr.get(S))&&jp(i,u);var U=_=m.createElement("link");Jt(U),on(U,"link",i),U._p=new Promise(function(X,se){U.onload=X,U.onerror=se}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,xc(_,o,m)}_={type:"stylesheet",instance:_,count:1,state:D},v.set(S,_)}}}function aI(i,o){ci.X(i,o);var u=Vo;if(u&&i){var m=po(u).hoistableScripts,v=Ko(i),S=m.get(v);S||(S=u.querySelector(vs(v)),S||(i=h({src:i,async:!0},o),(o=fr.get(v))&&Lp(i,o),S=u.createElement("script"),Jt(S),on(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(v,S))}}function oI(i,o){ci.M(i,o);var u=Vo;if(u&&i){var m=po(u).hoistableScripts,v=Ko(i),S=m.get(v);S||(S=u.querySelector(vs(v)),S||(i=h({src:i,async:!0,type:"module"},o),(o=fr.get(v))&&Lp(i,o),S=u.createElement("script"),Jt(S),on(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(v,S))}}function O1(i,o,u,m){var v=(v=Te.current)?bc(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Fo(u.href),u=po(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Fo(u.href);var S=po(v).hoistableStyles,_=S.get(i);if(_||(v=v.ownerDocument||v,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,_),(S=v.querySelector(gs(i)))&&!S._p&&(_.instance=S,_.state.loading=5),fr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},fr.set(i,u),S||lI(v,i,u,_.state))),o&&m===null)throw Error(r(528,""));return _}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ko(u),u=po(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Fo(i){return'href="'+rr(i)+'"'}function gs(i){return'link[rel="stylesheet"]['+i+"]"}function R1(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function lI(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),on(o,"link",u),Jt(o),i.head.appendChild(o))}function Ko(i){return'[src="'+rr(i)+'"]'}function vs(i){return"script[async]"+i}function I1(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+rr(u.href)+'"]');if(m)return o.instance=m,Jt(m),m;var v=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Jt(m),on(m,"style",v),xc(m,u.precedence,i),o.instance=m;case"stylesheet":v=Fo(u.href);var S=i.querySelector(gs(v));if(S)return o.state.loading|=4,o.instance=S,Jt(S),S;m=R1(u),(v=fr.get(v))&&jp(m,v),S=(i.ownerDocument||i).createElement("link"),Jt(S);var _=S;return _._p=new Promise(function(D,U){_.onload=D,_.onerror=U}),on(S,"link",m),o.state.loading|=4,xc(S,u.precedence,i),o.instance=S;case"script":return S=Ko(u.src),(v=i.querySelector(vs(S)))?(o.instance=v,Jt(v),v):(m=u,(v=fr.get(S))&&(m=h({},u),Lp(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),Jt(v),on(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,xc(m,u.precedence,i));return o.instance}function xc(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,S=v,_=0;_<m.length;_++){var D=m[_];if(D.dataset.precedence===o)S=D;else if(S!==v)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function jp(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Lp(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Sc=null;function k1(i,o,u){if(Sc===null){var m=new Map,v=Sc=new Map;v.set(u,m)}else v=Sc,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var S=u[v];if(!(S[Rl]||S[tn]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var _=S.getAttribute(o)||"";_=i+_;var D=m.get(_);D?D.push(S):m.set(_,[S])}}return m}function j1(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function sI(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function L1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function uI(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Fo(m.href),S=o.querySelector(gs(v));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=wc.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=S,Jt(S);return}S=o.ownerDocument||o,m=R1(m),(v=fr.get(v))&&jp(m,v),S=S.createElement("link"),Jt(S);var _=S;_._p=new Promise(function(D,U){_.onload=D,_.onerror=U}),on(S,"link",m),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=wc.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Up=0;function cI(i,o){return i.stylesheets&&i.count===0&&Ec(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&Ec(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&Up===0&&(Up=62500*$R());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ec(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Up?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ac=null;function Ec(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ac=new Map,o.forEach(fI,i),Ac=null,wc.call(i))}function fI(i,o){if(!(o.state.loading&4)){var u=Ac.get(i);if(u)var m=u.get(null);else{u=new Map,Ac.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var _=v[S];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(u.set(_.dataset.precedence,_),m=_)}m&&u.set(null,m)}v=o.instance,_=v.getAttribute("data-precedence"),S=u.get(_)||m,S===m&&u.set(null,v),u.set(_,v),this.count++,m=wc.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),S?S.parentNode.insertBefore(v,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var ys={$$typeof:P,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function dI(i,o,u,m,v,S,_,D,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.hiddenUpdates=Rd(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function U1(i,o,u,m,v,S,_,D,U,X,se,ce){return i=new dI(i,o,u,_,U,X,se,ce,D),o=1,S===!0&&(o|=24),S=Bn(3,null,null,o),i.current=S,S.stateNode=i,o=vm(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:m,isDehydrated:u,cache:o},Sm(S),i}function q1(i){return i?(i=Eo,i):Eo}function B1(i,o,u,m,v,S){v=q1(v),m.context===null?m.context=v:m.pendingContext=v,m=qi(o),m.payload={element:u},S=S===void 0?null:S,S!==null&&(m.callback=S),u=Bi(i,m,o),u!==null&&(kn(u,i,o),Xl(u,i,o))}function z1(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function qp(i,o){z1(i,o),(i=i.alternate)&&z1(i,o)}function H1(i){if(i.tag===13||i.tag===31){var o=Ca(i,67108864);o!==null&&kn(o,i,67108864),qp(i,67108864)}}function G1(i){if(i.tag===13||i.tag===31){var o=Vn();o=Id(o);var u=Ca(i,o);u!==null&&kn(u,i,o),qp(i,o)}}var Tc=!0;function mI(i,o,u,m){var v=B.T;B.T=null;var S=ne.p;try{ne.p=2,Bp(i,o,u,m)}finally{ne.p=S,B.T=v}}function pI(i,o,u,m){var v=B.T;B.T=null;var S=ne.p;try{ne.p=8,Bp(i,o,u,m)}finally{ne.p=S,B.T=v}}function Bp(i,o,u,m){if(Tc){var v=zp(m);if(v===null)Cp(i,o,m,Cc,u),V1(i,m);else if(gI(v,i,o,u,m))m.stopPropagation();else if(V1(i,m),o&4&&-1<hI.indexOf(i)){for(;v!==null;){var S=mo(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var _=tr(S.pendingLanes);if(_!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;_;){var U=1<<31-Ne(_);D.entanglements[1]|=U,_&=~U}Br(S),(Qe&6)===0&&(sc=zt()+500,ds(0))}}break;case 31:case 13:D=Ca(S,2),D!==null&&kn(D,S,2),cc(),qp(S,2)}if(S=zp(m),S===null&&Cp(i,o,m,Cc,u),S===v)break;v=S}v!==null&&m.stopPropagation()}else Cp(i,o,m,null,u)}}function zp(i){return i=Gd(i),Hp(i)}var Cc=null;function Hp(i){if(Cc=null,i=fo(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=s(o),i!==null)return i;i=null}else if(u===31){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Cc=i,null}function $1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ba()){case Tr:return 2;case Cr:return 8;case yn:case Pl:return 32;case xa:return 268435456;default:return 32}default:return 32}}var Gp=!1,Wi=null,Zi=null,Qi=null,bs=new Map,xs=new Map,ea=[],hI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V1(i,o){switch(i){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":bs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(o.pointerId)}}function Ss(i,o,u,m,v,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:S,targetContainers:[v]},o!==null&&(o=mo(o),o!==null&&H1(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function gI(i,o,u,m,v){switch(o){case"focusin":return Wi=Ss(Wi,i,o,u,m,v),!0;case"dragenter":return Zi=Ss(Zi,i,o,u,m,v),!0;case"mouseover":return Qi=Ss(Qi,i,o,u,m,v),!0;case"pointerover":var S=v.pointerId;return bs.set(S,Ss(bs.get(S)||null,i,o,u,m,v)),!0;case"gotpointercapture":return S=v.pointerId,xs.set(S,Ss(xs.get(S)||null,i,o,u,m,v)),!0}return!1}function F1(i){var o=fo(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=s(u),o!==null){i.blockedOn=o,ob(i.priority,function(){G1(u)});return}}else if(o===31){if(o=c(u),o!==null){i.blockedOn=o,ob(i.priority,function(){G1(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _c(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=zp(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Hd=m,u.target.dispatchEvent(m),Hd=null}else return o=mo(u),o!==null&&H1(o),i.blockedOn=u,!1;o.shift()}return!0}function K1(i,o,u){_c(i)&&u.delete(o)}function vI(){Gp=!1,Wi!==null&&_c(Wi)&&(Wi=null),Zi!==null&&_c(Zi)&&(Zi=null),Qi!==null&&_c(Qi)&&(Qi=null),bs.forEach(K1),xs.forEach(K1)}function Nc(i,o){i.blockedOn===o&&(i.blockedOn=null,Gp||(Gp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vI)))}var Mc=null;function Y1(i){Mc!==i&&(Mc=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mc===i&&(Mc=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(Hp(m||u)===null)continue;break}var S=mo(u);S!==null&&(i.splice(o,3),o-=3,zm(S,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function Yo(i){function o(U){return Nc(U,i)}Wi!==null&&Nc(Wi,i),Zi!==null&&Nc(Zi,i),Qi!==null&&Nc(Qi,i),bs.forEach(o),xs.forEach(o);for(var u=0;u<ea.length;u++){var m=ea[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<ea.length&&(u=ea[0],u.blockedOn===null);)F1(u),u.blockedOn===null&&ea.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],S=u[m+1],_=v[Mn]||null;if(typeof S=="function")_||Y1(u);else if(_){var D=null;if(S&&S.hasAttribute("formAction")){if(v=S,_=S[Mn]||null)D=_.formAction;else if(Hp(v)!==null)continue}else D=_.action;typeof D=="function"?u[m+1]=D:(u.splice(m,3),m-=3),Y1(u)}}}function J1(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(_){return v=_})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function $p(i){this._internalRoot=i}Dc.prototype.render=$p.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=Vn();B1(u,m,i,o,null,null)},Dc.prototype.unmount=$p.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;B1(i.current,2,null,i,null,null),cc(),o[co]=null}};function Dc(i){this._internalRoot=i}Dc.prototype.unstable_scheduleHydration=function(i){if(i){var o=ab();i={blockedOn:null,target:i,priority:o};for(var u=0;u<ea.length&&o!==0&&o<ea[u].priority;u++);ea.splice(u,0,i),u===0&&F1(i)}};var X1=t.version;if(X1!=="19.2.0")throw Error(r(527,X1,"19.2.0"));ne.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var yI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{le=Pc.inject(yI),de=Pc}catch{}}return As.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",v=rS,S=iS,_=aS;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=U1(i,1,!1,null,null,u,m,null,v,S,_,J1),i[co]=o.current,Tp(i),new $p(o)},As.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,v="",S=rS,_=iS,D=aS,U=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),o=U1(i,1,!0,o,u??null,m,v,U,S,_,D,J1),o.context=q1(null),u=o.current,m=Vn(),m=Id(m),v=qi(m),v.callback=null,Bi(u,v,m),u=m,o.current.lanes=u,Ol(o,u),Br(o),i[co]=o.current,Tp(i),new Dc(o)},As.version="19.2.0",As}var ow;function PI(){if(ow)return Yp.exports;ow=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yp.exports=DI(),Yp.exports}var OI=PI();const RI=Fr(OI);function Dr(e,t){const[n,r]=T.useState(()=>{try{const a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.error(a),t}});return T.useEffect(()=>{try{window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.error(a)}},[e,n]),[n,r]}var Zt=(e=>(e.White="Blanco",e.Yellow="Amarillo",e.Orange="Naranja",e.Green="Verde",e.Blue="Azul",e.Purple="Morado",e.Brown="Marrn",e.Black="Negro",e))(Zt||{}),$t=(e=>(e.Paid="Pagado",e.Pending="Pendiente",e.Overdue="Vencido",e))($t||{}),Ye=(e=>(e.Low="Bajo",e.Medium="Medio",e.High="Alto",e))(Ye||{}),Sn=(e=>(e.Beginners="Principiantes",e.Intermediate="Intermedios",e.Advanced="Avanzados",e.AllLevels="Todos",e))(Sn||{}),mn=(e=>(e.Income="Ingreso",e.Expense="Gasto",e))(mn||{});const Ai={className:"w-6 h-6",strokeWidth:1.5},II=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),kI=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),jI=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 3.375c-3.418 0-6.162 2.744-6.162 6.125s2.744 6.125 6.162 6.125 6.162-2.744 6.162-6.125S15.418 3.375 12 3.375z"})}),LI=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M12 14.25h.008v.008H12v-.008z"})}),UI=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.826-1.106-2.156 0-2.982C10.544 7.219 11.272 7 12 7c.725 0 1.45.22 2.003.659l.879.659m7.5 0a48.667 48.667 0 00-7.5 0"})}),L_=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),qI=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),BI=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),zI=()=>b.jsx("svg",{...Ai,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),HI=()=>b.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),U_=()=>b.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),q_=()=>b.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.75 18l1.197-.398a3.375 3.375 0 002.456-2.456L17.25 14.25l.398 1.197a3.375 3.375 0 002.456 2.456L21 18l-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),B_=()=>b.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),z_=()=>b.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.033-2.124H8.033c-1.124 0-2.033.944-2.033 2.124v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),H_=()=>b.jsxs("svg",{className:"animate-spin h-5 w-5 text-high-contrast-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),GI={},vr=e=>{const t=import.meta&&GI?"/dojo-manager-pro/":"/";return`${t.endsWith("/")?t:`${t}/`}${e}`.replace(/\/{2,}/g,"/")},$I=(e,t,n,r=18)=>{const a=new Date;a.setUTCHours(12,0,0,0),a.setUTCDate(a.getUTCDate()-t);const l=a.toISOString().slice(0,10),s=new Date(a.getTime());return s.setUTCHours(r,30,0,0),{id:`att-${e}-${l}`,studentId:e,record:{date:l,present:n,notedAt:s.toISOString()}}},VI={1:{baseOffset:2,pattern:[!0,!0,!0,!0],hour:17},2:{baseOffset:3,pattern:[!0,!1,!0,!0],hour:18},3:{baseOffset:4,pattern:[!1,!0,!1,!0],hour:19},4:{baseOffset:5,pattern:[!0,!0,!1,!1],hour:20},5:{baseOffset:6,pattern:[!0,!0,!0,!1],hour:17}},Ln=["Sensei Hiro Tanaka","Maestra Li Zhang","Coach Miguel Reyes","Sensei Ana Morales","Instructor Carlos Vega","Sensei Kaori Nakamura"],lw=[{id:"1",name:"Ryu Hoshi",discipline:"Karate",belt:Zt.Black,paymentStatus:$t.Paid,riskLevel:Ye.Low,profilePicUrl:vr("images/students/Ryu-Hoshi.png"),joinDate:"2022-01-15T00:00:00.000Z"},{id:"2",name:"Chun-Li",discipline:"Kung Fu",belt:Zt.Black,paymentStatus:$t.Paid,riskLevel:Ye.Low,profilePicUrl:vr("images/students/Chun-Li.png"),joinDate:"2022-03-20T00:00:00.000Z"},{id:"3",name:"Ken Masters",discipline:"Karate",belt:Zt.Brown,paymentStatus:$t.Pending,riskLevel:Ye.Medium,profilePicUrl:vr("images/students/Ken-Masters.png"),joinDate:"2023-05-10T00:00:00.000Z"},{id:"4",name:"Fei Long",discipline:"Jeet Kune Do",belt:Zt.Green,paymentStatus:$t.Overdue,riskLevel:Ye.High,profilePicUrl:vr("images/students/Fei-Long.png"),joinDate:"2023-08-01T00:00:00.000Z"},{id:"5",name:"Sakura Kasugano",discipline:"Karate",belt:Zt.Blue,paymentStatus:$t.Paid,riskLevel:Ye.Low,profilePicUrl:vr("images/students/Sakura-Kasugano.png"),joinDate:"2023-11-22T00:00:00.000Z"}],sw=[{id:"c1",name:"Karate Kids",day:"Lunes",time:"17:00",level:Sn.Beginners,instructor:Ln[0]},{id:"c2",name:"Kung Fu Adultos",day:"Lunes",time:"19:00",level:Sn.Intermediate,instructor:Ln[1]},{id:"c3",name:"Sparring Avanzado",day:"Martes",time:"20:00",level:Sn.Advanced,instructor:Ln[2]},{id:"c4",name:"Yoga Marcial",day:"Mircoles",time:"18:00",level:Sn.AllLevels,instructor:Ln[3]},{id:"c5",name:"Defensa Personal",day:"Jueves",time:"19:00",level:Sn.AllLevels,instructor:Ln[4]},{id:"c6",name:"Karate Avanzado",day:"Viernes",time:"19:00",level:Sn.Advanced,instructor:Ln[5]}],uw=[...Object.entries(VI).flatMap(([e,t])=>t.pattern.map((n,r)=>$I(e,t.baseOffset+r*7,n,t.hour)))],cw=[{id:"fb-1",studentId:"1",rating:5,comment:"Excelente energa y progreso!",submittedAt:"2024-10-12T18:45:00.000Z",className:"Karate Kids",instructor:Ln[0]},{id:"fb-2",studentId:"2",rating:4,comment:"Me gust la sesin, quiero enfocarme en patadas.",submittedAt:"2024-10-10T19:30:00.000Z",className:"Kung Fu Adultos",instructor:Ln[1]},{id:"fb-3",studentId:"3",rating:3,comment:"Necesito reforzar la tcnica, me sent un poco perdido.",submittedAt:"2024-10-09T20:45:00.000Z",className:"Sparring Avanzado",instructor:Ln[2]},{id:"fb-4",studentId:"4",rating:4,comment:"Yoga Marcial me ayud bastante con la movilidad.",submittedAt:"2024-10-11T21:20:00.000Z",className:"Yoga Marcial",instructor:Ln[3]},{id:"fb-5",studentId:"5",rating:5,comment:"Clases muy motivadoras, gracias!",submittedAt:"2024-10-13T18:40:00.000Z",className:"Defensa Personal",instructor:Ln[4]}],FI=[{id:"t1",date:new Date(new Date().setDate(1)).toISOString(),description:"Cuota Mensual - Ryu Hoshi",amount:50,type:mn.Income},{id:"t2",date:new Date(new Date().setDate(2)).toISOString(),description:"Cuota Mensual - Chun-Li",amount:50,type:mn.Income},{id:"t3",date:new Date(new Date().setDate(5)).toISOString(),description:"Alquiler de local",amount:800,type:mn.Expense},{id:"t4",date:new Date(new Date().setDate(10)).toISOString(),description:"Compra de equipamiento",amount:250,type:mn.Expense},{id:"t5",date:new Date(new Date().setDate(15)).toISOString(),description:"Pago de servicios",amount:120,type:mn.Expense}],KI=[{id:"p1",imageUrl:"https://images.unsplash.com/photo-1508804185872-d7badad00f7d?auto=format&fit=crop&w=900&q=80",caption:"Gran da de torneo interno! Nuestros guerreros dejaron todo en el tatami.",author:"Sensei Ana",date:new Date().toISOString()},{id:"p2",imageUrl:"https://images.unsplash.com/photo-1588286840104-8957b019727f?auto=format&fit=crop&w=900&q=80",caption:"Seminario intensivo con el Maestro Hiro: foco en kumite y control mental.",author:"Coach Miguel",date:new Date(new Date().setDate(new Date().getDate()-3)).toISOString()},{id:"p3",imageUrl:"https://images.unsplash.com/photo-1521804906057-3d79050d722a?auto=format&fit=crop&w=900&q=80",caption:"Ceremonia de graduacin: nuevos cinturones negros listos para liderar.",author:"Direccin Dojo",date:new Date(new Date().setDate(new Date().getDate()-6)).toISOString()}],Zp={name:"Academia Marcial SPARTA",logoUrl:vr("images/dojo/dojo-profile.png"),contactEmail:"contacto@academiaartesmarciales.edu",contactPhone:"+1 (555) 123-4567",address:"123 Camino del Guerrero, Ciudad Marcial"},G_=[{id:"dashboard",label:"Panel de Control",icon:b.jsx(kI,{})},{id:"students",label:"Alumnos",icon:b.jsx(jI,{})},{id:"schedule",label:"Horarios",icon:b.jsx(LI,{})},{id:"finances",label:"Finanzas",icon:b.jsx(UI,{})},{id:"retention",label:"Retencin",icon:b.jsx(L_,{})},{id:"community",label:"Comunidad",icon:b.jsx(qI,{})},{id:"profile",label:"Perfil del Dojo",icon:b.jsx(BI,{})}],YI={[Sn.Beginners]:"bg-green-500",[Sn.Intermediate]:"bg-blue-500",[Sn.Advanced]:"bg-red-500",[Sn.AllLevels]:"bg-yellow-500"},Oc=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],Vv=()=>{const[e,t]=T.useState(()=>{if(typeof window>"u")return"dark";const r=localStorage.getItem("theme");if(r==="light"||r==="light-theme"){try{localStorage.setItem("theme","dark")}catch{}return"dark"}return r||"dark"});return T.useEffect(()=>{if(typeof window>"u")return;localStorage.setItem("theme",e);const r=document.documentElement;e==="light"?r.classList.add("light-theme"):r.classList.remove("light-theme")},[e]),T.useEffect(()=>{if(typeof window>"u")return;const r=document.documentElement;if(r.classList.contains("light-theme")){r.classList.remove("light-theme");try{localStorage.setItem("theme","dark")}catch{}t("dark")}},[]),{theme:e,toggleTheme:()=>{t(r=>r==="dark"?"light":"dark")}}},fw=vr("images/dojo/sidebar-logo.png"),JI=({currentView:e,setCurrentView:t,isOpen:n,setIsOpen:r,onLogout:a,logoUrl:l})=>{const{theme:s}=Vv(),c=l||fw,d=f=>{t(f),r(!1)};return b.jsxs("aside",{className:`w-64 p-6 flex flex-col justify-between h-screen fixed top-0 left-0 z-40 transform ${n?"translate-x-0":"-translate-x-full"} transition-all duration-300 ease-in-out md:translate-x-0 md:fixed
            ${s==="dark"?"bg-nebula-blue":"bg-light-surface border-r border-light-primary/20"}`,children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("div",{className:`w-20 h-20 rounded-xl flex items-center justify-center overflow-hidden transition-all duration-300
                            ${s==="dark"?"bg-space-black border border-neon-blue/40 shadow-neon":"bg-light-bg border border-light-primary/40 shadow-light"}`,children:b.jsx("img",{src:c,alt:"Logo del Dojo",className:"w-full h-full object-contain",onError:f=>{f.currentTarget.src=fw,f.currentTarget.onerror=null}})})}),b.jsx("button",{onClick:()=>r(!1),className:"md:hidden text-secondary-gray hover:text-high-contrast-white",children:b.jsx(U_,{})})]}),b.jsx("nav",{children:b.jsx("ul",{children:G_.map(f=>b.jsx("li",{className:"mb-2",children:b.jsxs("a",{href:"#",onClick:p=>{p.preventDefault(),d(f.id)},className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-all duration-300
                                        ${e===f.id?s==="dark"?"bg-neon-blue text-high-contrast-white shadow-neon":"bg-light-primary text-white shadow-light":s==="dark"?"text-secondary-gray hover:bg-neon-blue/20 hover:text-high-contrast-white":"text-light-secondary hover:bg-light-primary/10 hover:text-light-primary"}`,children:[f.icon,b.jsx("span",{children:f.label})]})},f.id))})})]}),b.jsx("div",{children:b.jsxs("a",{href:"#",onClick:f=>{f.preventDefault(),a()},className:"flex items-center gap-3 px-4 py-2 rounded-lg text-secondary-gray hover:bg-red-500/20 hover:text-high-contrast-white transition-colors duration-300",children:[b.jsx(zI,{}),b.jsx("span",{children:"Cerrar Sesin"})]})})]})};function $_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=$_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=$_(e))&&(r&&(r+=" "),r+=t);return r}var XI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Fv(e){if(typeof e!="string")return!1;var t=XI;return t.includes(e)}var WI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function V_(e){if(typeof e!="string")return!1;var t=WI;return t.includes(e)}function F_(e){return typeof e=="string"&&e.startsWith("data-")}function Zn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return V_(r)||F_(r)});return Object.fromEntries(t)}function Wa(e){if(e==null)return null;if(T.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Zn(t)}return typeof e=="object"&&!Array.isArray(e)?Zn(e):null}function Tn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return V_(r)||F_(r)||Fv(r)});return Object.fromEntries(t)}function ZI(e){return e==null?null:T.isValidElement(e)?Tn(e.props):typeof e=="object"&&!Array.isArray(e)?Tn(e):null}var QI=["children","width","height","viewBox","className","style","title","desc"];function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(null,arguments)}function ek(e,t){if(e==null)return{};var n,r,a=tk(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tk(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kv=T.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:l,className:s,style:c,title:d,desc:f}=e,p=ek(e,QI),h=l||{width:r,height:a,x:0,y:0},x=Je("recharts-surface",s);return T.createElement("svg",qg({},Tn(p),{className:x,width:r,height:a,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),T.createElement("title",null,d),T.createElement("desc",null,f),n)}),nk=["children","className"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bg.apply(null,arguments)}function rk(e,t){if(e==null)return{};var n,r,a=ik(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ik(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var un=T.forwardRef((e,t)=>{var{children:n,className:r}=e,a=rk(e,nk),l=Je("recharts-layer",r);return T.createElement("g",Bg({className:l},Tn(a),{ref:t}),n)}),K_=j_(),Y_=T.createContext(null),ak=()=>T.useContext(Y_);function pt(e){return function(){return e}}const J_=Math.cos,ef=Math.sin,Rr=Math.sqrt,tf=Math.PI,Vf=2*tf,zg=Math.PI,Hg=2*zg,Ba=1e-6,ok=Hg-Ba;function X_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lk(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return X_;const n=10**t;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class sk{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?X_:lk(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,l,s){this._append`C${+t},${+n},${+r},${+a},${this._x1=+l},${this._y1=+s}`}arcTo(t,n,r,a,l){if(t=+t,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let s=this._x1,c=this._y1,d=r-t,f=a-n,p=s-t,h=c-n,x=p*p+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>Ba)if(!(Math.abs(h*d-f*p)>Ba)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-s,E=a-c,A=d*d+f*f,C=w*w+E*E,N=Math.sqrt(A),R=Math.sqrt(x),P=l*Math.tan((zg-Math.acos((A+x-C)/(2*N*R)))/2),M=P/R,I=P/N;Math.abs(M-1)>Ba&&this._append`L${t+M*p},${n+M*h}`,this._append`A${l},${l},0,0,${+(h*w>p*E)},${this._x1=t+I*d},${this._y1=n+I*f}`}}arc(t,n,r,a,l,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),d=r*Math.sin(a),f=t+c,p=n+d,h=1^s,x=s?a-l:l-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Ba||Math.abs(this._y1-p)>Ba)&&this._append`L${f},${p}`,r&&(x<0&&(x=x%Hg+Hg),x>ok?this._append`A${r},${r},0,1,${h},${t-c},${n-d}A${r},${r},0,1,${h},${this._x1=f},${this._y1=p}`:x>Ba&&this._append`A${r},${r},0,${+(x>=zg)},${h},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Yv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new sk(t)}function Jv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function W_(e){this._context=e}W_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ff(e){return new W_(e)}function Z_(e){return e[0]}function Q_(e){return e[1]}function eN(e,t){var n=pt(!0),r=null,a=Ff,l=null,s=Yv(c);e=typeof e=="function"?e:e===void 0?Z_:pt(e),t=typeof t=="function"?t:t===void 0?Q_:pt(t);function c(d){var f,p=(d=Jv(d)).length,h,x=!1,w;for(r==null&&(l=a(w=s())),f=0;f<=p;++f)!(f<p&&n(h=d[f],f,d))===x&&((x=!x)?l.lineStart():l.lineEnd()),x&&l.point(+e(h,f,d),+t(h,f,d));if(w)return l=null,w+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:pt(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:pt(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:pt(!!d),c):n},c.curve=function(d){return arguments.length?(a=d,r!=null&&(l=a(r)),c):a},c.context=function(d){return arguments.length?(d==null?r=l=null:l=a(r=d),c):r},c}function Rc(e,t,n){var r=null,a=pt(!0),l=null,s=Ff,c=null,d=Yv(f);e=typeof e=="function"?e:e===void 0?Z_:pt(+e),t=typeof t=="function"?t:pt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Q_:pt(+n);function f(h){var x,w,E,A=(h=Jv(h)).length,C,N=!1,R,P=new Array(A),M=new Array(A);for(l==null&&(c=s(R=d())),x=0;x<=A;++x){if(!(x<A&&a(C=h[x],x,h))===N)if(N=!N)w=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=x-1;E>=w;--E)c.point(P[E],M[E]);c.lineEnd(),c.areaEnd()}N&&(P[x]=+e(C,x,h),M[x]=+t(C,x,h),c.point(r?+r(C,x,h):P[x],n?+n(C,x,h):M[x]))}if(R)return c=null,R+""||null}function p(){return eN().defined(a).curve(s).context(l)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:pt(+h),r=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:pt(+h),f):e},f.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:pt(+h),f):r},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:pt(+h),n=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:pt(+h),f):t},f.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:pt(+h),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(h){return arguments.length?(a=typeof h=="function"?h:pt(!!h),f):a},f.curve=function(h){return arguments.length?(s=h,l!=null&&(c=s(l)),f):s},f.context=function(h){return arguments.length?(h==null?l=c=null:c=s(l=h),f):l},f}class tN{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function uk(e){return new tN(e,!0)}function ck(e){return new tN(e,!1)}const Xv={draw(e,t){const n=Rr(t/tf);e.moveTo(n,0),e.arc(0,0,n,0,Vf)}},fk={draw(e,t){const n=Rr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nN=Rr(1/3),dk=nN*2,mk={draw(e,t){const n=Rr(t/dk),r=n*nN;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},pk={draw(e,t){const n=Rr(t),r=-n/2;e.rect(r,r,n,n)}},hk=.8908130915292852,rN=ef(tf/10)/ef(7*tf/10),gk=ef(Vf/10)*rN,vk=-J_(Vf/10)*rN,yk={draw(e,t){const n=Rr(t*hk),r=gk*n,a=vk*n;e.moveTo(0,-n),e.lineTo(r,a);for(let l=1;l<5;++l){const s=Vf*l/5,c=J_(s),d=ef(s);e.lineTo(d*n,-c*n),e.lineTo(c*r-d*a,d*r+c*a)}e.closePath()}},Qp=Rr(3),bk={draw(e,t){const n=-Rr(t/(Qp*3));e.moveTo(0,n*2),e.lineTo(-Qp*n,-n),e.lineTo(Qp*n,-n),e.closePath()}},dr=-.5,mr=Rr(3)/2,Gg=1/Rr(12),xk=(Gg/2+1)*3,Sk={draw(e,t){const n=Rr(t/xk),r=n/2,a=n*Gg,l=r,s=n*Gg+n,c=-l,d=s;e.moveTo(r,a),e.lineTo(l,s),e.lineTo(c,d),e.lineTo(dr*r-mr*a,mr*r+dr*a),e.lineTo(dr*l-mr*s,mr*l+dr*s),e.lineTo(dr*c-mr*d,mr*c+dr*d),e.lineTo(dr*r+mr*a,dr*a-mr*r),e.lineTo(dr*l+mr*s,dr*s-mr*l),e.lineTo(dr*c+mr*d,dr*d-mr*c),e.closePath()}};function wk(e,t){let n=null,r=Yv(a);e=typeof e=="function"?e:pt(e||Xv),t=typeof t=="function"?t:pt(t===void 0?64:+t);function a(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(e=typeof l=="function"?l:pt(l),a):e},a.size=function(l){return arguments.length?(t=typeof l=="function"?l:pt(+l),a):t},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function nf(){}function rf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function iN(e){this._context=e}iN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ak(e){return new iN(e)}function aN(e){this._context=e}aN.prototype={areaStart:nf,areaEnd:nf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ek(e){return new aN(e)}function oN(e){this._context=e}oN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tk(e){return new oN(e)}function lN(e){this._context=e}lN.prototype={areaStart:nf,areaEnd:nf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ck(e){return new lN(e)}function dw(e){return e<0?-1:1}function mw(e,t,n){var r=e._x1-e._x0,a=t-e._x1,l=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),c=(l*a+s*r)/(r+a);return(dw(l)+dw(s))*Math.min(Math.abs(l),Math.abs(s),.5*Math.abs(c))||0}function pw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function eh(e,t,n){var r=e._x0,a=e._y0,l=e._x1,s=e._y1,c=(l-r)/3;e._context.bezierCurveTo(r+c,a+c*t,l-c,s-c*n,l,s)}function af(e){this._context=e}af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eh(this,this._t0,pw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,eh(this,pw(this,n=mw(this,e,t)),n);break;default:eh(this,this._t0,n=mw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function sN(e){this._context=new uN(e)}(sN.prototype=Object.create(af.prototype)).point=function(e,t){af.prototype.point.call(this,t,e)};function uN(e){this._context=e}uN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,l){this._context.bezierCurveTo(t,e,r,n,l,a)}};function _k(e){return new af(e)}function Nk(e){return new sN(e)}function cN(e){this._context=e}cN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hw(e),a=hw(t),l=0,s=1;s<n;++l,++s)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hw(e){var t,n=e.length-1,r,a=new Array(n),l=new Array(n),s=new Array(n);for(a[0]=0,l[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,l[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,l[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/l[t-1],l[t]-=r,s[t]-=r*s[t-1];for(a[n-1]=s[n-1]/l[n-1],t=n-2;t>=0;--t)a[t]=(s[t]-a[t+1])/l[t];for(l[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-a[t+1];return[a,l]}function Mk(e){return new cN(e)}function Kf(e,t){this._context=e,this._t=t}Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Dk(e){return new Kf(e,.5)}function Pk(e){return new Kf(e,0)}function Ok(e){return new Kf(e,1)}function ol(e,t){if((s=e.length)>1)for(var n=1,r,a,l=e[t[0]],s,c=l.length;n<s;++n)for(a=l,l=e[t[n]],r=0;r<c;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function $g(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Rk(e,t){return e[t]}function Ik(e){const t=[];return t.key=e,t}function kk(){var e=pt([]),t=$g,n=ol,r=Rk;function a(l){var s=Array.from(e.apply(this,arguments),Ik),c,d=s.length,f=-1,p;for(const h of l)for(c=0,++f;c<d;++c)(s[c][f]=[0,+r(h,s[c].key,f,l)]).data=h;for(c=0,p=Jv(t(s));c<d;++c)s[p[c]].index=c;return n(s,p),s}return a.keys=function(l){return arguments.length?(e=typeof l=="function"?l:pt(Array.from(l)),a):e},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:pt(+l),a):r},a.order=function(l){return arguments.length?(t=l==null?$g:typeof l=="function"?l:pt(Array.from(l)),a):t},a.offset=function(l){return arguments.length?(n=l??ol,a):n},a}function jk(e,t){if((r=e.length)>0){for(var n,r,a=0,l=e[0].length,s;a<l;++a){for(s=n=0;n<r;++n)s+=e[n][a][1]||0;if(s)for(n=0;n<r;++n)e[n][a][1]/=s}ol(e,t)}}function Lk(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,l=r.length;n<l;++n){for(var s=0,c=0;s<a;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}ol(e,t)}}function Uk(e,t){if(!(!((s=e.length)>0)||!((l=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,l,s;r<l;++r){for(var c=0,d=0,f=0;c<s;++c){for(var p=e[t[c]],h=p[r][1]||0,x=p[r-1][1]||0,w=(h-x)/2,E=0;E<c;++E){var A=e[t[E]],C=A[r][1]||0,N=A[r-1][1]||0;w+=C-N}d+=h,f+=w*h}a[r-1][1]+=a[r-1][0]=n,d&&(n-=f/d)}a[r-1][1]+=a[r-1][0]=n,ol(e,t)}}var th={},nh={},gw;function qk(){return gw||(gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(nh)),nh}var rh={},vw;function fN(){return vw||(vw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(rh)),rh}var ih={},yw;function Wv(){return yw||(yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(ih)),ih}var ah={},oh={},bw;function Bk(){return bw||(bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(oh)),oh}var xw;function Zv(){return xw||(xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bk(),n=Wv();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const l=[],s=a.length;if(s===0)return l;let c=0,d="",f="",p=!1;for(a.charCodeAt(0)===46&&(l.push(""),c++);c<s;){const h=a[c];f?h==="\\"&&c+1<s?(c++,d+=a[c]):h===f?f="":d+=h:p?h==='"'||h==="'"?f=h:h==="]"?(p=!1,l.push(d),d=""):d+=h:h==="["?(p=!0,d&&(l.push(d),d="")):h==="."?d&&(l.push(d),d=""):d+=h,c++}return d&&l.push(d),l}e.toPath=r})(ah)),ah}var Sw;function Qv(){return Sw||(Sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk(),n=fN(),r=Wv(),a=Zv();function l(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?n.isDeepKey(d)?l(c,a.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=c[d];return p===void 0?f:p}default:{if(Array.isArray(d))return s(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?f:p}}}function s(c,d,f){if(d.length===0)return f;let p=c;for(let h=0;h<d.length;h++){if(p==null||t.isUnsafeProperty(d[h]))return f;p=p[d[h]]}return p===void 0?f:p}e.get=l})(th)),th}var lh,ww;function zk(){return ww||(ww=1,lh=Qv().get),lh}var Hk=zk();const Za=Fr(Hk);var Qt=e=>e===0?0:e>0?1:-1,xr=e=>typeof e=="number"&&e!=+e,vi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Me=e=>(typeof e=="number"||e instanceof Number)&&!xr(e),$r=e=>Me(e)||typeof e=="string",Gk=0,Us=e=>{var t=++Gk;return"".concat(e||"").concat(t)},gn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(t)&&typeof t!="string")return r;var l;if(vi(t)){if(n==null)return r;var s=t.indexOf("%");l=n*parseFloat(t.slice(0,s))/100}else l=+t;return xr(l)&&(l=r),a&&n!=null&&l>n&&(l=n),l},dN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Pt(e,t,n){return Me(e)&&Me(t)?e+n*(t-e):t}function mN(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Za(r,t))===n)}var At=e=>e===null||typeof e>"u",eu=e=>At(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),$k=["type","size","sizeType"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vg.apply(null,arguments)}function Aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ew(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(n),!0).forEach(function(r){Vk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vk(e,t,n){return(t=Fk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fk(e){var t=Kk(e,"string");return typeof t=="symbol"?t:t+""}function Kk(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yk(e,t){if(e==null)return{};var n,r,a=Jk(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jk(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pN={symbolCircle:Xv,symbolCross:fk,symbolDiamond:mk,symbolSquare:pk,symbolStar:yk,symbolTriangle:bk,symbolWye:Sk},Xk=Math.PI/180,Wk=e=>{var t="symbol".concat(eu(e));return pN[t]||Xv},Zk=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Xk;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Qk=(e,t)=>{pN["symbol".concat(eu(e))]=t},ey=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=Yk(e,$k),l=Ew(Ew({},a),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var c=()=>{var x=Wk(s),w=wk().type(x).size(Zk(n,r,s)),E=w();if(E!==null)return E},{className:d,cx:f,cy:p}=l,h=Tn(l);return f===+f&&p===+p&&n===+n?T.createElement("path",Vg({},h,{className:Je("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};ey.registerSymbol=Qk;var ty=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Fv(a)&&(r[a]=(l=>n[a](n,l)))}),r},e3=(e,t,n)=>r=>(e(t,n,r),null),tu=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var l=e[a];Fv(a)&&typeof l=="function"&&(r||(r={}),r[a]=e3(l,t,n))}),r};function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fg.apply(null,arguments)}function Tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function t3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(n),!0).forEach(function(r){ny(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ny(e,t,n){return(t=n3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n3(e){var t=r3(e,"string");return typeof t=="symbol"?t:t+""}function r3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pr=32;class ry extends T.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,a=pr/2,l=pr/6,s=pr/3,c=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:pr,y2:a,className:"recharts-legend-icon"});if(d==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(pr,"M").concat(2*s,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pr/8,"h").concat(pr,"v").concat(pr*3/4,"h").concat(-pr,"z"),className:"recharts-legend-icon"});if(T.isValidElement(t.legendIcon)){var f=t3({},t);return delete f.legendIcon,T.cloneElement(t.legendIcon,f)}return T.createElement(ey,{fill:c,cx:a,cy:a,size:pr,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:l,iconType:s}=this.props,c={x:0,y:0,width:pr,height:pr},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,h)=>{var x=p.formatter||a,w=Je({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:p.inactive});if(p.type==="none")return null;var E=p.inactive?l:p.color,A=x?x(p.value,p,h):p.value;return T.createElement("li",Fg({className:w,style:d,key:"legend-item-".concat(h)},tu(this.props,p,h)),T.createElement(Kv,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(A," legend icon")},this.renderIcon(p,s)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},A))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}ny(ry,"displayName","Legend");ny(ry,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var sh={},uh={},Cw;function i3(){return Cw||(Cw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let l=0;l<n.length;l++){const s=n[l],c=r(s);a.has(c)||a.set(c,s)}return Array.from(a.values())}e.uniqBy=t})(uh)),uh}var ch={},_w;function hN(){return _w||(_w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(ch)),ch}var fh={},dh={},mh={},Nw;function a3(){return Nw||(Nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(mh)),mh}var Mw;function iy(){return Mw||(Mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a3();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(dh)),dh}var ph={},Dw;function o3(){return Dw||(Dw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(ph)),ph}var Pw;function l3(){return Pw||(Pw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iy(),n=o3();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(fh)),fh}var hh={},gh={},Ow;function s3(){return Ow||(Ow=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qv();function n(r){return function(a){return t.get(a,r)}}e.property=n})(gh)),gh}var vh={},yh={},bh={},xh={},Rw;function gN(){return Rw||(Rw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(xh)),xh}var Sh={},Iw;function vN(){return Iw||(Iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Sh)),Sh}var wh={},kw;function yN(){return kw||(kw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(wh)),wh}var jw;function u3(){return jw||(jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gN(),n=vN(),r=yN();function a(p,h,x){return typeof x!="function"?a(p,h,()=>{}):l(p,h,function w(E,A,C,N,R,P){const M=x(E,A,C,N,R,P);return M!==void 0?!!M:l(E,A,w,P)},new Map)}function l(p,h,x,w){if(h===p)return!0;switch(typeof h){case"object":return s(p,h,x,w);case"function":return Object.keys(h).length>0?l(p,{...h},x,w):r.eq(p,h);default:return t.isObject(p)?typeof h=="string"?h==="":!0:r.eq(p,h)}}function s(p,h,x,w){if(h==null)return!0;if(Array.isArray(h))return d(p,h,x,w);if(h instanceof Map)return c(p,h,x,w);if(h instanceof Set)return f(p,h,x,w);const E=Object.keys(h);if(p==null)return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(h))return w.get(h)===p;w==null||w.set(h,p);try{for(let A=0;A<E.length;A++){const C=E[A];if(!n.isPrimitive(p)&&!(C in p)||h[C]===void 0&&p[C]!==void 0||h[C]===null&&p[C]!==null||!x(p[C],h[C],C,p,h,w))return!1}return!0}finally{w==null||w.delete(h)}}function c(p,h,x,w){if(h.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,A]of h.entries()){const C=p.get(E);if(x(C,A,E,p,h,w)===!1)return!1}return!0}function d(p,h,x,w){if(h.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let A=0;A<h.length;A++){const C=h[A];let N=!1;for(let R=0;R<p.length;R++){if(E.has(R))continue;const P=p[R];let M=!1;if(x(P,C,A,p,h,w)&&(M=!0),M){E.add(R),N=!0;break}}if(!N)return!1}return!0}function f(p,h,x,w){return h.size===0?!0:p instanceof Set?d([...p],[...h],x,w):!1}e.isMatchWith=a,e.isSetMatch=f})(bh)),bh}var Lw;function bN(){return Lw||(Lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u3();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(yh)),yh}var Ah={},Eh={},Th={},Uw;function c3(){return Uw||(Uw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Th)),Th}var Ch={},qw;function xN(){return qw||(qw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Ch)),Ch}var _h={},Bw;function SN(){return Bw||(Bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",l="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",h="[object Function]",x="[object ArrayBuffer]",w="[object Object]",E="[object Error]",A="[object DataView]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",R="[object Uint16Array]",P="[object Uint32Array]",M="[object BigUint64Array]",I="[object Int8Array]",k="[object Int16Array]",j="[object Int32Array]",q="[object BigInt64Array]",$="[object Float32Array]",te="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=x,e.arrayTag=p,e.bigInt64ArrayTag=q,e.bigUint64ArrayTag=M,e.booleanTag=a,e.dataViewTag=A,e.dateTag=c,e.errorTag=E,e.float32ArrayTag=$,e.float64ArrayTag=te,e.functionTag=h,e.int16ArrayTag=k,e.int32ArrayTag=j,e.int8ArrayTag=I,e.mapTag=d,e.numberTag=r,e.objectTag=w,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=R,e.uint32ArrayTag=P,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=N})(_h)),_h}var Nh={},zw;function f3(){return zw||(zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Nh)),Nh}var Hw;function wN(){return Hw||(Hw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c3(),n=xN(),r=SN(),a=vN(),l=f3();function s(p,h){return c(p,void 0,p,new Map,h)}function c(p,h,x,w=new Map,E=void 0){const A=E==null?void 0:E(p,h,x,w);if(A!==void 0)return A;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const C=new Array(p.length);w.set(p,C);for(let N=0;N<p.length;N++)C[N]=c(p[N],N,x,w,E);return Object.hasOwn(p,"index")&&(C.index=p.index),Object.hasOwn(p,"input")&&(C.input=p.input),C}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const C=new RegExp(p.source,p.flags);return C.lastIndex=p.lastIndex,C}if(p instanceof Map){const C=new Map;w.set(p,C);for(const[N,R]of p)C.set(N,c(R,N,x,w,E));return C}if(p instanceof Set){const C=new Set;w.set(p,C);for(const N of p)C.add(c(N,void 0,x,w,E));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(l.isTypedArray(p)){const C=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,C);for(let N=0;N<p.length;N++)C[N]=c(p[N],N,x,w,E);return C}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const C=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,C),d(C,p,x,w,E),C}if(typeof File<"u"&&p instanceof File){const C=new File([p],p.name,{type:p.type});return w.set(p,C),d(C,p,x,w,E),C}if(typeof Blob<"u"&&p instanceof Blob){const C=new Blob([p],{type:p.type});return w.set(p,C),d(C,p,x,w,E),C}if(p instanceof Error){const C=new p.constructor;return w.set(p,C),C.message=p.message,C.name=p.name,C.stack=p.stack,C.cause=p.cause,d(C,p,x,w,E),C}if(p instanceof Boolean){const C=new Boolean(p.valueOf());return w.set(p,C),d(C,p,x,w,E),C}if(p instanceof Number){const C=new Number(p.valueOf());return w.set(p,C),d(C,p,x,w,E),C}if(p instanceof String){const C=new String(p.valueOf());return w.set(p,C),d(C,p,x,w,E),C}if(typeof p=="object"&&f(p)){const C=Object.create(Object.getPrototypeOf(p));return w.set(p,C),d(C,p,x,w,E),C}return p}function d(p,h,x=p,w,E){const A=[...Object.keys(h),...t.getSymbols(h)];for(let C=0;C<A.length;C++){const N=A[C],R=Object.getOwnPropertyDescriptor(p,N);(R==null||R.writable)&&(p[N]=c(h[N],N,x,w,E))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=d})(Eh)),Eh}var Gw;function d3(){return Gw||(Gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Ah)),Ah}var $w;function m3(){return $w||($w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN(),n=d3();function r(a){return a=n.cloneDeep(a),l=>t.isMatch(l,a)}e.matches=r})(vh)),vh}var Mh={},Dh={},Ph={},Vw;function p3(){return Vw||(Vw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN(),n=SN();function r(a,l){return t.cloneDeepWith(a,(s,c,d,f)=>{const p=l==null?void 0:l(s,c,d,f);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case n.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=r})(Ph)),Ph}var Fw;function h3(){return Fw||(Fw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p3();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Dh)),Dh}var Oh={},Rh={},Kw;function AN(){return Kw||(Kw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Rh)),Rh}var Ih={},Yw;function g3(){return Yw||(Yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xN();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Ih)),Ih}var Jw;function v3(){return Jw||(Jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN(),n=AN(),r=g3(),a=Zv();function l(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&(s==null?void 0:s[c])==null?d=a.toPath(c):d=[c],d.length===0)return!1;let f=s;for(let p=0;p<d.length;p++){const h=d[p];if((f==null||!Object.hasOwn(f,h))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(h)&&h<f.length))return!1;f=f[h]}return!0}e.has=l})(Oh)),Oh}var Xw;function y3(){return Xw||(Xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN(),n=Wv(),r=h3(),a=Qv(),l=v3();function s(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(f){const p=a.get(f,c);return p===void 0?l.has(f,c):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=s})(Mh)),Mh}var Ww;function b3(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN(),n=s3(),r=m3(),a=y3();function l(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=l})(hh)),hh}var Zw;function x3(){return Zw||(Zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i3(),n=hN(),r=l3(),a=b3();function l(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(c)):[]}e.uniqBy=l})(sh)),sh}var kh,Qw;function S3(){return Qw||(Qw=1,kh=x3().uniqBy),kh}var w3=S3();const eA=Fr(w3);function EN(e,t,n){return t===!0?eA(e,n):typeof t=="function"?eA(e,t):e}var jh={exports:{}},Lh={},Uh={exports:{}},qh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA;function A3(){if(tA)return qh;tA=1;var e=gl();function t(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,l=e.useLayoutEffect,s=e.useDebugValue;function c(h,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),A=E[0].inst,C=E[1];return l(function(){A.value=w,A.getSnapshot=x,d(A)&&C({inst:A})},[h,w,x]),a(function(){return d(A)&&C({inst:A}),h(function(){d(A)&&C({inst:A})})},[h]),s(w),w}function d(h){var x=h.getSnapshot;h=h.value;try{var w=x();return!n(h,w)}catch{return!0}}function f(h,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return qh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,qh}var nA;function E3(){return nA||(nA=1,Uh.exports=A3()),Uh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA;function T3(){if(rA)return Lh;rA=1;var e=gl(),t=E3();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,l=e.useRef,s=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Lh.useSyncExternalStoreWithSelector=function(f,p,h,x,w){var E=l(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=c(function(){function N(k){if(!R){if(R=!0,P=k,k=x(k),w!==void 0&&A.hasValue){var j=A.value;if(w(j,k))return M=j}return M=k}if(j=M,r(P,k))return j;var q=x(k);return w!==void 0&&w(j,q)?(P=k,j):(P=k,M=q)}var R=!1,P,M,I=h===void 0?null:h;return[function(){return N(p())},I===null?void 0:function(){return N(I())}]},[p,h,x,w]);var C=a(f,E[0],E[1]);return s(function(){A.hasValue=!0,A.value=C},[C]),d(C),C},Lh}var iA;function C3(){return iA||(iA=1,jh.exports=T3()),jh.exports}var _3=C3(),ay=T.createContext(null),N3=e=>e,Et=()=>{var e=T.useContext(ay);return e?e.store.dispatch:N3},Xc=()=>{},M3=()=>Xc,D3=(e,t)=>e===t;function Ee(e){var t=T.useContext(ay);return _3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:M3,t?t.store.getState:Xc,t?t.store.getState:Xc,t?e:Xc,D3)}function P3(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function O3(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function R3(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var aA=e=>Array.isArray(e)?e:[e];function I3(e){const t=Array.isArray(e[0])?e[0]:e;return R3(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function k3(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var j3=class{constructor(e){this.value=e}deref(){return this.value}},L3=typeof WeakRef<"u"?WeakRef:j3,U3=0,oA=1;function Ic(){return{s:U3,v:void 0,o:null,p:null}}function TN(e,t={}){let n=Ic();const{resultEqualityCheck:r}=t;let a,l=0;function s(){var h;let c=n;const{length:d}=arguments;for(let x=0,w=d;x<w;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let A=c.o;A===null&&(c.o=A=new WeakMap);const C=A.get(E);C===void 0?(c=Ic(),A.set(E,c)):c=C}else{let A=c.p;A===null&&(c.p=A=new Map);const C=A.get(E);C===void 0?(c=Ic(),A.set(E,c)):c=C}}const f=c;let p;if(c.s===oA)p=c.v;else if(p=e.apply(null,arguments),l++,r){const x=((h=a==null?void 0:a.deref)==null?void 0:h.call(a))??a;x!=null&&r(x,p)&&(p=x,l!==0&&l--),a=typeof p=="object"&&p!==null||typeof p=="function"?new L3(p):p}return f.s=oA,f.v=p,p}return s.clearCache=()=>{n=Ic(),s.resetResultsCount()},s.resultsCount=()=>l,s.resetResultsCount=()=>{l=0},s}function q3(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let l=0,s=0,c,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),P3(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:h,memoizeOptions:x=[],argsMemoize:w=TN,argsMemoizeOptions:E=[]}=p,A=aA(x),C=aA(E),N=I3(a),R=h(function(){return l++,f.apply(null,arguments)},...A),P=w(function(){s++;const I=k3(N,arguments);return c=R.apply(null,I),c},...C);return Object.assign(P,{resultFunc:f,memoizedResultFunc:R,dependencies:N,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:h,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var W=q3(TN),B3=Object.assign((e,t=W)=>{O3(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((s,c,d)=>(s[n[d]]=c,s),{}))},{withTypes:()=>B3}),Bh={},zh={},Hh={},lA;function z3(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,l)=>{if(r!==a){const s=t(r),c=t(a);if(s===c&&s===0){if(r<a)return l==="desc"?1:-1;if(r>a)return l==="desc"?-1:1}return l==="desc"?c-s:s-c}return 0};e.compareValues=n})(Hh)),Hh}var Gh={},$h={},sA;function CN(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})($h)),$h}var uA;function H3(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CN(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(l,s){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||s!=null&&Object.hasOwn(s,l)}e.isKey=a})(Gh)),Gh}var cA;function G3(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z3(),n=H3(),r=Zv();function a(l,s,c,d){if(l==null)return[];c=d?void 0:c,Array.isArray(l)||(l=Object.values(l)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(w=>String(w));const f=(w,E)=>{let A=w;for(let C=0;C<E.length&&A!=null;++C)A=A[E[C]];return A},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:f(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?f(E,w):typeof E=="object"?E[w]:E,h=s.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return l.map(w=>({original:w,criteria:h.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let A=0;A<h.length;A++){const C=t.compareValues(w.criteria[A],E.criteria[A],c[A]);if(C!==0)return C}return 0}).map(w=>w.original)}e.orderBy=a})(zh)),zh}var Vh={},fA;function $3(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],l=Math.floor(r),s=(c,d)=>{for(let f=0;f<c.length;f++){const p=c[f];Array.isArray(p)&&d<l?s(p,d+1):a.push(p)}};return s(n,0),a}e.flatten=t})(Vh)),Vh}var Fh={},dA;function _N(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AN(),n=iy(),r=gN(),a=yN();function l(s,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],s):!1}e.isIterateeCall=l})(Fh)),Fh}var mA;function V3(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G3(),n=$3(),r=_N();function a(l,...s){const c=s.length;return c>1&&r.isIterateeCall(l,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(l,n.flatten(s),["asc"])}e.sortBy=a})(Bh)),Bh}var Kh,pA;function F3(){return pA||(pA=1,Kh=V3().sortBy),Kh}var K3=F3();const Yf=Fr(K3);var NN=e=>e.legend.settings,Y3=e=>e.legend.size,J3=e=>e.legend.payload,X3=W([J3,NN],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Yf(r,n):r});function W3(){return Ee(X3)}var kc=1;function MN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),s={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(s.height-t.height)>kc||Math.abs(s.left-t.left)>kc||Math.abs(s.top-t.top)>kc||Math.abs(s.width-t.width)>kc)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ln(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z3=typeof Symbol=="function"&&Symbol.observable||"@@observable",hA=Z3,Yh=()=>Math.random().toString(36).substring(7).split("").join("."),Q3={INIT:`@@redux/INIT${Yh()}`,REPLACE:`@@redux/REPLACE${Yh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yh()}`},of=Q3;function oy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function DN(e,t,n){if(typeof e!="function")throw new Error(ln(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ln(1));return n(DN)(e,t)}let r=e,a=t,l=new Map,s=l,c=0,d=!1;function f(){s===l&&(s=new Map,l.forEach((C,N)=>{s.set(N,C)}))}function p(){if(d)throw new Error(ln(3));return a}function h(C){if(typeof C!="function")throw new Error(ln(4));if(d)throw new Error(ln(5));let N=!0;f();const R=c++;return s.set(R,C),function(){if(N){if(d)throw new Error(ln(6));N=!1,f(),s.delete(R),l=null}}}function x(C){if(!oy(C))throw new Error(ln(7));if(typeof C.type>"u")throw new Error(ln(8));if(typeof C.type!="string")throw new Error(ln(17));if(d)throw new Error(ln(9));try{d=!0,a=r(a,C)}finally{d=!1}return(l=s).forEach(R=>{R()}),C}function w(C){if(typeof C!="function")throw new Error(ln(10));r=C,x({type:of.REPLACE})}function E(){const C=h;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(ln(11));function R(){const M=N;M.next&&M.next(p())}return R(),{unsubscribe:C(R)}},[hA](){return this}}}return x({type:of.INIT}),{dispatch:x,subscribe:h,getState:p,replaceReducer:w,[hA]:E}}function ej(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:of.INIT})>"u")throw new Error(ln(12));if(typeof n(void 0,{type:of.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function PN(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const s=t[l];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let a;try{ej(n)}catch(l){a=l}return function(s={},c){if(a)throw a;let d=!1;const f={};for(let p=0;p<r.length;p++){const h=r[p],x=n[h],w=s[h],E=x(w,c);if(typeof E>"u")throw c&&c.type,new Error(ln(14));f[h]=E,d=d||E!==w}return d=d||r.length!==Object.keys(s).length,d?f:s}}function lf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function tj(...e){return t=>(n,r)=>{const a=t(n,r);let l=()=>{throw new Error(ln(15))};const s={getState:a.getState,dispatch:(d,...f)=>l(d,...f)},c=e.map(d=>d(s));return l=lf(...c)(a.dispatch),{...a,dispatch:l}}}function ON(e){return oy(e)&&"type"in e&&typeof e.type=="string"}var RN=Symbol.for("immer-nothing"),gA=Symbol.for("immer-draftable"),Qn=Symbol.for("immer-state");function Pr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qs=Object.getPrototypeOf;function Qa(e){return!!e&&!!e[Qn]}function yi(e){var t;return e?IN(e)||Array.isArray(e)||!!e[gA]||!!((t=e.constructor)!=null&&t[gA])||nu(e)||Xf(e):!1}var nj=Object.prototype.constructor.toString(),vA=new WeakMap;function IN(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=vA.get(n);return r===void 0&&(r=Function.toString.call(n),vA.set(n,r)),r===nj}function sf(e,t,n=!0){Jf(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Jf(e){const t=e[Qn];return t?t.type_:Array.isArray(e)?1:nu(e)?2:Xf(e)?3:0}function Kg(e,t){return Jf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kN(e,t,n){const r=Jf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function rj(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nu(e){return e instanceof Map}function Xf(e){return e instanceof Set}function za(e){return e.copy_||e.base_}function Yg(e,t){if(nu(e))return new Map(e);if(Xf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=IN(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Qn];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const s=a[l],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(qs(e),r)}else{const r=qs(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function ly(e,t=!1){return Wf(e)||Qa(e)||!yi(e)||(Jf(e)>1&&Object.defineProperties(e,{set:jc,add:jc,clear:jc,delete:jc}),Object.freeze(e),t&&Object.values(e).forEach(n=>ly(n,!0))),e}function ij(){Pr(2)}var jc={value:ij};function Wf(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var aj={};function eo(e){const t=aj[e];return t||Pr(0,e),t}var Bs;function jN(){return Bs}function oj(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yA(e,t){t&&(eo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jg(e){Xg(e),e.drafts_.forEach(lj),e.drafts_=null}function Xg(e){e===Bs&&(Bs=e.parent_)}function bA(e){return Bs=oj(Bs,e)}function lj(e){const t=e[Qn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Qn].modified_&&(Jg(t),Pr(4)),yi(e)&&(e=uf(t,e),t.parent_||cf(t,e)),t.patches_&&eo("Patches").generateReplacementPatches_(n[Qn].base_,e,t.patches_,t.inversePatches_)):e=uf(t,n,[]),Jg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RN?e:void 0}function uf(e,t,n){if(Wf(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Qn];if(!a)return sf(t,(l,s)=>SA(e,a,t,l,s,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return cf(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let s=l,c=!1;a.type_===3&&(s=new Set(l),l.clear(),c=!0),sf(s,(d,f)=>SA(e,a,l,d,f,n,c),r),cf(e,l,!1),n&&e.patches_&&eo("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function SA(e,t,n,r,a,l,s){if(a==null||typeof a!="object"&&!s)return;const c=Wf(a);if(!(c&&!s)){if(Qa(a)){const d=l&&t&&t.type_!==3&&!Kg(t.assigned_,r)?l.concat(r):void 0,f=uf(e,a,d);if(kN(n,r,f),Qa(f))e.canAutoFreeze_=!1;else return}else s&&n.add(a);if(yi(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&c)return;uf(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(nu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&cf(e,a)}}}function cf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ly(t,n)}function sj(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:jN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,l=sy;n&&(a=[r],l=zs);const{revoke:s,proxy:c}=Proxy.revocable(a,l);return r.draft_=c,r.revoke_=s,c}var sy={get(e,t){if(t===Qn)return e;const n=za(e);if(!Kg(n,t))return uj(e,n,t);const r=n[t];return e.finalized_||!yi(r)?r:r===Jh(e.base_,t)?(Xh(e),e.copy_[t]=Zg(r,e)):r},has(e,t){return t in za(e)},ownKeys(e){return Reflect.ownKeys(za(e))},set(e,t,n){const r=LN(za(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Jh(za(e),t),l=a==null?void 0:a[Qn];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(rj(n,a)&&(n!==void 0||Kg(e.base_,t)))return!0;Xh(e),Wg(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xh(e),Wg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=za(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Pr(11)},getPrototypeOf(e){return qs(e.base_)},setPrototypeOf(){Pr(12)}},zs={};sf(sy,(e,t)=>{zs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zs.deleteProperty=function(e,t){return zs.set.call(this,e,t,void 0)};zs.set=function(e,t,n){return sy.set.call(this,e[0],t,n,e[0])};function Jh(e,t){const n=e[Qn];return(n?za(n):e)[t]}function uj(e,t,n){var a;const r=LN(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function LN(e,t){if(!(t in e))return;let n=qs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qs(n)}}function Wg(e){e.modified_||(e.modified_=!0,e.parent_&&Wg(e.parent_))}function Xh(e){e.copy_||(e.copy_=Yg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cj=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const s=this;return function(d=l,...f){return s.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&Pr(6),r!==void 0&&typeof r!="function"&&Pr(7);let a;if(yi(t)){const l=bA(this),s=Zg(t,void 0);let c=!0;try{a=n(s),c=!1}finally{c?Jg(l):Xg(l)}return yA(l,r),xA(a,l)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===RN&&(a=void 0),this.autoFreeze_&&ly(a,!0),r){const l=[],s=[];eo("Patches").generateReplacementPatches_(t,a,l,s),r(l,s)}return a}else Pr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let r,a;return[this.produce(t,n,(s,c)=>{r=s,a=c}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yi(e)||Pr(8),Qa(e)&&(e=hi(e));const t=bA(this),n=Zg(e,void 0);return n[Qn].isManual_=!0,Xg(t),n}finishDraft(e,t){const n=e&&e[Qn];(!n||!n.isManual_)&&Pr(9);const{scope_:r}=n;return yA(r,t),xA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=eo("Patches").applyPatches_;return Qa(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Zg(e,t){const n=nu(e)?eo("MapSet").proxyMap_(e,t):Xf(e)?eo("MapSet").proxySet_(e,t):sj(e,t);return(t?t.scope_:jN()).drafts_.push(n),n}function hi(e){return Qa(e)||Pr(10,e),UN(e)}function UN(e){if(!yi(e)||Wf(e))return e;const t=e[Qn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Yg(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Yg(e,!0);return sf(n,(a,l)=>{kN(n,a,UN(l))},r),t&&(t.finalized_=!1),n}var fj=new cj,qN=fj.produce;function BN(e){return({dispatch:n,getState:r})=>a=>l=>typeof l=="function"?l(n,r,e):a(l)}var dj=BN(),mj=BN,pj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lf:lf.apply(null,arguments)};function Sr(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Wn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>ON(r)&&r.type===e,n}var zN=class Is extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Is.prototype)}static get[Symbol.species](){return Is}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Is(...t[0].concat(this)):new Is(...t.concat(this))}};function wA(e){return yi(e)?qN(e,()=>{}):e}function Lc(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function hj(e){return typeof e=="boolean"}var gj=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let s=new zN;return n&&(hj(n)?s.push(dj):s.push(mj(n.extraArgument))),s},HN="RTK_autoBatch",wn=()=>e=>({payload:e,meta:{[HN]:!0}}),AA=e=>t=>{setTimeout(t,e)},GN=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,l=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AA(10):e.type==="callback"?e.queueNotification:AA(e.timeout),f=()=>{s=!1,l&&(l=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const h=()=>a&&p(),x=r.subscribe(h);return c.add(p),()=>{x(),c.delete(p)}},dispatch(p){var h;try{return a=!((h=p==null?void 0:p.meta)!=null&&h[HN]),l=!a,l&&(s||(s=!0,d(f))),r.dispatch(p)}finally{a=!0}}})},vj=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new zN(e);return r&&a.push(GN(typeof r=="object"?r:void 0)),a};function yj(e){const t=gj(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:l=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(oy(n))c=PN(n);else throw new Error(Wn(1));let d;typeof r=="function"?d=r(t):d=t();let f=lf;a&&(f=pj({trace:!1,...typeof a=="object"&&a}));const p=tj(...d),h=vj(p);let x=typeof s=="function"?s(h):h();const w=f(...x);return DN(c,l,w)}function $N(e){const t={},n=[];let r;const a={addCase(l,s){const c=typeof l=="string"?l:l.type;if(!c)throw new Error(Wn(28));if(c in t)throw new Error(Wn(29));return t[c]=s,a},addAsyncThunk(l,s){return s.pending&&(t[l.pending.type]=s.pending),s.rejected&&(t[l.rejected.type]=s.rejected),s.fulfilled&&(t[l.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:l.settled,reducer:s.settled}),a},addMatcher(l,s){return n.push({matcher:l,reducer:s}),a},addDefaultCase(l){return r=l,a}};return e(a),[t,n,r]}function bj(e){return typeof e=="function"}function xj(e,t){let[n,r,a]=$N(t),l;if(bj(e))l=()=>wA(e());else{const c=wA(e);l=()=>c}function s(c=l(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[a]),f.reduce((p,h)=>{if(h)if(Qa(p)){const w=h(p,d);return w===void 0?p:w}else{if(yi(p))return qN(p,x=>h(x,d));{const x=h(p,d);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},c)}return s.getInitialState=l,s}var Sj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wj=(e=21)=>{let t="",n=e;for(;n--;)t+=Sj[Math.random()*64|0];return t},Aj=Symbol.for("rtk-slice-createasyncthunk");function Ej(e,t){return`${e}/${t}`}function Tj({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Aj];return function(a){const{name:l,reducerPath:s=l}=a;if(!l)throw new Error(Wn(11));const c=(typeof a.reducers=="function"?a.reducers(_j()):a.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(M,I){const k=typeof M=="string"?M:M.type;if(!k)throw new Error(Wn(12));if(k in f.sliceCaseReducersByType)throw new Error(Wn(13));return f.sliceCaseReducersByType[k]=I,p},addMatcher(M,I){return f.sliceMatchers.push({matcher:M,reducer:I}),p},exposeAction(M,I){return f.actionCreators[M]=I,p},exposeCaseReducer(M,I){return f.sliceCaseReducersByName[M]=I,p}};d.forEach(M=>{const I=c[M],k={reducerName:M,type:Ej(l,M),createNotation:typeof a.reducers=="function"};Mj(I)?Pj(k,I,p,t):Nj(k,I,p)});function h(){const[M={},I=[],k=void 0]=typeof a.extraReducers=="function"?$N(a.extraReducers):[a.extraReducers],j={...M,...f.sliceCaseReducersByType};return xj(a.initialState,q=>{for(let $ in j)q.addCase($,j[$]);for(let $ of f.sliceMatchers)q.addMatcher($.matcher,$.reducer);for(let $ of I)q.addMatcher($.matcher,$.reducer);k&&q.addDefaultCase(k)})}const x=M=>M,w=new Map,E=new WeakMap;let A;function C(M,I){return A||(A=h()),A(M,I)}function N(){return A||(A=h()),A.getInitialState()}function R(M,I=!1){function k(q){let $=q[M];return typeof $>"u"&&I&&($=Lc(E,k,N)),$}function j(q=x){const $=Lc(w,I,()=>new WeakMap);return Lc($,q,()=>{const te={};for(const[K,G]of Object.entries(a.selectors??{}))te[K]=Cj(G,q,()=>Lc(E,q,N),I);return te})}return{reducerPath:M,getSelectors:j,get selectors(){return j(k)},selectSlice:k}}const P={name:l,reducer:C,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,...R(s),injectInto(M,{reducerPath:I,...k}={}){const j=I??s;return M.inject({reducerPath:j,reducer:C},k),{...P,...R(j,!0)}}};return P}}function Cj(e,t,n,r){function a(l,...s){let c=t(l);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return a.unwrapped=e,a}var er=Tj();function _j(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Nj({type:e,reducerName:t,createNotation:n},r,a){let l,s;if("reducer"in r){if(n&&!Dj(r))throw new Error(Wn(17));l=r.reducer,s=r.prepare}else l=r;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,s?Sr(e,s):Sr(e))}function Mj(e){return e._reducerDefinitionType==="asyncThunk"}function Dj(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Pj({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Wn(18));const{payloadCreator:l,fulfilled:s,pending:c,rejected:d,settled:f,options:p}=n,h=a(e,l,p);r.exposeAction(t,h),s&&r.addCase(h.fulfilled,s),c&&r.addCase(h.pending,c),d&&r.addCase(h.rejected,d),f&&r.addMatcher(h.settled,f),r.exposeCaseReducer(t,{fulfilled:s||Uc,pending:c||Uc,rejected:d||Uc,settled:f||Uc})}function Uc(){}var Oj="task",VN="listener",FN="completed",uy="cancelled",Rj=`task-${uy}`,Ij=`task-${FN}`,Qg=`${VN}-${uy}`,kj=`${VN}-${FN}`,Zf=class{constructor(e){Vp(this,"name","TaskAbortError");Vp(this,"message");this.code=e,this.message=`${Oj} ${uy} (reason: ${e})`}},cy=(e,t)=>{if(typeof e!="function")throw new TypeError(Wn(32))},ff=()=>{},KN=(e,t=ff)=>(e.catch(t),e),YN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ka=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ya=e=>{if(e.aborted){const{reason:t}=e;throw new Zf(t)}};function JN(e,t){let n=ff;return new Promise((r,a)=>{const l=()=>a(new Zf(e.reason));if(e.aborted){l();return}n=YN(e,l),t.finally(()=>n()).then(r,a)}).finally(()=>{n=ff})}var jj=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Zf?"cancelled":"rejected",error:n}}finally{t==null||t()}},df=e=>t=>KN(JN(e,t).then(n=>(Ya(e),n))),XN=e=>{const t=df(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Qo}=Object,EA={},Qf="listenerMiddleware",Lj=(e,t)=>{const n=r=>YN(e,()=>Ka(r,e.reason));return(r,a)=>{cy(r);const l=new AbortController;n(l);const s=jj(async()=>{Ya(e),Ya(l.signal);const c=await r({pause:df(l.signal),delay:XN(l.signal),signal:l.signal});return Ya(l.signal),c},()=>Ka(l,Ij));return a!=null&&a.autoJoin&&t.push(s.catch(ff)),{result:df(e)(s),cancel(){Ka(l,Rj)}}}},Uj=(e,t)=>{const n=async(r,a)=>{Ya(t);let l=()=>{};const c=[new Promise((d,f)=>{let p=e({predicate:r,effect:(h,x)=>{x.unsubscribe(),d([h,x.getState(),x.getOriginalState()])}});l=()=>{p(),f()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await JN(t,Promise.race(c));return Ya(t),d}finally{l()}};return(r,a)=>KN(n(r,a))},WN=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:l}=e;if(t)a=Sr(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Wn(21));return cy(l),{predicate:a,type:t,effect:l}},ZN=Qo(e=>{const{type:t,predicate:n,effect:r}=WN(e);return{id:wj(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Wn(22))}}},{withTypes:()=>ZN}),TA=(e,t)=>{const{type:n,effect:r,predicate:a}=WN(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===a)&&l.effect===r)},ev=e=>{e.pending.forEach(t=>{Ka(t,Qg)})},qj=(e,t)=>()=>{for(const n of t.keys())ev(n);e.clear()},CA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},QN=Qo(Sr(`${Qf}/add`),{withTypes:()=>QN}),Bj=Sr(`${Qf}/removeAll`),eM=Qo(Sr(`${Qf}/remove`),{withTypes:()=>eM}),zj=(...e)=>{console.error(`${Qf}/error`,...e)},ru=(e={})=>{const t=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},a=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:l,onError:s=zj}=e;cy(s);const c=w=>(w.unsubscribe=()=>t.delete(w.id),t.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&ev(w)}),d=w=>{const E=TA(t,w)??ZN(w);return c(E)};Qo(d,{withTypes:()=>d});const f=w=>{const E=TA(t,w);return E&&(E.unsubscribe(),w.cancelActive&&ev(E)),!!E};Qo(f,{withTypes:()=>f});const p=async(w,E,A,C)=>{const N=new AbortController,R=Uj(d,N.signal),P=[];try{w.pending.add(N),r(w),await Promise.resolve(w.effect(E,Qo({},A,{getOriginalState:C,condition:(M,I)=>R(M,I).then(Boolean),take:R,delay:XN(N.signal),pause:df(N.signal),extra:l,signal:N.signal,fork:Lj(N.signal,P),unsubscribe:w.unsubscribe,subscribe:()=>{t.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((M,I,k)=>{M!==N&&(Ka(M,Qg),k.delete(M))})},cancel:()=>{Ka(N,Qg),w.pending.delete(N)},throwIfCancelled:()=>{Ya(N.signal)}})))}catch(M){M instanceof Zf||CA(s,M,{raisedBy:"effect"})}finally{await Promise.all(P),Ka(N,kj),a(w),w.pending.delete(N)}},h=qj(t,n);return{middleware:w=>E=>A=>{if(!ON(A))return E(A);if(QN.match(A))return d(A.payload);if(Bj.match(A)){h();return}if(eM.match(A))return f(A.payload);let C=w.getState();const N=()=>{if(C===EA)throw new Error(Wn(23));return C};let R;try{if(R=E(A),t.size>0){const P=w.getState(),M=Array.from(t.values());for(const I of M){let k=!1;try{k=I.predicate(A,P,C)}catch(j){k=!1,CA(s,j,{raisedBy:"predicate"})}k&&p(I,A,w,N)}}}finally{C=EA}return R},startListening:d,stopListening:f,clearListeners:h}};function Wn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Hj={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tM=er({name:"chartLayout",initialState:Hj,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,l;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Gj,setLayout:$j,setChartSize:Vj,setScale:Fj}=tM.actions,Kj=tM.reducer;function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){Yj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yj(e,t,n){return(t=Jj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jj(e){var t=Xj(e,"string");return typeof t=="symbol"?t:t+""}function Xj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mf=Math.PI/180,Wj=e=>e*180/Math.PI,qt=(e,t,n,r)=>({x:e+Math.cos(-mf*r)*n,y:t+Math.sin(-mf*r)*n}),nM=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Zj=(e,t)=>{var{x:n,y:r}=e,{x:a,y:l}=t;return Math.sqrt((n-a)**2+(r-l)**2)},Qj=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:l}=t,s=Zj({x:n,y:r},{x:a,y:l});if(s<=0)return{radius:s,angle:0};var c=(n-a)/s,d=Math.acos(c);return r>l&&(d=2*Math.PI-d),{radius:s,angle:Wj(d),angleInRadian:d}},eL=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),l=Math.min(r,a);return{startAngle:t-l*360,endAngle:n-l*360}},tL=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),l=Math.floor(r/360),s=Math.min(a,l);return e+s*360},nL=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:l}=Qj({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(a<s||a>c||a===0)return null;var{startAngle:d,endAngle:f}=eL(t),p=l,h;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;h=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;h=p>=f&&p<=d}return h?NA(NA({},t),{},{radius:a,angle:tL(p,t)}):null};function rM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){rL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rL(e,t,n){return(t=iL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iL(e){var t=aL(e,"string");return typeof t=="symbol"?t:t+""}function aL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(e,t,n){return At(e)||At(t)?n:$r(t)?Za(e,t,n):typeof t=="function"?t(e):n}var oL=(e,t,n,r,a)=>{var l,s=-1,c=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?n[d-1].coordinate:n[c-1].coordinate,p=n[d].coordinate,h=d>=c-1?n[0].coordinate:n[d+1].coordinate,x=void 0;if(Qt(p-f)!==Qt(h-p)){var w=[];if(Qt(h-p)===Qt(a[1]-a[0])){x=h;var E=p+a[1]-a[0];w[0]=Math.min(E,(E+f)/2),w[1]=Math.max(E,(E+f)/2)}else{x=f;var A=h+a[1]-a[0];w[0]=Math.min(p,(A+p)/2),w[1]=Math.max(p,(A+p)/2)}var C=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>C[0]&&e<=C[1]||e>=w[0]&&e<=w[1]){({index:s}=n[d]);break}}else{var N=Math.min(f,h),R=Math.max(f,h);if(e>(N+p)/2&&e<=(R+p)/2){({index:s}=n[d]);break}}}else if(t){for(var P=0;P<c;P++)if(P===0&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<c-1&&e>(t[P].coordinate+t[P-1].coordinate)/2&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P===c-1&&e>(t[P].coordinate+t[P-1].coordinate)/2){({index:s}=t[P]);break}}return s},lL=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:l,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&l!=="center"&&Me(e[l]))return gr(gr({},e),{},{[l]:e[l]+(r||0)});if((c==="horizontal"||c==="vertical"&&l==="center")&&s!=="middle"&&Me(e[s]))return gr(gr({},e),{},{[s]:e[s]+(a||0)})}return e},da=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iM=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var a,l,s=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===n&&(l=!0),c.coordinate));return a||s.push(t),l||s.push(n),s},aM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:l,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:h,niceTicks:x,axisType:w}=e;if(!s)return null;var E=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,A=a==="category"&&s.bandwidth?s.bandwidth()/E:0;if(A=w==="angleAxis"&&l&&l.length>=2?Qt(l[0]-l[1])*2*A:A,h||x){var C=(h||x||[]).map((N,R)=>{var P=r?r.indexOf(N):N;return{coordinate:s(P)+A,value:N,offset:A,index:R}});return C.filter(N=>!xr(N.coordinate))}return d&&f?f.map((N,R)=>({coordinate:s(N)+A,value:N,index:R,offset:A})):s.ticks&&p!=null?s.ticks(p).map((N,R)=>({coordinate:s(N)+A,value:N,offset:A,index:R})):s.domain().map((N,R)=>({coordinate:s(N)+A,value:r?r[N]:N,index:R,offset:A}))},DA=1e-4,sL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-DA,l=Math.max(r[0],r[1])+DA,s=e(t[0]),c=e(t[n-1]);(s<a||s>l||c<a||c>l)&&e.domain([t[0],t[n-1]])}},uL=(e,t)=>{if(!t||t.length!==2||!Me(t[0])||!Me(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Me(e[0])||e[0]<n)&&(a[0]=n),(!Me(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},cL=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,l=0,s=0;s<t;++s){var c=xr(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=l,e[s][n][1]=l+c,l=e[s][n][1])}},fL=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,l=0;l<t;++l){var s=xr(e[l][n][1])?e[l][n][0]:e[l][n][1];s>=0?(e[l][n][0]=a,e[l][n][1]=a+s,a=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},dL={sign:cL,expand:jk,none:ol,silhouette:Lk,wiggle:Uk,positive:fL},mL=(e,t,n)=>{var r=dL[n],a=kk().keys(t).value((l,s)=>+ht(l,s,0)).order($g).offset(r);return a(e)};function pL(e){return e==null?void 0:String(e)}function PA(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:l,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(a[t.dataKey])){var c=mN(n,"value",a[t.dataKey]);if(c)return c.coordinate+r/2}return n[l]?n[l].coordinate+r/2:null}var d=ht(a,At(s)?t.dataKey:s);return At(d)?null:t.scale(d)}var OA=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:l,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var c=ht(l,t.dataKey,t.scale.domain()[s]);return At(c)?null:t.scale(c)-a/2+r},hL=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},gL=e=>{var t=e.flat(2).filter(Me);return[Math.min(...t),Math.max(...t)]},vL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],yL=(e,t,n)=>{if(e!=null)return vL(Object.keys(e).reduce((r,a)=>{var l=e[a],{stackedData:s}=l,c=s.reduce((d,f)=>{var p=rM(f,t,n),h=gL(p);return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},RA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hs=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Yf(t,p=>p.coordinate),l=1/0,s=1,c=a.length;s<c;s++){var d=a[s],f=a[s-1];l=Math.min((d.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function kA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:l}=e;return gr(gr({},t),{},{dataKey:n,payload:r,value:a,name:l})}function vl(e,t){if(e)return String(e);if(typeof t=="string")return t}function bL(e,t,n,r,a){if(n==="horizontal"||n==="vertical"){var l=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return l?{x:e,y:t}:null}return r?nL({x:e,y:t},r):null}var xL=(e,t,n,r)=>{var a=t.find(f=>f&&f.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var l=a.coordinate,{radius:s}=r;return gr(gr(gr({},r),qt(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}var c=a.coordinate,{angle:d}=r;return gr(gr(gr({},r),qt(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},SL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ei=e=>e.layout.width,Ti=e=>e.layout.height,wL=e=>e.layout.scale,oM=e=>e.layout.margin,ed=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),td=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lM="data-recharts-item-index",sM="data-recharts-item-data-key",iu=60;function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(r){AL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AL(e,t,n){return(t=EL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EL(e){var t=TL(e,"string");return typeof t=="symbol"?t:t+""}function TL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CL=e=>e.brush.height;function _L(e){var t=td(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:iu;return n+a}return n},0)}function NL(e){var t=td(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:iu;return n+a}return n},0)}function ML(e){var t=ed(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function DL(e){var t=ed(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Vt=W([Ei,Ti,oM,CL,_L,NL,ML,DL,NN,Y3],(e,t,n,r,a,l,s,c,d,f)=>{var p={left:(n.left||0)+a,right:(n.right||0)+l},h={top:(n.top||0)+s,bottom:(n.bottom||0)+c},x=qc(qc({},h),p),w=x.bottom;x.bottom+=r,x=lL(x,d,f);var E=e-x.left-x.right,A=t-x.top-x.bottom;return qc(qc({brushBottom:w},x),{},{width:Math.max(E,0),height:Math.max(A,0)})}),PL=W(Vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),fy=W(Ei,Ti,(e,t)=>({x:0,y:0,width:e,height:t})),OL=T.createContext(null),Cn=()=>T.useContext(OL)!=null,nd=e=>e.brush,rd=W([nd,Vt,oM],(e,t,n)=>({height:e.height,x:Me(e.x)?e.x:t.left,y:Me(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Me(e.width)?e.width:t.width})),Wh={},Zh={},Qh={},LA;function RL(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:l}={}){let s,c=null;const d=l!=null&&l.includes("leading"),f=l==null||l.includes("trailing"),p=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},h=()=>{f&&p(),A()};let x=null;const w=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,h()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},A=()=>{E(),s=void 0,c=null},C=()=>{p()},N=function(...R){if(a!=null&&a.aborted)return;s=this,c=R;const P=x==null;w(),d&&P&&p()};return N.schedule=w,N.cancel=A,N.flush=C,a==null||a.addEventListener("abort",A,{once:!0}),N}e.debounce=t})(Qh)),Qh}var UA;function IL(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RL();function n(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:s=!1,trailing:c=!0,maxWait:d}=l,f=Array(2);s&&(f[0]="leading"),c&&(f[1]="trailing");let p,h=null;const x=t.debounce(function(...A){p=r.apply(this,A),h=null},a,{edges:f}),w=function(...A){return d!=null&&(h===null&&(h=Date.now()),Date.now()-h>=d)?(p=r.apply(this,A),h=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,A),p)},E=()=>(x.flush(),p);return w.cancel=x.cancel,w.flush=E,w}e.debounce=n})(Zh)),Zh}var qA;function kL(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IL();function n(r,a=0,l={}){const{leading:s=!0,trailing:c=!0}=l;return t.debounce(r,a,{leading:s,maxWait:a,trailing:c})}e.throttle=n})(Wh)),Wh}var eg,BA;function jL(){return BA||(BA=1,eg=kL().throttle),eg}var LL=jL();const UL=Fr(LL);var pf=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l]},uM=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:l,maxHeight:s}=n,c=vi(r)?e:Number(r),d=vi(a)?t:Number(a);return l&&l>0&&(c?d=c/l:d&&(c=d*l),s&&d>s&&(d=s)),{calculatedWidth:c,calculatedHeight:d}},qL={width:0,height:0,overflow:"visible"},BL={width:0,overflowX:"visible"},zL={height:0,overflowY:"visible"},HL={},GL=e=>{var{width:t,height:n}=e,r=vi(t),a=vi(n);return r&&a?qL:r?BL:a?zL:HL};function $L(e){var{width:t,height:n,aspect:r}=e,a=t,l=n;return a===void 0&&l===void 0?(a="100%",l="100%"):a===void 0?a=r&&r>0?void 0:"100%":l===void 0&&(l=r&&r>0?void 0:"100%"),{width:a,height:l}}function vn(e){return Number.isFinite(e)}function ll(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tv.apply(null,arguments)}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){VL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VL(e,t,n){return(t=FL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FL(e){var t=KL(e,"string");return typeof t=="symbol"?t:t+""}function KL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cM=T.createContext({width:-1,height:-1});function fM(e){var{children:t,width:n,height:r}=e,a=T.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:T.createElement(cM.Provider,{value:a},t)}var dy=()=>T.useContext(cM),YL=T.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:l,minWidth:s=0,minHeight:c,maxHeight:d,children:f,debounce:p=0,id:h,className:x,onResize:w,style:E={}}=e,A=T.useRef(null),C=T.useRef();C.current=w,T.useImperativeHandle(t,()=>A.current);var[N,R]=T.useState({containerWidth:r.width,containerHeight:r.height}),P=T.useCallback((q,$)=>{R(te=>{var K=Math.round(q),G=Math.round($);return te.containerWidth===K&&te.containerHeight===G?te:{containerWidth:K,containerHeight:G}})},[]);T.useEffect(()=>{var q=G=>{var V,{width:ae,height:me}=G[0].contentRect;P(ae,me),(V=C.current)===null||V===void 0||V.call(C,ae,me)};p>0&&(q=UL(q,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(q),{width:te,height:K}=A.current.getBoundingClientRect();return P(te,K),$.observe(A.current),()=>{$.disconnect()}},[P,p]);var{containerWidth:M,containerHeight:I}=N;pf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:j}=uM(M,I,{width:a,height:l,aspect:n,maxHeight:d});return pf(k>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,j,a,l,s,c,n),T.createElement("div",{id:h?"".concat(h):void 0,className:Je("recharts-responsive-container",x),style:HA(HA({},E),{},{width:a,height:l,minWidth:s,minHeight:c,maxHeight:d}),ref:A},T.createElement("div",{style:GL({width:a,height:l})},T.createElement(fM,{width:k,height:j},f)))}),sl=T.forwardRef((e,t)=>{var n=dy();if(ll(n.width)&&ll(n.height))return e.children;var{width:r,height:a}=$L({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:s}=uM(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Me(l)&&Me(s)?T.createElement(fM,{width:l,height:s},e.children):T.createElement(YL,tv({},e,{width:r,height:a,ref:t}))}),id=()=>{var e,t=Cn(),n=Ee(PL),r=Ee(rd),a=(e=Ee(nd))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},JL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dM=()=>{var e;return(e=Ee(Vt))!==null&&e!==void 0?e:JL},my=()=>Ee(Ei),py=()=>Ee(Ti),XL=()=>Ee(e=>e.layout.margin),$e=e=>e.layout.layoutType,ad=()=>Ee($e),od=e=>{var t=Et(),n=Cn(),{width:r,height:a}=e,l=dy(),s=r,c=a;return l&&(s=l.width>0?l.width:r,c=l.height>0?l.height:a),T.useEffect(()=>{!n&&ll(s)&&ll(c)&&t(Vj({width:s,height:c}))},[t,n,s,c]),null},WL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},mM=er({name:"legend",initialState:WL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:wn()},removeLegendPayload:{reducer(e,t){var n=hi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:wn()}}}),{setLegendSize:GA,setLegendSettings:ZL,addLegendPayload:pM,removeLegendPayload:hM}=mM.actions,QL=mM.reducer,e4=["contextPayload"];function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv.apply(null,arguments)}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){hy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hy(e,t,n){return(t=t4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t4(e){var t=n4(e,"string");return typeof t=="symbol"?t:t+""}function n4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r4(e,t){if(e==null)return{};var n,r,a=i4(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function a4(e){return e.value}function o4(e){var{contextPayload:t}=e,n=r4(e,e4),r=EN(t,e.payloadUniqBy,a4),a=ul(ul({},n),{},{payload:r});return T.isValidElement(e.content)?T.cloneElement(e.content,a):typeof e.content=="function"?T.createElement(e.content,a):T.createElement(ry,a)}function l4(e,t,n,r,a,l){var{layout:s,align:c,verticalAlign:d}=t,f,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&s==="vertical"?f={left:((r||0)-l.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((a||0)-l.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ul(ul({},f),p)}function s4(e){var t=Et();return T.useEffect(()=>{t(ZL(e))},[t,e]),null}function u4(e){var t=Et();return T.useEffect(()=>(t(GA(e)),()=>{t(GA({width:0,height:0}))}),[t,e]),null}function c4(e){var t=W3(),n=ak(),r=XL(),{width:a,height:l,wrapperStyle:s,portal:c}=e,[d,f]=MN([t]),p=my(),h=py();if(p==null||h==null)return null;var x=p-(r.left||0)-(r.right||0),w=bi.getWidthOrHeight(e.layout,l,a,x),E=c?s:ul(ul({position:"absolute",width:(w==null?void 0:w.width)||a||"auto",height:(w==null?void 0:w.height)||l||"auto"},l4(s,e,r,p,h,d)),s),A=c??n;if(A==null)return null;var C=T.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:f},T.createElement(s4,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),T.createElement(u4,{width:d.width,height:d.height}),T.createElement(o4,nv({},e,w,{margin:r,chartWidth:p,chartHeight:h,contextPayload:t})));return K_.createPortal(C,A)}class bi extends T.PureComponent{static getWidthOrHeight(t,n,r,a){return t==="vertical"&&Me(n)?{height:n}:t==="horizontal"?{width:r||a}:null}render(){return T.createElement(c4,this.props)}}hy(bi,"displayName","Legend");hy(bi,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(null,arguments)}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){f4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f4(e,t,n){return(t=d4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d4(e){var t=m4(e,"string");return typeof t=="symbol"?t:t+""}function m4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p4(e){return Array.isArray(e)&&$r(e[0])&&$r(e[1])?e.join(" ~ "):e}var h4=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:l,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:h,accessibilityLayer:x=!1}=e,w=()=>{if(l&&l.length){var I={padding:0,margin:0},k=(c?Yf(l,c):l).map((j,q)=>{if(j.type==="none")return null;var $=j.formatter||s||p4,{value:te,name:K}=j,G=te,V=K;if($){var ae=$(te,K,j,q,l);if(Array.isArray(ae))[G,V]=ae;else if(ae!=null)G=ae;else return null}var me=tg({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:me},$r(V)?T.createElement("span",{className:"recharts-tooltip-item-name"},V):null,$r(V)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},G),T.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:I},k)}return null},E=tg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=tg({margin:0},a),C=!At(p),N=C?p:"",R=Je("recharts-default-tooltip",d),P=Je("recharts-tooltip-label",f);C&&h&&l!==void 0&&l!==null&&(N=h(p,l));var M=x?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",rv({className:R,style:E},M),T.createElement("p",{className:P,style:A},T.isValidElement(N)?N:"".concat(N)),w())},Es="recharts-tooltip-wrapper",g4={visibility:"hidden"};function v4(e){var{coordinate:t,translateX:n,translateY:r}=e;return Je(Es,{["".concat(Es,"-right")]:Me(n)&&t&&Me(t.x)&&n>=t.x,["".concat(Es,"-left")]:Me(n)&&t&&Me(t.x)&&n<t.x,["".concat(Es,"-bottom")]:Me(r)&&t&&Me(t.y)&&r>=t.y,["".concat(Es,"-top")]:Me(r)&&t&&Me(t.y)&&r<t.y})}function FA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:l,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(l&&Me(l[r]))return l[r];var p=n[r]-c-(a>0?a:0),h=n[r]+a;if(t[r])return s[r]?p:h;var x=d[r];if(x==null)return 0;if(s[r]){var w=p,E=x;return w<E?Math.max(h,x):Math.max(p,x)}if(f==null)return 0;var A=h+c,C=x+f;return A>C?Math.max(p,x):Math.max(h,x)}function y4(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function b4(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:l,tooltipBox:s,useTranslate3d:c,viewBox:d}=e,f,p,h;return s.height>0&&s.width>0&&n?(p=FA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),h=FA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=y4({translateX:p,translateY:h,useTranslate3d:c})):f=g4,{cssProperties:f,cssClasses:v4({translateX:p,translateY:h,coordinate:n})}}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){iv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iv(e,t,n){return(t=x4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x4(e){var t=S4(e,"string");return typeof t=="symbol"?t:t+""}function S4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class w4 extends T.PureComponent{constructor(){super(...arguments),iv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:l,coordinate:s,hasPayload:c,isAnimationActive:d,offset:f,position:p,reverseDirection:h,useTranslate3d:x,viewBox:w,wrapperStyle:E,lastBoundingBox:A,innerRef:C,hasPortalFromProps:N}=this.props,{cssClasses:R,cssProperties:P}=b4({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:p,reverseDirection:h,tooltipBox:{height:A.height,width:A.width},useTranslate3d:x,viewBox:w}),M=N?{}:Bc(Bc({transition:d&&t?"transform ".concat(r,"ms ").concat(a):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),I=Bc(Bc({},M),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},E);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:I,ref:C},l)}}var A4=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ma={devToolsEnabled:!1,isSsr:A4()},gM=()=>Ee(e=>e.rootProps.accessibilityLayer);function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(null,arguments)}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){E4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E4(e,t,n){return(t=T4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T4(e){var t=C4(e,"string");return typeof t=="symbol"?t:t+""}function C4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XA={curveBasisClosed:Ek,curveBasisOpen:Tk,curveBasis:Ak,curveBumpX:uk,curveBumpY:ck,curveLinearClosed:Ck,curveLinear:Ff,curveMonotoneX:_k,curveMonotoneY:Nk,curveNatural:Mk,curveStep:Dk,curveStepAfter:Ok,curveStepBefore:Pk},zc=e=>vn(e.x)&&vn(e.y),Ts=e=>e.x,Cs=e=>e.y,_4=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(eu(e));return(n==="curveMonotone"||n==="curveBump")&&t?XA["".concat(n).concat(t==="vertical"?"Y":"X")]:XA[n]||Ff},N4=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:l=!1}=e,s=_4(t,a),c=l?n.filter(zc):n,d;if(Array.isArray(r)){var f=l?r.filter(h=>zc(h)):r,p=c.map((h,x)=>JA(JA({},h),{},{base:f[x]}));return a==="vertical"?d=Rc().y(Cs).x1(Ts).x0(h=>h.base.x):d=Rc().x(Ts).y1(Cs).y0(h=>h.base.y),d.defined(zc).curve(s),d(p)}return a==="vertical"&&Me(r)?d=Rc().y(Cs).x1(Ts).x0(r):Me(r)?d=Rc().x(Ts).y1(Cs).y0(r):d=eN().x(Ts).y(Cs),d.defined(zc).curve(s),d(c)},gy=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var l=n&&n.length?N4(e):r;return T.createElement("path",av({},Zn(e),ty(e),{className:Je("recharts-curve",t),d:l===null?void 0:l,ref:a}))},M4=["x","y","top","left","width","height","className"];function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ov.apply(null,arguments)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function D4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){P4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P4(e,t,n){return(t=O4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O4(e){var t=R4(e,"string");return typeof t=="symbol"?t:t+""}function R4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I4(e,t){if(e==null)return{};var n,r,a=k4(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function k4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var j4=(e,t,n,r,a,l)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(n),L4=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:l=0,height:s=0,className:c}=e,d=I4(e,M4),f=D4({x:t,y:n,top:r,left:a,width:l,height:s},d);return!Me(t)||!Me(n)||!Me(l)||!Me(s)||!Me(r)||!Me(a)?null:T.createElement("path",ov({},Tn(f),{className:Je("recharts-cross",c),d:j4(t,n,l,s,r,a)}))};function U4(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function q4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){B4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B4(e,t,n){return(t=z4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4(e){var t=H4(e,"string");return typeof t=="symbol"?t:t+""}function H4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cn(e,t){var n=q4({},e),r=t,a=Object.keys(t),l=a.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return l}function G4(){}function $4(e){return e!=null}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){V4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V4(e,t,n){return(t=F4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F4(e){var t=K4(e,"string");return typeof t=="symbol"?t:t+""}function K4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y4=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),vM=(e,t,n)=>e.map(r=>"".concat(Y4(r)," ").concat(t,"ms ").concat(n)).join(","),J4=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Gs=(e,t)=>Object.keys(t).reduce((n,r)=>eE(eE({},n),{},{[r]:e(r,t[r])}),{});function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(r){X4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X4(e,t,n){return(t=W4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W4(e){var t=Z4(e,"string");return typeof t=="symbol"?t:t+""}function Z4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hf=(e,t,n)=>e+(t-e)*n,lv=e=>{var{from:t,to:n}=e;return t!==n},yM=(e,t,n)=>{var r=Gs((a,l)=>{if(lv(l)){var[s,c]=e(l.from,l.to,l.velocity);return sn(sn({},l),{},{from:s,velocity:c})}return l},t);return n<1?Gs((a,l)=>lv(l)?sn(sn({},l),{},{velocity:hf(l.velocity,r[a].velocity,n),from:hf(l.from,r[a].from,n)}):l,t):yM(e,r,n-1)};function Q4(e,t,n,r,a,l){var s,c=r.reduce((x,w)=>sn(sn({},x),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),d=()=>Gs((x,w)=>w.from,c),f=()=>!Object.values(c).filter(lv).length,p=null,h=x=>{s||(s=x);var w=x-s,E=w/n.dt;c=yM(n,c,E),a(sn(sn(sn({},e),t),d())),s=x,f()||(p=l.setTimeout(h))};return()=>(p=l.setTimeout(h),()=>{p()})}function e5(e,t,n,r,a,l,s){var c=null,d=a.reduce((h,x)=>sn(sn({},h),{},{[x]:[e[x],t[x]]}),{}),f,p=h=>{f||(f=h);var x=(h-f)/r,w=Gs((A,C)=>hf(...C,n(x)),d);if(l(sn(sn(sn({},e),t),w)),x<1)c=s.setTimeout(p);else{var E=Gs((A,C)=>hf(...C,n(1)),d);l(sn(sn(sn({},e),t),E))}};return()=>(c=s.setTimeout(p),()=>{c()})}const t5=(e,t,n,r,a,l)=>{var s=J4(e,t);return n.isStepper===!0?Q4(e,t,n,s,a,l):e5(e,t,n,r,s,a,l)};var gf=1e-4,bM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],xM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nE=(e,t)=>n=>{var r=bM(e,t);return xM(r,n)},n5=(e,t)=>n=>{var r=bM(e,t),a=[...r.map((l,s)=>l*s).slice(1),0];return xM(a,n)},rE=function(){for(var t,n,r,a,l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];if(s.length===1)switch(s[0]){case"linear":[t,r,n,a]=[0,0,1,1];break;case"ease":[t,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,a]=[.42,0,1,1];break;case"ease-out":[t,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,a]=[0,0,.58,1];break;default:{var d=s[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,r,n,a]=d[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else s.length===4&&([t,r,n,a]=s);var f=nE(t,n),p=nE(r,a),h=n5(t,n),x=E=>E>1?1:E<0?0:E,w=E=>{for(var A=E>1?1:E,C=A,N=0;N<8;++N){var R=f(C)-A,P=h(C);if(Math.abs(R-A)<gf||P<gf)return p(C);C=x(C-R/P)}return p(C)};return w.isStepper=!1,w},r5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,l=(s,c,d)=>{var f=-(s-c)*n,p=d*r,h=d+(f-p)*a/1e3,x=d*a/1e3+s;return Math.abs(x-c)<gf&&Math.abs(h)<gf?[c,0]:[x,h]};return l.isStepper=!0,l.dt=a,l},i5=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rE(e);case"spring":return r5();default:if(e.split("(")[0]==="cubic-bezier")return rE(e)}return typeof e=="function"?e:null};function a5(e){var t,n=()=>null,r=!1,a=null,l=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...f]=c;if(typeof d=="number"){a=e.setTimeout(l.bind(null,f),d);return}l(d),a=e.setTimeout(l.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,a&&(a(),a=null),l(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class o5{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,l=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{cancelAnimationFrame(a)}}}function l5(){return a5(new o5)}var s5=T.createContext(l5);function u5(e,t){var n=T.useContext(s5);return T.useMemo(()=>t??n(e),[e,t,n])}var c5={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iE={t:0},ng={t:1};function au(e){var t=cn(e,c5),{isActive:n,canBegin:r,duration:a,easing:l,begin:s,onAnimationEnd:c,onAnimationStart:d,children:f}=t,p=u5(t.animationId,t.animationManager),[h,x]=T.useState(n?iE:ng),w=T.useRef(null);return T.useEffect(()=>{n||x(ng)},[n]),T.useEffect(()=>{if(!n||!r)return G4;var E=t5(iE,ng,i5(l),a,x,p.getTimeoutController()),A=()=>{w.current=E()};return p.start([d,s,A,a,c]),()=>{p.stop(),w.current&&w.current(),c()}},[n,r,a,l,s,d,c,p]),f(h.t)}function ou(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(Us(t)),r=T.useRef(e);return r.current!==e&&(n.current=Us(t),r.current=e),n.current}var f5=["radius"],d5=["radius"];function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){m5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m5(e,t,n){return(t=p5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p5(e){var t=h5(e,"string");return typeof t=="symbol"?t:t+""}function h5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(null,arguments)}function lE(e,t){if(e==null)return{};var n,r,a=g5(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sE=(e,t,n,r,a)=>{var l=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(l>0&&a instanceof Array){for(var p=[0,0,0,0],h=0,x=4;h<x;h++)p[h]=a[h]>l?l:a[h];f="M".concat(e,",").concat(t+s*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+c*p[0],",").concat(t)),f+="L ".concat(e+n-c*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+s*p[1])),f+="L ".concat(e+n,",").concat(t+r-s*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-c*p[2],",").concat(t+r)),f+="L ".concat(e+c*p[3],",").concat(t+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-s*p[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var w=Math.min(l,a);f="M ".concat(e,",").concat(t+s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(t,`
            L `).concat(e+n-c*w,",").concat(t,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n,",").concat(t+s*w,`
            L `).concat(e+n,",").concat(t+r-s*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n-c*w,",").concat(t+r,`
            L `).concat(e+c*w,",").concat(t+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(t+r-s*w," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},v5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SM=e=>{var t=cn(e,v5),n=T.useRef(null),[r,a]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ne=n.current.getTotalLength();ne&&a(ne)}catch{}},[]);var{x:l,y:s,width:c,height:d,radius:f,className:p}=t,{animationEasing:h,animationDuration:x,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:A}=t,C=T.useRef(c),N=T.useRef(d),R=T.useRef(l),P=T.useRef(s),M=T.useMemo(()=>({x:l,y:s,width:c,height:d,radius:f}),[l,s,c,d,f]),I=ou(M,"rectangle-");if(l!==+l||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var k=Je("recharts-rectangle",p);if(!A){var j=Tn(t),{radius:q}=j,$=lE(j,f5);return T.createElement("path",vf({},$,{radius:typeof f=="number"?f:void 0,className:k,d:sE(l,s,c,d,f)}))}var te=C.current,K=N.current,G=R.current,V=P.current,ae="0px ".concat(r===-1?1:r,"px"),me="".concat(r,"px 0px"),B=vM(["strokeDasharray"],x,typeof h=="string"?h:void 0);return T.createElement(au,{animationId:I,key:I,canBegin:r>0,duration:x,easing:h,isActive:A,begin:w},ne=>{var H=Pt(te,c,ne),fe=Pt(K,d,ne),ge=Pt(G,l,ne),L=Pt(V,s,ne);n.current&&(C.current=H,N.current=fe,R.current=ge,P.current=L);var Z;E?ne>0?Z={transition:B,strokeDasharray:me}:Z={strokeDasharray:ae}:Z={strokeDasharray:me};var pe=Tn(t),{radius:he}=pe,ye=lE(pe,d5);return T.createElement("path",vf({},ye,{radius:typeof f=="number"?f:void 0,className:k,d:sE(ge,L,H,fe,f),ref:n,style:oE(oE({},Z),t.style)}))})};function wM(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:l}=e,s=qt(t,n,r,a),c=qt(t,n,r,l);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:a,endAngle:l}}function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sv.apply(null,arguments)}var y5=(e,t)=>{var n=Qt(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Hc=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:l,isExternal:s,cornerRadius:c,cornerIsExternal:d}=e,f=c*(s?1:-1)+r,p=Math.asin(c/f)/mf,h=d?a:a+l*p,x=qt(t,n,f,h),w=qt(t,n,r,h),E=d?a-l*p:a,A=qt(t,n,f*Math.cos(p*mf),E);return{center:x,circleTangency:w,lineTangency:A,theta:p}},AM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:s}=e,c=y5(l,s),d=l+c,f=qt(t,n,a,l),p=qt(t,n,a,d),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=qt(t,n,r,l),w=qt(t,n,r,d);h+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(t,",").concat(n," Z");return h},b5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:l,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}=e,p=Qt(f-d),{circleTangency:h,lineTangency:x,theta:w}=Hc({cx:t,cy:n,radius:a,angle:d,sign:p,cornerRadius:l,cornerIsExternal:c}),{circleTangency:E,lineTangency:A,theta:C}=Hc({cx:t,cy:n,radius:a,angle:f,sign:-p,cornerRadius:l,cornerIsExternal:c}),N=c?Math.abs(d-f):Math.abs(d-f)-w-C;if(N<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):AM({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:d,endAngle:f});var R="M ".concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:M,theta:I}=Hc({cx:t,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),{circleTangency:k,lineTangency:j,theta:q}=Hc({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),$=c?Math.abs(d-f):Math.abs(d-f)-I-q;if($<0&&l===0)return"".concat(R,"L").concat(t,",").concat(n,"Z");R+="L".concat(j.x,",").concat(j.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,"Z")}else R+="L".concat(t,",").concat(n,"Z");return R},x5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EM=e=>{var t=cn(e,x5),{cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p,className:h}=t;if(l<a||f===p)return null;var x=Je("recharts-sector",h),w=l-a,E=gn(s,w,0,!0),A;return E>0&&Math.abs(f-p)<360?A=b5({cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:Math.min(E,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p}):A=AM({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:f,endAngle:p}),T.createElement("path",sv({},Tn(t),{className:x,d:A}))};function S5(e,t,n){var r,a,l,s;if(e==="horizontal")r=t.x,l=r,a=n.top,s=n.top+n.height;else if(e==="vertical")a=t.y,s=a,r=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:p,angle:h}=t,x=qt(c,d,f,h),w=qt(c,d,p,h);r=x.x,a=x.y,l=w.x,s=w.y}else return wM(t);return[{x:r,y:a},{x:l,y:s}]}var rg={},ig={},ag={},uE;function w5(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CN();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ag)),ag}var cE;function A5(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w5();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(ig)),ig}var fE;function E5(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_N(),n=A5();function r(a,l,s){s&&typeof s!="number"&&t.isIterateeCall(a,l,s)&&(l=s=void 0),a=n.toFinite(a),l===void 0?(l=a,a=0):l=n.toFinite(l),s=s===void 0?a<l?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((l-a)/(s||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=a,a+=s;return d}e.range=r})(rg)),rg}var og,dE;function T5(){return dE||(dE=1,og=E5().range),og}var C5=T5();const TM=Fr(C5);function oa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _5(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vy(e){let t,n,r;e.length!==2?(t=oa,n=(c,d)=>oa(e(c),d),r=(c,d)=>e(c)-d):(t=e===oa||e===_5?e:N5,n=e,r=e);function a(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;n(c[h],d)<0?f=h+1:p=h}while(f<p)}return f}function l(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;n(c[h],d)<=0?f=h+1:p=h}while(f<p)}return f}function s(c,d,f=0,p=c.length){const h=a(c,d,f,p-1);return h>f&&r(c[h-1],d)>-r(c[h],d)?h-1:h}return{left:a,center:s,right:l}}function N5(){return 0}function CM(e){return e===null?NaN:+e}function*M5(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const D5=vy(oa),lu=D5.right;vy(CM).center;class mE extends Map{constructor(t,n=R5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(pE(this,t))}has(t){return super.has(pE(this,t))}set(t,n){return super.set(P5(this,t),n)}delete(t){return super.delete(O5(this,t))}}function pE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function P5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function O5({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function R5(e){return e!==null&&typeof e=="object"?e.valueOf():e}function I5(e=oa){if(e===oa)return _M;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function _M(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const k5=Math.sqrt(50),j5=Math.sqrt(10),L5=Math.sqrt(2);function yf(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),s=l>=k5?10:l>=j5?5:l>=L5?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?yf(e,t,n*2):[c,d,f]}function uv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,l,s]=r?yf(t,e,n):yf(e,t,n);if(!(l>=a))return[];const c=l-a+1,d=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)d[f]=(l-f)/-s;else for(let f=0;f<c;++f)d[f]=(l-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(a+f)/-s;else for(let f=0;f<c;++f)d[f]=(a+f)*s;return d}function cv(e,t,n){return t=+t,e=+e,n=+n,yf(e,t,n)[2]}function fv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?cv(t,e,n):cv(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function hE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NM(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?_M:I5(a);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,p=Math.log(d),h=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*h*(d-h)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(t-f*h/d+x)),E=Math.min(r,Math.floor(t+(d-f)*h/d+x));NM(e,t,w,E,a)}const l=e[t];let s=n,c=r;for(_s(e,n,t),a(e[r],l)>0&&_s(e,n,r);s<c;){for(_s(e,s,c),++s,--c;a(e[s],l)<0;)++s;for(;a(e[c],l)>0;)--c}a(e[n],l)===0?_s(e,n,c):(++c,_s(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function _s(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function U5(e,t,n){if(e=Float64Array.from(M5(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return gE(e);if(t>=1)return hE(e);var r,a=(r-1)*t,l=Math.floor(a),s=hE(NM(e,l).subarray(0,l+1)),c=gE(e.subarray(l+1));return s+(c-s)*(a-l)}}function q5(e,t,n=CM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,l=Math.floor(a),s=+n(e[l],l,e),c=+n(e[l+1],l+1,e);return s+(c-s)*(a-l)}}function B5(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(a);++r<a;)l[r]=e+r*n;return l}function Er(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dv=Symbol("implicit");function yy(){var e=new mE,t=[],n=[],r=dv;function a(l){let s=e.get(l);if(s===void 0){if(r!==dv)return r;e.set(l,s=t.push(l)-1)}return n[s%n.length]}return a.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new mE;for(const s of l)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return yy(t,n).unknown(r)},Er.apply(a,arguments),a}function by(){var e=yy().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,l,s,c=!1,d=0,f=0,p=.5;delete e.unknown;function h(){var x=t().length,w=a<r,E=w?a:r,A=w?r:a;l=(A-E)/Math.max(1,x-d+f*2),c&&(l=Math.floor(l)),E+=(A-E-l*(x-d))*p,s=l*(1-d),c&&(E=Math.round(E),s=Math.round(s));var C=B5(x).map(function(N){return E+l*N});return n(w?C.reverse():C)}return e.domain=function(x){return arguments.length?(t(x),h()):t()},e.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,c=!0,h()},e.bandwidth=function(){return s},e.step=function(){return l},e.round=function(x){return arguments.length?(c=!!x,h()):c},e.padding=function(x){return arguments.length?(d=Math.min(1,f=+x),h()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),h()):d},e.paddingOuter=function(x){return arguments.length?(f=+x,h()):f},e.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),h()):p},e.copy=function(){return by(t(),[r,a]).round(c).paddingInner(d).paddingOuter(f).align(p)},Er.apply(h(),arguments)}function MM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MM(t())},e}function z5(){return MM(by.apply(null,arguments).paddingInner(1))}function xy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function DM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function su(){}var $s=.7,bf=1/$s,el="\\s*([+-]?\\d+)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H5=/^#([0-9a-f]{3,8})$/,G5=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),$5=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),V5=new RegExp(`^rgba\\(${el},${el},${el},${Vs}\\)$`),F5=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${Vs}\\)$`),K5=new RegExp(`^hsl\\(${Vs},${Gr},${Gr}\\)$`),Y5=new RegExp(`^hsla\\(${Vs},${Gr},${Gr},${Vs}\\)$`),vE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xy(su,Fs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yE,formatHex:yE,formatHex8:J5,formatHsl:X5,formatRgb:bE,toString:bE});function yE(){return this.rgb().formatHex()}function J5(){return this.rgb().formatHex8()}function X5(){return PM(this).formatHsl()}function bE(){return this.rgb().formatRgb()}function Fs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=H5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xE(t):n===3?new Un(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Gc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Gc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=G5.exec(e))?new Un(t[1],t[2],t[3],1):(t=$5.exec(e))?new Un(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=V5.exec(e))?Gc(t[1],t[2],t[3],t[4]):(t=F5.exec(e))?Gc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=K5.exec(e))?AE(t[1],t[2]/100,t[3]/100,1):(t=Y5.exec(e))?AE(t[1],t[2]/100,t[3]/100,t[4]):vE.hasOwnProperty(e)?xE(vE[e]):e==="transparent"?new Un(NaN,NaN,NaN,0):null}function xE(e){return new Un(e>>16&255,e>>8&255,e&255,1)}function Gc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Un(e,t,n,r)}function W5(e){return e instanceof su||(e=Fs(e)),e?(e=e.rgb(),new Un(e.r,e.g,e.b,e.opacity)):new Un}function mv(e,t,n,r){return arguments.length===1?W5(e):new Un(e,t,n,r??1)}function Un(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xy(Un,mv,DM(su,{brighter(e){return e=e==null?bf:Math.pow(bf,e),new Un(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Un(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Un(Ja(this.r),Ja(this.g),Ja(this.b),xf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SE,formatHex:SE,formatHex8:Z5,formatRgb:wE,toString:wE}));function SE(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}`}function Z5(){return`#${Ga(this.r)}${Ga(this.g)}${Ga(this.b)}${Ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function wE(){const e=xf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ja(this.r)}, ${Ja(this.g)}, ${Ja(this.b)}${e===1?")":`, ${e})`}`}function xf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ja(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ga(e){return e=Ja(e),(e<16?"0":"")+e.toString(16)}function AE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Or(e,t,n,r)}function PM(e){if(e instanceof Or)return new Or(e.h,e.s,e.l,e.opacity);if(e instanceof su||(e=Fs(e)),!e)return new Or;if(e instanceof Or)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),l=Math.max(t,n,r),s=NaN,c=l-a,d=(l+a)/2;return c?(t===l?s=(n-r)/c+(n<r)*6:n===l?s=(r-t)/c+2:s=(t-n)/c+4,c/=d<.5?l+a:2-l-a,s*=60):c=d>0&&d<1?0:s,new Or(s,c,d,e.opacity)}function Q5(e,t,n,r){return arguments.length===1?PM(e):new Or(e,t,n,r??1)}function Or(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xy(Or,Q5,DM(su,{brighter(e){return e=e==null?bf:Math.pow(bf,e),new Or(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Or(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Un(lg(e>=240?e-240:e+120,a,r),lg(e,a,r),lg(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Or(EE(this.h),$c(this.s),$c(this.l),xf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xf(this.opacity);return`${e===1?"hsl(":"hsla("}${EE(this.h)}, ${$c(this.s)*100}%, ${$c(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EE(e){return e=(e||0)%360,e<0?e+360:e}function $c(e){return Math.max(0,Math.min(1,e||0))}function lg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Sy=e=>()=>e;function eU(e,t){return function(n){return e+n*t}}function tU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nU(e){return(e=+e)==1?OM:function(t,n){return n-t?tU(t,n,e):Sy(isNaN(t)?n:t)}}function OM(e,t){var n=t-e;return n?eU(e,n):Sy(isNaN(e)?t:e)}const TE=(function e(t){var n=nU(t);function r(a,l){var s=n((a=mv(a)).r,(l=mv(l)).r),c=n(a.g,l.g),d=n(a.b,l.b),f=OM(a.opacity,l.opacity);return function(p){return a.r=s(p),a.g=c(p),a.b=d(p),a.opacity=f(p),a+""}}return r.gamma=e,r})(1);function rU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=e[a]*(1-l)+t[a]*l;return r}}function iU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aU(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),l=new Array(n),s;for(s=0;s<r;++s)a[s]=yl(e[s],t[s]);for(;s<n;++s)l[s]=t[s];return function(c){for(s=0;s<r;++s)l[s]=a[s](c);return l}}function oU(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function lU(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=yl(e[a],t[a]):r[a]=t[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var pv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sg=new RegExp(pv.source,"g");function sU(e){return function(){return e}}function uU(e){return function(t){return e(t)+""}}function cU(e,t){var n=pv.lastIndex=sg.lastIndex=0,r,a,l,s=-1,c=[],d=[];for(e=e+"",t=t+"";(r=pv.exec(e))&&(a=sg.exec(t));)(l=a.index)>n&&(l=t.slice(n,l),c[s]?c[s]+=l:c[++s]=l),(r=r[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,d.push({i:s,x:Sf(r,a)})),n=sg.lastIndex;return n<t.length&&(l=t.slice(n),c[s]?c[s]+=l:c[++s]=l),c.length<2?d[0]?uU(d[0].x):sU(t):(t=d.length,function(f){for(var p=0,h;p<t;++p)c[(h=d[p]).i]=h.x(f);return c.join("")})}function yl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Sy(t):(n==="number"?Sf:n==="string"?(r=Fs(t))?(t=r,TE):cU:t instanceof Fs?TE:t instanceof Date?oU:iU(t)?rU:Array.isArray(t)?aU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lU:Sf)(e,t)}function wy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function fU(e,t){t===void 0&&(t=e,e=yl);for(var n=0,r=t.length-1,a=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(a,a=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return l[c](s-c)}}function dU(e){return function(){return e}}function wf(e){return+e}var CE=[0,1];function En(e){return e}function hv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dU(isNaN(t)?NaN:.5)}function mU(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function pU(e,t,n){var r=e[0],a=e[1],l=t[0],s=t[1];return a<r?(r=hv(a,r),l=n(s,l)):(r=hv(r,a),l=n(l,s)),function(c){return l(r(c))}}function hU(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),l=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=hv(e[s],e[s+1]),l[s]=n(t[s],t[s+1]);return function(c){var d=lu(e,c,1,r)-1;return l[d](a[d](c))}}function uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ld(){var e=CE,t=CE,n=yl,r,a,l,s=En,c,d,f;function p(){var x=Math.min(e.length,t.length);return s!==En&&(s=mU(e[0],e[x-1])),c=x>2?hU:pU,d=f=null,h}function h(x){return x==null||isNaN(x=+x)?l:(d||(d=c(e.map(r),t,n)))(r(s(x)))}return h.invert=function(x){return s(a((f||(f=c(t,e.map(r),Sf)))(x)))},h.domain=function(x){return arguments.length?(e=Array.from(x,wf),p()):e.slice()},h.range=function(x){return arguments.length?(t=Array.from(x),p()):t.slice()},h.rangeRound=function(x){return t=Array.from(x),n=wy,p()},h.clamp=function(x){return arguments.length?(s=x?!0:En,p()):s!==En},h.interpolate=function(x){return arguments.length?(n=x,p()):n},h.unknown=function(x){return arguments.length?(l=x,h):l},function(x,w){return r=x,a=w,p()}}function Ay(){return ld()(En,En)}function gU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Af(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cl(e){return e=Af(Math.abs(e)),e?e[1]:NaN}function vU(e,t){return function(n,r){for(var a=n.length,l=[],s=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),l.push(n.substring(a-=c,a+c)),!((d+=c+1)>r));)c=e[s=(s+1)%e.length];return l.reverse().join(t)}}function yU(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var bU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ks(e){if(!(t=bU.exec(e)))throw new Error("invalid format: "+e);var t;return new Ey({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ks.prototype=Ey.prototype;function Ey(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ey.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xU(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var RM;function SU(e,t){var n=Af(e,t);if(!n)return e+"";var r=n[0],a=n[1],l=a-(RM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return l===s?r:l>s?r+new Array(l-s+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Af(e,Math.max(0,t+l-1))[0]}function _E(e,t){var n=Af(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const NE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_E(e*100,t),r:_E,s:SU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ME(e){return e}var DE=Array.prototype.map,PE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wU(e){var t=e.grouping===void 0||e.thousands===void 0?ME:vU(DE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?ME:yU(DE.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Ks(h);var x=h.fill,w=h.align,E=h.sign,A=h.symbol,C=h.zero,N=h.width,R=h.comma,P=h.precision,M=h.trim,I=h.type;I==="n"?(R=!0,I="g"):NE[I]||(P===void 0&&(P=12),M=!0,I="g"),(C||x==="0"&&w==="=")&&(C=!0,x="0",w="=");var k=A==="$"?n:A==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",j=A==="$"?r:/[%p]/.test(I)?s:"",q=NE[I],$=/[defgprs%]/.test(I);P=P===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function te(K){var G=k,V=j,ae,me,B;if(I==="c")V=q(K)+V,K="";else{K=+K;var ne=K<0||1/K<0;if(K=isNaN(K)?d:q(Math.abs(K),P),M&&(K=xU(K)),ne&&+K==0&&E!=="+"&&(ne=!1),G=(ne?E==="("?E:c:E==="-"||E==="("?"":E)+G,V=(I==="s"?PE[8+RM/3]:"")+V+(ne&&E==="("?")":""),$){for(ae=-1,me=K.length;++ae<me;)if(B=K.charCodeAt(ae),48>B||B>57){V=(B===46?a+K.slice(ae+1):K.slice(ae))+V,K=K.slice(0,ae);break}}}R&&!C&&(K=t(K,1/0));var H=G.length+K.length+V.length,fe=H<N?new Array(N-H+1).join(x):"";switch(R&&C&&(K=t(fe+K,fe.length?N-V.length:1/0),fe=""),w){case"<":K=G+K+V+fe;break;case"=":K=G+fe+K+V;break;case"^":K=fe.slice(0,H=fe.length>>1)+G+K+V+fe.slice(H);break;default:K=fe+G+K+V;break}return l(K)}return te.toString=function(){return h+""},te}function p(h,x){var w=f((h=Ks(h),h.type="f",h)),E=Math.max(-8,Math.min(8,Math.floor(cl(x)/3)))*3,A=Math.pow(10,-E),C=PE[8+E/3];return function(N){return w(A*N)+C}}return{format:f,formatPrefix:p}}var Vc,Ty,IM;AU({thousands:",",grouping:[3],currency:["$",""]});function AU(e){return Vc=wU(e),Ty=Vc.format,IM=Vc.formatPrefix,Vc}function EU(e){return Math.max(0,-cl(Math.abs(e)))}function TU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cl(t)/3)))*3-cl(Math.abs(e)))}function CU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cl(t)-cl(e))+1}function kM(e,t,n,r){var a=fv(e,t,n),l;switch(r=Ks(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=TU(a,s))&&(r.precision=l),IM(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=CU(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=EU(a))&&(r.precision=l-(r.type==="%")*2);break}}return Ty(r)}function pa(e){var t=e.domain;return e.ticks=function(n){var r=t();return uv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return kM(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,l=r.length-1,s=r[a],c=r[l],d,f,p=10;for(c<s&&(f=s,s=c,c=f,f=a,a=l,l=f);p-- >0;){if(f=cv(s,c,n),f===d)return r[a]=s,r[l]=c,t(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function jM(){var e=Ay();return e.copy=function(){return uu(e,jM())},Er.apply(e,arguments),pa(e)}function LM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,wf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return LM(e).unknown(t)},e=arguments.length?Array.from(e,wf):[0,1],pa(n)}function UM(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],l=e[r],s;return l<a&&(s=n,n=r,r=s,s=a,a=l,l=s),e[n]=t.floor(a),e[r]=t.ceil(l),e}function OE(e){return Math.log(e)}function RE(e){return Math.exp(e)}function _U(e){return-Math.log(-e)}function NU(e){return-Math.exp(-e)}function MU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DU(e){return e===10?MU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IE(e){return(t,n)=>-e(-t,n)}function Cy(e){const t=e(OE,RE),n=t.domain;let r=10,a,l;function s(){return a=PU(r),l=DU(r),n()[0]<0?(a=IE(a),l=IE(l),e(_U,NU)):e(OE,RE),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const h=p<f;h&&([f,p]=[p,f]);let x=a(f),w=a(p),E,A;const C=c==null?10:+c;let N=[];if(!(r%1)&&w-x<C){if(x=Math.floor(x),w=Math.ceil(w),f>0){for(;x<=w;++x)for(E=1;E<r;++E)if(A=x<0?E/l(-x):E*l(x),!(A<f)){if(A>p)break;N.push(A)}}else for(;x<=w;++x)for(E=r-1;E>=1;--E)if(A=x>0?E/l(-x):E*l(x),!(A<f)){if(A>p)break;N.push(A)}N.length*2<C&&(N=uv(f,p,C))}else N=uv(x,w,Math.min(w-x,C)).map(l);return h?N.reverse():N},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Ks(d)).precision==null&&(d.trim=!0),d=Ty(d)),c===1/0)return d;const f=Math.max(1,r*c/t.ticks().length);return p=>{let h=p/l(Math.round(a(p)));return h*r<r-.5&&(h*=r),h<=f?d(p):""}},t.nice=()=>n(UM(n(),{floor:c=>l(Math.floor(a(c))),ceil:c=>l(Math.ceil(a(c)))})),t}function qM(){const e=Cy(ld()).domain([1,10]);return e.copy=()=>uu(e,qM()).base(e.base()),Er.apply(e,arguments),e}function kE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _y(e){var t=1,n=e(kE(t),jE(t));return n.constant=function(r){return arguments.length?e(kE(t=+r),jE(t)):t},pa(n)}function BM(){var e=_y(ld());return e.copy=function(){return uu(e,BM()).constant(e.constant())},Er.apply(e,arguments)}function LE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function RU(e){return e<0?-e*e:e*e}function Ny(e){var t=e(En,En),n=1;function r(){return n===1?e(En,En):n===.5?e(OU,RU):e(LE(n),LE(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},pa(t)}function My(){var e=Ny(ld());return e.copy=function(){return uu(e,My()).exponent(e.exponent())},Er.apply(e,arguments),e}function IU(){return My.apply(null,arguments).exponent(.5)}function UE(e){return Math.sign(e)*e*e}function kU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zM(){var e=Ay(),t=[0,1],n=!1,r;function a(l){var s=kU(e(l));return isNaN(s)?r:n?Math.round(s):s}return a.invert=function(l){return e.invert(UE(l))},a.domain=function(l){return arguments.length?(e.domain(l),a):e.domain()},a.range=function(l){return arguments.length?(e.range((t=Array.from(l,wf)).map(UE)),a):t.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(e.clamp(l),a):e.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return zM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Er.apply(a,arguments),pa(a)}function HM(){var e=[],t=[],n=[],r;function a(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=q5(e,s/c);return l}function l(s){return s==null||isNaN(s=+s)?r:t[lu(n,s)]}return l.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},l.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(oa),a()},l.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},l.unknown=function(s){return arguments.length?(r=s,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return HM().domain(e).range(t).unknown(r)},Er.apply(l,arguments)}function GM(){var e=0,t=1,n=1,r=[.5],a=[0,1],l;function s(d){return d!=null&&d<=d?a[lu(r,d,0,n)]:l}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,c()):a.slice()},s.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(d){return arguments.length&&(l=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return GM().domain([e,t]).range(a).unknown(l)},Er.apply(pa(s),arguments)}function $M(){var e=[.5],t=[0,1],n,r=1;function a(l){return l!=null&&l<=l?t[lu(e,l,0,r)]:n}return a.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(l){var s=t.indexOf(l);return[e[s-1],e[s]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return $M().domain(e).range(t).unknown(n)},Er.apply(a,arguments)}const ug=new Date,cg=new Date;function Ft(e,t,n,r){function a(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(e(l=new Date(+l)),l),a.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),a.round=l=>{const s=a(l),c=a.ceil(l);return l-s<c-l?s:c},a.offset=(l,s)=>(t(l=new Date(+l),s==null?1:Math.floor(s)),l),a.range=(l,s,c)=>{const d=[];if(l=a.ceil(l),c=c==null?1:Math.floor(c),!(l<s)||!(c>0))return d;let f;do d.push(f=new Date(+l)),t(l,c),e(l);while(f<l&&l<s);return d},a.filter=l=>Ft(s=>{if(s>=s)for(;e(s),!l(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!l(s););else for(;--c>=0;)for(;t(s,1),!l(s););}),n&&(a.count=(l,s)=>(ug.setTime(+l),cg.setTime(+s),e(ug),e(cg),Math.floor(n(ug,cg))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?s=>r(s)%l===0:s=>a.count(0,s)%l===0):a)),a}const Ef=Ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ef.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ef);Ef.range;const mi=1e3,yr=mi*60,pi=yr*60,xi=pi*24,Dy=xi*7,qE=xi*30,fg=xi*365,$a=Ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getUTCSeconds());$a.range;const Py=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mi)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getMinutes());Py.range;const Oy=Ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getUTCMinutes());Oy.range;const Ry=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mi-e.getMinutes()*yr)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getHours());Ry.range;const Iy=Ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCHours());Iy.range;const cu=Ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yr)/xi,e=>e.getDate()-1);cu.range;const sd=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>e.getUTCDate()-1);sd.range;const VM=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>Math.floor(e/xi));VM.range;function lo(e){return Ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*yr)/Dy)}const ud=lo(0),Tf=lo(1),jU=lo(2),LU=lo(3),fl=lo(4),UU=lo(5),qU=lo(6);ud.range;Tf.range;jU.range;LU.range;fl.range;UU.range;qU.range;function so(e){return Ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Dy)}const cd=so(0),Cf=so(1),BU=so(2),zU=so(3),dl=so(4),HU=so(5),GU=so(6);cd.range;Cf.range;BU.range;zU.range;dl.range;HU.range;GU.range;const ky=Ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ky.range;const jy=Ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jy.range;const Si=Ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Si.range;const wi=Ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});wi.range;function FM(e,t,n,r,a,l){const s=[[$a,1,mi],[$a,5,5*mi],[$a,15,15*mi],[$a,30,30*mi],[l,1,yr],[l,5,5*yr],[l,15,15*yr],[l,30,30*yr],[a,1,pi],[a,3,3*pi],[a,6,6*pi],[a,12,12*pi],[r,1,xi],[r,2,2*xi],[n,1,Dy],[t,1,qE],[t,3,3*qE],[e,1,fg]];function c(f,p,h){const x=p<f;x&&([f,p]=[p,f]);const w=h&&typeof h.range=="function"?h:d(f,p,h),E=w?w.range(f,+p+1):[];return x?E.reverse():E}function d(f,p,h){const x=Math.abs(p-f)/h,w=vy(([,,C])=>C).right(s,x);if(w===s.length)return e.every(fv(f/fg,p/fg,h));if(w===0)return Ef.every(Math.max(fv(f,p,h),1));const[E,A]=s[x/s[w-1][2]<s[w][2]/x?w-1:w];return E.every(A)}return[c,d]}const[$U,VU]=FM(wi,jy,cd,VM,Iy,Oy),[FU,KU]=FM(Si,ky,ud,cu,Ry,Py);function dg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ns(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function YU(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,l=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=Ms(a),p=Ds(a),h=Ms(l),x=Ds(l),w=Ms(s),E=Ds(s),A=Ms(c),C=Ds(c),N=Ms(d),R=Ds(d),P={a:ne,A:H,b:fe,B:ge,c:null,d:VE,e:VE,f:v6,g:_6,G:M6,H:p6,I:h6,j:g6,L:KM,m:y6,M:b6,p:L,q:Z,Q:YE,s:JE,S:x6,u:S6,U:w6,V:A6,w:E6,W:T6,x:null,X:null,y:C6,Y:N6,Z:D6,"%":KE},M={a:pe,A:he,b:ye,B:Te,c:null,d:FE,e:FE,f:I6,g:$6,G:F6,H:P6,I:O6,j:R6,L:JM,m:k6,M:j6,p:Oe,q:Ve,Q:YE,s:JE,S:L6,u:U6,U:q6,V:B6,w:z6,W:H6,x:null,X:null,y:G6,Y:V6,Z:K6,"%":KE},I={a:te,A:K,b:G,B:V,c:ae,d:GE,e:GE,f:c6,g:HE,G:zE,H:$E,I:$E,j:o6,L:u6,m:a6,M:l6,p:$,q:i6,Q:d6,s:m6,S:s6,u:QU,U:e6,V:t6,w:ZU,W:n6,x:me,X:B,y:HE,Y:zE,Z:r6,"%":f6};P.x=k(n,P),P.X=k(r,P),P.c=k(t,P),M.x=k(n,M),M.X=k(r,M),M.c=k(t,M);function k(oe,Ce){return function(re){var Q=[],Re=-1,be=0,Le=oe.length,et,lt,tt;for(re instanceof Date||(re=new Date(+re));++Re<Le;)oe.charCodeAt(Re)===37&&(Q.push(oe.slice(be,Re)),(lt=BE[et=oe.charAt(++Re)])!=null?et=oe.charAt(++Re):lt=et==="e"?" ":"0",(tt=Ce[et])&&(et=tt(re,lt)),Q.push(et),be=Re+1);return Q.push(oe.slice(be,Re)),Q.join("")}}function j(oe,Ce){return function(re){var Q=Ns(1900,void 0,1),Re=q(Q,oe,re+="",0),be,Le;if(Re!=re.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(Ce&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(be=mg(Ns(Q.y,0,1)),Le=be.getUTCDay(),be=Le>4||Le===0?Cf.ceil(be):Cf(be),be=sd.offset(be,(Q.V-1)*7),Q.y=be.getUTCFullYear(),Q.m=be.getUTCMonth(),Q.d=be.getUTCDate()+(Q.w+6)%7):(be=dg(Ns(Q.y,0,1)),Le=be.getDay(),be=Le>4||Le===0?Tf.ceil(be):Tf(be),be=cu.offset(be,(Q.V-1)*7),Q.y=be.getFullYear(),Q.m=be.getMonth(),Q.d=be.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Le="Z"in Q?mg(Ns(Q.y,0,1)).getUTCDay():dg(Ns(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Le+5)%7:Q.w+Q.U*7-(Le+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,mg(Q)):dg(Q)}}function q(oe,Ce,re,Q){for(var Re=0,be=Ce.length,Le=re.length,et,lt;Re<be;){if(Q>=Le)return-1;if(et=Ce.charCodeAt(Re++),et===37){if(et=Ce.charAt(Re++),lt=I[et in BE?Ce.charAt(Re++):et],!lt||(Q=lt(oe,re,Q))<0)return-1}else if(et!=re.charCodeAt(Q++))return-1}return Q}function $(oe,Ce,re){var Q=f.exec(Ce.slice(re));return Q?(oe.p=p.get(Q[0].toLowerCase()),re+Q[0].length):-1}function te(oe,Ce,re){var Q=w.exec(Ce.slice(re));return Q?(oe.w=E.get(Q[0].toLowerCase()),re+Q[0].length):-1}function K(oe,Ce,re){var Q=h.exec(Ce.slice(re));return Q?(oe.w=x.get(Q[0].toLowerCase()),re+Q[0].length):-1}function G(oe,Ce,re){var Q=N.exec(Ce.slice(re));return Q?(oe.m=R.get(Q[0].toLowerCase()),re+Q[0].length):-1}function V(oe,Ce,re){var Q=A.exec(Ce.slice(re));return Q?(oe.m=C.get(Q[0].toLowerCase()),re+Q[0].length):-1}function ae(oe,Ce,re){return q(oe,t,Ce,re)}function me(oe,Ce,re){return q(oe,n,Ce,re)}function B(oe,Ce,re){return q(oe,r,Ce,re)}function ne(oe){return s[oe.getDay()]}function H(oe){return l[oe.getDay()]}function fe(oe){return d[oe.getMonth()]}function ge(oe){return c[oe.getMonth()]}function L(oe){return a[+(oe.getHours()>=12)]}function Z(oe){return 1+~~(oe.getMonth()/3)}function pe(oe){return s[oe.getUTCDay()]}function he(oe){return l[oe.getUTCDay()]}function ye(oe){return d[oe.getUTCMonth()]}function Te(oe){return c[oe.getUTCMonth()]}function Oe(oe){return a[+(oe.getUTCHours()>=12)]}function Ve(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ce=k(oe+="",P);return Ce.toString=function(){return oe},Ce},parse:function(oe){var Ce=j(oe+="",!1);return Ce.toString=function(){return oe},Ce},utcFormat:function(oe){var Ce=k(oe+="",M);return Ce.toString=function(){return oe},Ce},utcParse:function(oe){var Ce=j(oe+="",!0);return Ce.toString=function(){return oe},Ce}}}var BE={"-":"",_:" ",0:"0"},en=/^\s*\d+/,JU=/^%/,XU=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(t)+a:a)}function WU(e){return e.replace(XU,"\\$&")}function Ms(e){return new RegExp("^(?:"+e.map(WU).join("|")+")","i")}function Ds(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ZU(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function QU(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function e6(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function t6(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function n6(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zE(e,t,n){var r=en.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function HE(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function r6(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function i6(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function a6(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function GE(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function o6(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function $E(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function l6(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function s6(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function u6(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function c6(e,t,n){var r=en.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function f6(e,t,n){var r=JU.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function d6(e,t,n){var r=en.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function m6(e,t,n){var r=en.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function VE(e,t){return Xe(e.getDate(),t,2)}function p6(e,t){return Xe(e.getHours(),t,2)}function h6(e,t){return Xe(e.getHours()%12||12,t,2)}function g6(e,t){return Xe(1+cu.count(Si(e),e),t,3)}function KM(e,t){return Xe(e.getMilliseconds(),t,3)}function v6(e,t){return KM(e,t)+"000"}function y6(e,t){return Xe(e.getMonth()+1,t,2)}function b6(e,t){return Xe(e.getMinutes(),t,2)}function x6(e,t){return Xe(e.getSeconds(),t,2)}function S6(e){var t=e.getDay();return t===0?7:t}function w6(e,t){return Xe(ud.count(Si(e)-1,e),t,2)}function YM(e){var t=e.getDay();return t>=4||t===0?fl(e):fl.ceil(e)}function A6(e,t){return e=YM(e),Xe(fl.count(Si(e),e)+(Si(e).getDay()===4),t,2)}function E6(e){return e.getDay()}function T6(e,t){return Xe(Tf.count(Si(e)-1,e),t,2)}function C6(e,t){return Xe(e.getFullYear()%100,t,2)}function _6(e,t){return e=YM(e),Xe(e.getFullYear()%100,t,2)}function N6(e,t){return Xe(e.getFullYear()%1e4,t,4)}function M6(e,t){var n=e.getDay();return e=n>=4||n===0?fl(e):fl.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function D6(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function FE(e,t){return Xe(e.getUTCDate(),t,2)}function P6(e,t){return Xe(e.getUTCHours(),t,2)}function O6(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function R6(e,t){return Xe(1+sd.count(wi(e),e),t,3)}function JM(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function I6(e,t){return JM(e,t)+"000"}function k6(e,t){return Xe(e.getUTCMonth()+1,t,2)}function j6(e,t){return Xe(e.getUTCMinutes(),t,2)}function L6(e,t){return Xe(e.getUTCSeconds(),t,2)}function U6(e){var t=e.getUTCDay();return t===0?7:t}function q6(e,t){return Xe(cd.count(wi(e)-1,e),t,2)}function XM(e){var t=e.getUTCDay();return t>=4||t===0?dl(e):dl.ceil(e)}function B6(e,t){return e=XM(e),Xe(dl.count(wi(e),e)+(wi(e).getUTCDay()===4),t,2)}function z6(e){return e.getUTCDay()}function H6(e,t){return Xe(Cf.count(wi(e)-1,e),t,2)}function G6(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function $6(e,t){return e=XM(e),Xe(e.getUTCFullYear()%100,t,2)}function V6(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function F6(e,t){var n=e.getUTCDay();return e=n>=4||n===0?dl(e):dl.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function K6(){return"+0000"}function KE(){return"%"}function YE(e){return+e}function JE(e){return Math.floor(+e/1e3)}var Jo,WM,ZM;Y6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Y6(e){return Jo=YU(e),WM=Jo.format,Jo.parse,ZM=Jo.utcFormat,Jo.utcParse,Jo}function J6(e){return new Date(e)}function X6(e){return e instanceof Date?+e:+new Date(+e)}function Ly(e,t,n,r,a,l,s,c,d,f){var p=Ay(),h=p.invert,x=p.domain,w=f(".%L"),E=f(":%S"),A=f("%I:%M"),C=f("%I %p"),N=f("%a %d"),R=f("%b %d"),P=f("%B"),M=f("%Y");function I(k){return(d(k)<k?w:c(k)<k?E:s(k)<k?A:l(k)<k?C:r(k)<k?a(k)<k?N:R:n(k)<k?P:M)(k)}return p.invert=function(k){return new Date(h(k))},p.domain=function(k){return arguments.length?x(Array.from(k,X6)):x().map(J6)},p.ticks=function(k){var j=x();return e(j[0],j[j.length-1],k??10)},p.tickFormat=function(k,j){return j==null?I:f(j)},p.nice=function(k){var j=x();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?x(UM(j,k)):p},p.copy=function(){return uu(p,Ly(e,t,n,r,a,l,s,c,d,f))},p}function W6(){return Er.apply(Ly(FU,KU,Si,ky,ud,cu,Ry,Py,$a,WM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Z6(){return Er.apply(Ly($U,VU,wi,jy,cd,sd,Iy,Oy,$a,ZM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fd(){var e=0,t=1,n,r,a,l,s=En,c=!1,d;function f(h){return h==null||isNaN(h=+h)?d:s(a===0?.5:(h=(l(h)-n)*a,c?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,n=l(e=+e),r=l(t=+t),a=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(h){return arguments.length?(c=!!h,f):c},f.interpolator=function(h){return arguments.length?(s=h,f):s};function p(h){return function(x){var w,E;return arguments.length?([w,E]=x,s=h(w,E),f):[s(0),s(1)]}}return f.range=p(yl),f.rangeRound=p(wy),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return l=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),f}}function ha(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QM(){var e=pa(fd()(En));return e.copy=function(){return ha(e,QM())},Ci.apply(e,arguments)}function e2(){var e=Cy(fd()).domain([1,10]);return e.copy=function(){return ha(e,e2()).base(e.base())},Ci.apply(e,arguments)}function t2(){var e=_y(fd());return e.copy=function(){return ha(e,t2()).constant(e.constant())},Ci.apply(e,arguments)}function Uy(){var e=Ny(fd());return e.copy=function(){return ha(e,Uy()).exponent(e.exponent())},Ci.apply(e,arguments)}function Q6(){return Uy.apply(null,arguments).exponent(.5)}function n2(){var e=[],t=En;function n(r){if(r!=null&&!isNaN(r=+r))return t((lu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(oa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>U5(e,l/r))},n.copy=function(){return n2(t).domain(e)},Ci.apply(n,arguments)}function dd(){var e=0,t=.5,n=1,r=1,a,l,s,c,d,f=En,p,h=!1,x;function w(A){return isNaN(A=+A)?x:(A=.5+((A=+p(A))-l)*(r*A<r*l?c:d),f(h?Math.max(0,Math.min(1,A)):A))}w.domain=function(A){return arguments.length?([e,t,n]=A,a=p(e=+e),l=p(t=+t),s=p(n=+n),c=a===l?0:.5/(l-a),d=l===s?0:.5/(s-l),r=l<a?-1:1,w):[e,t,n]},w.clamp=function(A){return arguments.length?(h=!!A,w):h},w.interpolator=function(A){return arguments.length?(f=A,w):f};function E(A){return function(C){var N,R,P;return arguments.length?([N,R,P]=C,f=fU(A,[N,R,P]),w):[f(0),f(.5),f(1)]}}return w.range=E(yl),w.rangeRound=E(wy),w.unknown=function(A){return arguments.length?(x=A,w):x},function(A){return p=A,a=A(e),l=A(t),s=A(n),c=a===l?0:.5/(l-a),d=l===s?0:.5/(s-l),r=l<a?-1:1,w}}function r2(){var e=pa(dd()(En));return e.copy=function(){return ha(e,r2())},Ci.apply(e,arguments)}function i2(){var e=Cy(dd()).domain([.1,1,10]);return e.copy=function(){return ha(e,i2()).base(e.base())},Ci.apply(e,arguments)}function a2(){var e=_y(dd());return e.copy=function(){return ha(e,a2()).constant(e.constant())},Ci.apply(e,arguments)}function qy(){var e=Ny(dd());return e.copy=function(){return ha(e,qy()).exponent(e.exponent())},Ci.apply(e,arguments)}function eq(){return qy.apply(null,arguments).exponent(.5)}const ks=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:by,scaleDiverging:r2,scaleDivergingLog:i2,scaleDivergingPow:qy,scaleDivergingSqrt:eq,scaleDivergingSymlog:a2,scaleIdentity:LM,scaleImplicit:dv,scaleLinear:jM,scaleLog:qM,scaleOrdinal:yy,scalePoint:z5,scalePow:My,scaleQuantile:HM,scaleQuantize:GM,scaleRadial:zM,scaleSequential:QM,scaleSequentialLog:e2,scaleSequentialPow:Uy,scaleSequentialQuantile:n2,scaleSequentialSqrt:Q6,scaleSequentialSymlog:t2,scaleSqrt:IU,scaleSymlog:BM,scaleThreshold:$M,scaleTime:W6,scaleUtc:Z6,tickFormat:kM},Symbol.toStringTag,{value:"Module"}));var ga=e=>e.chartData,By=W([ga],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),md=(e,t,n,r)=>r?By(e):ga(e);function to(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(vn(t)&&vn(n))return!0}return!1}function XE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function o2(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,l;if(vn(n))a=n;else if(typeof n=="function")return;if(vn(r))l=r;else if(typeof r=="function")return;var s=[a,l];if(to(s))return s}}function tq(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(to(r))return XE(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,l]=e,s,c;if(a==="auto")t!=null&&(s=Math.min(...t));else if(Me(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&RA.test(a)){var d=RA.exec(a);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[0]-f}}else s=t==null?void 0:t[0];if(l==="auto")t!=null&&(c=Math.max(...t));else if(Me(l))c=l;else if(typeof l=="function")try{t!=null&&(c=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&IA.test(l)){var p=IA.exec(l);if(p==null||t==null)c=void 0;else{var h=+p[1];c=t[1]+h}}else c=t==null?void 0:t[1];var x=[s,c];if(to(x))return t==null?x:XE(x,t,n)}}}var bl=1e9,nq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hy,wt=!0,wr="[DecimalError] ",Xa=wr+"Invalid argument: ",zy=wr+"Exponent out of range: ",xl=Math.floor,Ha=Math.pow,rq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn,Wt=1e7,bt=7,l2=9007199254740991,_f=xl(l2/bt),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,n,r,a,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*bt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(e){return gi(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,n=t.constructor;return mt(gi(t,new n(e),0,1),n.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Bt(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,n=this,r=n.constructor,a=r.precision,l=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Xn))throw Error(wr+"NaN");if(n.s<1)throw Error(wr+(n.s?"NaN":"-Infinity"));return n.eq(Xn)?new r(0):(wt=!1,t=gi(Ys(n,l),Ys(e,l),l),wt=!0,mt(t,a))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?c2(t,e):s2(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(wr+"NaN");return n.s?(wt=!1,t=gi(n,e,0,1).times(e),wt=!0,n.minus(t)):mt(new r(n),a)};Se.naturalExponential=Se.exp=function(){return u2(this)};Se.naturalLogarithm=Se.ln=function(){return Ys(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s2(t,e):c2(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xa+e);if(t=Bt(a)+1,r=a.d.length-1,n=r*bt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Se.squareRoot=Se.sqrt=function(){var e,t,n,r,a,l,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(wr+"NaN")}for(e=Bt(c),wt=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=zr(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(a.toString()),n=d.precision,a=s=n+3;;)if(l=r,r=l.plus(gi(c,l,s+2)).times(.5),zr(l.d).slice(0,s)===(t=zr(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(mt(l,n+1,0),l.times(l).eq(c)){r=l;break}}else if(t!="9999")break;s+=4}return wt=!0,mt(r,n)};Se.times=Se.mul=function(e){var t,n,r,a,l,s,c,d,f,p=this,h=p.constructor,x=p.d,w=(e=new h(e)).d;if(!p.s||!e.s)return new h(0);for(e.s*=p.s,n=p.e+e.e,d=x.length,f=w.length,d<f&&(l=x,x=w,w=l,s=d,d=f,f=s),l=[],s=d+f,r=s;r--;)l.push(0);for(r=f;--r>=0;){for(t=0,a=d+r;a>r;)c=l[a]+w[r]*x[a-r-1]+t,l[a--]=c%Wt|0,t=c/Wt|0;l[a]=(l[a]+t)%Wt|0}for(;!l[--s];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,wt?mt(e,h.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Vr(e,0,bl),t===void 0?t=r.rounding:Vr(t,0,8),mt(n,e+Bt(n)+1,t))};Se.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=no(r,!0):(Vr(e,0,bl),t===void 0?t=a.rounding:Vr(t,0,8),r=mt(new a(r),e+1,t),n=no(r,!0,e+1)),n};Se.toFixed=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?no(a):(Vr(e,0,bl),t===void 0?t=l.rounding:Vr(t,0,8),r=mt(new l(a),e+Bt(a)+1,t),n=no(r.abs(),!1,e+Bt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return mt(new t(e),Bt(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,n,r,a,l,s,c=this,d=c.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(Xn);if(c=new d(c),!c.s){if(e.s<1)throw Error(wr+"Infinity");return c}if(c.eq(Xn))return c;if(r=d.precision,e.eq(Xn))return mt(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,l=c.s,s){if((n=p<0?-p:p)<=l2){for(a=new d(Xn),t=Math.ceil(r/bt+4),wt=!1;n%2&&(a=a.times(c),ZE(a.d,t)),n=xl(n/2),n!==0;)c=c.times(c),ZE(c.d,t);return wt=!0,e.s<0?new d(Xn).div(a):mt(a,r)}}else if(l<0)throw Error(wr+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,wt=!1,a=e.times(Ys(c,r+f)),wt=!0,a=u2(a),a.s=l,a};Se.toPrecision=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?(n=Bt(a),r=no(a,n<=l.toExpNeg||n>=l.toExpPos)):(Vr(e,1,bl),t===void 0?t=l.rounding:Vr(t,0,8),a=mt(new l(a),e,t),n=Bt(a),r=no(a,e<=n||n<=l.toExpNeg,e)),r};Se.toSignificantDigits=Se.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Vr(e,1,bl),t===void 0?t=r.rounding:Vr(t,0,8)),mt(new r(n),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bt(e),n=e.constructor;return no(e,t<=n.toExpNeg||t>=n.toExpPos)};function s2(e,t){var n,r,a,l,s,c,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),wt?mt(t,h):t;if(d=e.d,f=t.d,s=e.e,a=t.e,d=d.slice(),l=s-a,l){for(l<0?(r=d,l=-l,c=f.length):(r=f,a=s,c=d.length),s=Math.ceil(h/bt),c=s>c?s+1:c+1,l>c&&(l=c,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(c=d.length,l=f.length,c-l<0&&(l=c,r=f,f=d,d=r),n=0;l;)n=(d[--l]=d[l]+f[l]+n)/Wt|0,d[l]%=Wt;for(n&&(d.unshift(n),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,wt?mt(t,h):t}function Vr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Xa+e)}function zr(e){var t,n,r,a=e.length-1,l="",s=e[0];if(a>0){for(l+=s,t=1;t<a;t++)r=e[t]+"",n=bt-r.length,n&&(l+=na(n)),l+=r;s=e[t],r=s+"",n=bt-r.length,n&&(l+=na(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return l+s}var gi=(function(){function e(r,a){var l,s=0,c=r.length;for(r=r.slice();c--;)l=r[c]*a+s,r[c]=l%Wt|0,s=l/Wt|0;return s&&r.unshift(s),r}function t(r,a,l,s){var c,d;if(l!=s)d=l>s?1:-1;else for(c=d=0;c<l;c++)if(r[c]!=a[c]){d=r[c]>a[c]?1:-1;break}return d}function n(r,a,l){for(var s=0;l--;)r[l]-=s,s=r[l]<a[l]?1:0,r[l]=s*Wt+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,s){var c,d,f,p,h,x,w,E,A,C,N,R,P,M,I,k,j,q,$=r.constructor,te=r.s==a.s?1:-1,K=r.d,G=a.d;if(!r.s)return new $(r);if(!a.s)throw Error(wr+"Division by zero");for(d=r.e-a.e,j=G.length,I=K.length,w=new $(te),E=w.d=[],f=0;G[f]==(K[f]||0);)++f;if(G[f]>(K[f]||0)&&--d,l==null?R=l=$.precision:s?R=l+(Bt(r)-Bt(a))+1:R=l,R<0)return new $(0);if(R=R/bt+2|0,f=0,j==1)for(p=0,G=G[0],R++;(f<I||p)&&R--;f++)P=p*Wt+(K[f]||0),E[f]=P/G|0,p=P%G|0;else{for(p=Wt/(G[0]+1)|0,p>1&&(G=e(G,p),K=e(K,p),j=G.length,I=K.length),M=j,A=K.slice(0,j),C=A.length;C<j;)A[C++]=0;q=G.slice(),q.unshift(0),k=G[0],G[1]>=Wt/2&&++k;do p=0,c=t(G,A,j,C),c<0?(N=A[0],j!=C&&(N=N*Wt+(A[1]||0)),p=N/k|0,p>1?(p>=Wt&&(p=Wt-1),h=e(G,p),x=h.length,C=A.length,c=t(h,A,x,C),c==1&&(p--,n(h,j<x?q:G,x))):(p==0&&(c=p=1),h=G.slice()),x=h.length,x<C&&h.unshift(0),n(A,h,C),c==-1&&(C=A.length,c=t(G,A,j,C),c<1&&(p++,n(A,j<C?q:G,C))),C=A.length):c===0&&(p++,A=[0]),E[f++]=p,c&&A[0]?A[C++]=K[M]||0:(A=[K[M]],C=1);while((M++<I||A[0]!==void 0)&&R--)}return E[0]||E.shift(),w.e=d,mt(w,s?l+Bt(w)+1:l)}})();function u2(e,t){var n,r,a,l,s,c,d=0,f=0,p=e.constructor,h=p.precision;if(Bt(e)>16)throw Error(zy+Bt(e));if(!e.s)return new p(Xn);for(wt=!1,c=h,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(Ha(2,f))/Math.LN10*2+5|0,c+=r,n=a=l=new p(Xn),p.precision=c;;){if(a=mt(a.times(e),c),n=n.times(++d),s=l.plus(gi(a,n,c)),zr(s.d).slice(0,c)===zr(l.d).slice(0,c)){for(;f--;)l=mt(l.times(l),c);return p.precision=h,t==null?(wt=!0,mt(l,h)):l}l=s}}function Bt(e){for(var t=e.e*bt,n=e.d[0];n>=10;n/=10)t++;return t}function pg(e,t,n){if(t>e.LN10.sd())throw wt=!0,n&&(e.precision=n),Error(wr+"LN10 precision limit exceeded");return mt(new e(e.LN10),t)}function na(e){for(var t="";e--;)t+="0";return t}function Ys(e,t){var n,r,a,l,s,c,d,f,p,h=1,x=10,w=e,E=w.d,A=w.constructor,C=A.precision;if(w.s<1)throw Error(wr+(w.s?"NaN":"-Infinity"));if(w.eq(Xn))return new A(0);if(t==null?(wt=!1,f=C):f=t,w.eq(10))return t==null&&(wt=!0),pg(A,f);if(f+=x,A.precision=f,n=zr(E),r=n.charAt(0),l=Bt(w),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(e),n=zr(w.d),r=n.charAt(0),h++;l=Bt(w),r>1?(w=new A("0."+n),l++):w=new A(r+"."+n.slice(1))}else return d=pg(A,f+2,C).times(l+""),w=Ys(new A(r+"."+n.slice(1)),f-x).plus(d),A.precision=C,t==null?(wt=!0,mt(w,C)):w;for(c=s=w=gi(w.minus(Xn),w.plus(Xn),f),p=mt(w.times(w),f),a=3;;){if(s=mt(s.times(p),f),d=c.plus(gi(s,new A(a),f)),zr(d.d).slice(0,f)===zr(c.d).slice(0,f))return c=c.times(2),l!==0&&(c=c.plus(pg(A,f+2,C).times(l+""))),c=gi(c,new A(h),f),A.precision=C,t==null?(wt=!0,mt(c,C)):c;c=d,a+=2}}function WE(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=xl(n/bt),e.d=[],r=(n+1)%bt,n<0&&(r+=bt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=bt;r<a;)e.d.push(+t.slice(r,r+=bt));t=t.slice(r),r=bt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),wt&&(e.e>_f||e.e<-_f))throw Error(zy+n)}else e.s=0,e.e=0,e.d=[0];return e}function mt(e,t,n){var r,a,l,s,c,d,f,p,h=e.d;for(s=1,l=h[0];l>=10;l/=10)s++;if(r=t-s,r<0)r+=bt,a=t,f=h[p=0];else{if(p=Math.ceil((r+1)/bt),l=h.length,p>=l)return e;for(f=l=h[p],s=1;l>=10;l/=10)s++;r%=bt,a=r-bt+s}if(n!==void 0&&(l=Ha(10,s-a-1),c=f/l%10|0,d=t<0||h[p+1]!==void 0||f%l,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?a>0?f/Ha(10,s-a):0:h[p-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return d?(l=Bt(e),h.length=1,t=t-l-1,h[0]=Ha(10,(bt-t%bt)%bt),e.e=xl(-t/bt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=p,l=1,p--):(h.length=p+1,l=Ha(10,bt-r),h[p]=a>0?(f/Ha(10,s-a)%Ha(10,a)|0)*l:0),d)for(;;)if(p==0){(h[0]+=l)==Wt&&(h[0]=1,++e.e);break}else{if(h[p]+=l,h[p]!=Wt)break;h[p--]=0,l=1}for(r=h.length;h[--r]===0;)h.pop();if(wt&&(e.e>_f||e.e<-_f))throw Error(zy+Bt(e));return e}function c2(e,t){var n,r,a,l,s,c,d,f,p,h,x=e.constructor,w=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),wt?mt(t,w):t;if(d=e.d,h=t.d,r=t.e,f=e.e,d=d.slice(),s=f-r,s){for(p=s<0,p?(n=d,s=-s,c=h.length):(n=h,r=f,c=d.length),a=Math.max(Math.ceil(w/bt),c)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=d.length,c=h.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=h[a]){p=d[a]<h[a];break}s=0}for(p&&(n=d,d=h,h=n,t.s=-t.s),c=d.length,a=h.length-c;a>0;--a)d[c++]=0;for(a=h.length;a>s;){if(d[--a]<h[a]){for(l=a;l&&d[--l]===0;)d[l]=Wt-1;--d[l],d[a]+=Wt}d[a]-=h[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,wt?mt(t,w):t):new x(0)}function no(e,t,n){var r,a=Bt(e),l=zr(e.d),s=l.length;return t?(n&&(r=n-s)>0?l=l.charAt(0)+"."+l.slice(1)+na(r):s>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+na(-a-1)+l,n&&(r=n-s)>0&&(l+=na(r))):a>=s?(l+=na(a+1-s),n&&(r=n-a-1)>0&&(l=l+"."+na(r))):((r=a+1)<s&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(l+="."),l+=na(r))),e.s<0?"-"+l:l}function ZE(e,t){if(e.length>t)return e.length=t,!0}function f2(e){var t,n,r;function a(l){var s=this;if(!(s instanceof a))return new a(l);if(s.constructor=a,l instanceof a){s.s=l.s,s.e=l.e,s.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Xa+l);if(l>0)s.s=1;else if(l<0)l=-l,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(l===~~l&&l<1e7){s.e=0,s.d=[l];return}return WE(s,l.toString())}else if(typeof l!="string")throw Error(Xa+l);if(l.charCodeAt(0)===45?(l=l.slice(1),s.s=-1):s.s=1,rq.test(l))WE(s,l);else throw Error(Xa+l)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=f2,a.config=a.set=iq,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function iq(e){if(!e||typeof e!="object")throw Error(wr+"Object expected");var t,n,r,a=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(xl(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Xa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xa+n+": "+r);return this}var Hy=f2(nq);Xn=new Hy(1);const ot=Hy;var aq=e=>e,d2={},m2=e=>e===d2,QE=e=>function t(){return arguments.length===0||arguments.length===1&&m2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},p2=(e,t)=>e===1?t:QE(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=r.filter(s=>s!==d2).length;return l>=e?t(...r):p2(e-l,QE(function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];var f=r.map(p=>m2(p)?c.shift():p);return t(...f,...c)}))}),pd=e=>p2(e.length,e),gv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},oq=pd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),lq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return aq;var a=n.reverse(),l=a[0],s=a.slice(1);return function(){return s.reduce((c,d)=>d(c),l(...arguments))}},vv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),h2=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t&&a.every((s,c)=>{var d;return s===((d=t)===null||d===void 0?void 0:d[c])})||(t=a,n=e(...a)),n}};function g2(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function v2(e,t,n){for(var r=new ot(e),a=0,l=[];r.lt(t)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}pd((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});pd((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});pd((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var y2=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},b2=(e,t,n)=>{if(e.lte(0))return new ot(0);var r=g2(e.toNumber()),a=new ot(10).pow(r),l=e.div(a),s=r!==1?.05:.1,c=new ot(Math.ceil(l.div(s).toNumber())).add(n).mul(s),d=c.mul(a);return t?new ot(d.toNumber()):new ot(Math.ceil(d.toNumber()))},sq=(e,t,n)=>{var r=new ot(1),a=new ot(e);if(!a.isint()&&n){var l=Math.abs(e);l<1?(r=new ot(10).pow(g2(e)-1),a=new ot(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new ot(Math.floor(e)))}else e===0?a=new ot(Math.floor((t-1)/2)):n||(a=new ot(Math.floor(e)));var s=Math.floor((t-1)/2),c=lq(oq(d=>a.add(new ot(d-s).mul(r)).toNumber()),gv);return c(0,t)},x2=function(t,n,r,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var s=b2(new ot(n).sub(t).div(r-1),a,l),c;t<=0&&n>=0?c=new ot(0):(c=new ot(t).add(n).div(2),c=c.sub(new ot(c).mod(s)));var d=Math.ceil(c.sub(t).div(s).toNumber()),f=Math.ceil(new ot(n).sub(c).div(s).toNumber()),p=d+f+1;return p>r?x2(t,n,r,a,l+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:s,tickMin:c.sub(new ot(d).mul(s)),tickMax:c.add(new ot(f).mul(s))})};function uq(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[s,c]=y2([t,n]);if(s===-1/0||c===1/0){var d=c===1/0?[s,...gv(0,r-1).map(()=>1/0)]:[...gv(0,r-1).map(()=>-1/0),c];return t>n?vv(d):d}if(s===c)return sq(s,r,a);var{step:f,tickMin:p,tickMax:h}=x2(s,c,l,a,0),x=v2(p,h.add(new ot(.1).mul(f)),f);return t>n?vv(x):x}function cq(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,s]=y2([n,r]);if(l===-1/0||s===1/0)return[n,r];if(l===s)return[l];var c=Math.max(t,2),d=b2(new ot(s).sub(l).div(c-1),a,0),f=[...v2(new ot(l),new ot(s),d),s];return a===!1&&(f=f.map(p=>Math.round(p))),n>r?vv(f):f}var fq=h2(uq),dq=h2(cq),S2=e=>e.rootProps.maxBarSize,mq=e=>e.rootProps.barGap,w2=e=>e.rootProps.barCategoryGap,pq=e=>e.rootProps.barSize,fu=e=>e.rootProps.stackOffset,Gy=e=>e.options.chartName,$y=e=>e.rootProps.syncId,A2=e=>e.rootProps.syncMethod,Vy=e=>e.options.eventEmitter,fi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Yn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},hd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fi.angleAxisId,includeHidden:!1,name:void 0,reversed:fi.reversed,scale:fi.scale,tick:fi.tick,tickCount:void 0,ticks:void 0,type:fi.type,unit:void 0},gq={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yn.scale,tick:Yn.tick,tickCount:Yn.tickCount,ticks:void 0,type:Yn.type,unit:void 0},vq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yq={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yn.scale,tick:Yn.tick,tickCount:Yn.tickCount,ticks:void 0,type:"category",unit:void 0},Fy=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vq:hq,Ky=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yq:gq,gd=e=>e.polarOptions,Yy=W([Ei,Ti,Vt],nM),E2=W([gd,Yy],(e,t)=>{if(e!=null)return gn(e.innerRadius,t,0)}),T2=W([gd,Yy],(e,t)=>{if(e!=null)return gn(e.outerRadius,t,t*.8)}),bq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},C2=W([gd],bq);W([Fy,C2],hd);var _2=W([Yy,E2,T2],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});W([Ky,_2],hd);var N2=W([$e,gd,E2,T2,Ei,Ti],(e,t,n,r,a,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:d,endAngle:f}=t;return{cx:gn(s,a,a/2),cy:gn(c,l,l/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Tt=(e,t)=>t,du=(e,t,n)=>n;function Jy(e){return e==null?void 0:e.id}var Kt=e=>{var t=$e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Sl=e=>e.tooltip.settings.axisId,Yt=e=>{var t=Kt(e),n=Sl(e);return mu(e,t,n)},M2=W([Yt],e=>e==null?void 0:e.dataKey);function D2(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:l}=n,s=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var p=Jy(c);f.forEach((h,x)=>{var w=l==null||a?x:String(ht(h,l,null)),E=ht(h,c.dataKey,0),A;s.has(w)?A=s.get(w):A={},Object.assign(A,{[p]:E}),s.set(w,A)})}}),Array.from(s.values())}function vd(e){return e.stackId!=null&&e.dataKey!=null}var yd=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function bd(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){xq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xq(e,t,n){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yv=[0,"auto"],Fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},P2=(e,t)=>e.cartesianAxis.xAxis[t],_i=(e,t)=>{var n=P2(e,t);return n??Fn},Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:yv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:iu},O2=(e,t)=>e.cartesianAxis.yAxis[t],Ni=(e,t)=>{var n=O2(e,t);return n??Kn},Aq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Xy=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Aq},_t=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return Ni(e,n);case"zAxis":return Xy(e,n);case"angleAxis":return Fy(e,n);case"radiusAxis":return Ky(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Eq=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return Ni(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mu=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return Ni(e,n);case"angleAxis":return Fy(e,n);case"radiusAxis":return Ky(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},R2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Wy(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var xd=e=>e.graphicalItems.cartesianItems,Tq=W([Tt,du],Wy),Zy=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),pu=W([xd,_t,Tq],Zy,{memoizeOptions:{resultEqualityCheck:bd}}),I2=W([pu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(vd)),k2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Cq=W([pu],k2),Qy=e=>e.map(t=>t.data).filter(Boolean).flat(1),_q=W([pu],Qy,{memoizeOptions:{resultEqualityCheck:bd}}),e0=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},t0=W([_q,md],e0),n0=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ht(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:ht(a,r)}))):e.map(r=>({value:r})),Sd=W([t0,_t,pu],n0);function j2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wc(e){if($r(e)||e instanceof Date){var t=Number(e);if(vn(t))return t}}function tT(e){if(Array.isArray(e)){var t=[Wc(e[0]),Wc(e[1])];return to(t)?t:void 0}var n=Wc(e);if(n!=null)return[n,n]}function wl(e){return e.map(Wc).filter($4)}function Nq(e,t,n){return!n||typeof t!="number"||xr(t)?[]:n.length?wl(n.flatMap(r=>{var a=ht(e,r.dataKey),l,s;if(Array.isArray(a)?[l,s]=a:l=s=a,!(!vn(l)||!vn(s)))return[t-l,t+s]})):[]}var Mq=W([I2,md,Yt],D2),L2=(e,t,n)=>{var r={},a=t.reduce((l,s)=>(s.stackId==null||(l[s.stackId]==null&&(l[s.stackId]=[]),l[s.stackId].push(s)),l),r);return Object.fromEntries(Object.entries(a).map(l=>{var[s,c]=l,d=c.map(Jy);return[s,{stackedData:mL(e,d,n),graphicalItems:c}]}))},bv=W([Mq,I2,fu],L2),U2=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:l}=t;if(r==null&&n!=="zAxis"){var s=yL(e,a,l);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Dq=W([_t],e=>e.allowDataOverflow),r0=e=>{var t;if(e==null||!("domain"in e))return yv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=wl(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:yv},i0=W([_t],r0),a0=W([i0,Dq],o2),Pq=W([bv,ga,Tt,a0],U2,{memoizeOptions:{resultEqualityCheck:yd}}),wd=e=>e.errorBars,Oq=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>j2(n,r)),Mf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var l=a.flat(),s=Math.min(...l),c=Math.max(...l);return[s,c]}},o0=(e,t,n,r,a)=>{var l,s;if(n.length>0&&e.forEach(c=>{n.forEach(d=>{var f,p,h=(f=r[d.id])===null||f===void 0?void 0:f.filter(N=>j2(a,N)),x=ht(c,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),w=Nq(c,x,h);if(w.length>=2){var E=Math.min(...w),A=Math.max(...w);(l==null||E<l)&&(l=E),(s==null||A>s)&&(s=A)}var C=tT(x);C!=null&&(l=l==null?C[0]:Math.min(l,C[0]),s=s==null?C[1]:Math.max(s,C[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var d=tT(ht(c,t.dataKey));d!=null&&(l=l==null?d[0]:Math.min(l,d[0]),s=s==null?d[1]:Math.max(s,d[1]))}),vn(l)&&vn(s))return[l,s]},Rq=W([t0,_t,Cq,wd,Tt],o0,{memoizeOptions:{resultEqualityCheck:yd}});function Iq(e){var{value:t}=e;if($r(t)||t instanceof Date)return t}var kq=(e,t,n)=>{var r=e.map(Iq).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&dN(r))?TM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},q2=e=>e.referenceElements.dots,Al=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),jq=W([q2,Tt,du],Al),B2=e=>e.referenceElements.areas,Lq=W([B2,Tt,du],Al),z2=e=>e.referenceElements.lines,Uq=W([z2,Tt,du],Al),H2=(e,t)=>{var n=wl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qq=W(jq,Tt,H2),G2=(e,t)=>{var n=wl(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Bq=W([Lq,Tt],G2),$2=(e,t)=>{var n=wl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zq=W(Uq,Tt,$2),Hq=W(qq,zq,Bq,(e,t,n)=>Mf(e,n,t)),l0=(e,t,n,r,a,l,s,c)=>{if(n!=null)return n;var d=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",f=d?Mf(r,l,a):Mf(l,a);return tq(t,f,e.allowDataOverflow)},Gq=W([_t,i0,a0,Pq,Rq,Hq,$e,Tt],l0,{memoizeOptions:{resultEqualityCheck:yd}}),$q=[0,1],s0=(e,t,n,r,a,l,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:d}=e,f=da(t,l);return f&&c==null?TM(0,n.length):d==="category"?kq(r,e,f):a==="expand"?$q:s}},u0=W([_t,$e,t0,Sd,fu,Tt,Gq],s0),V2=(e,t,n,r,a)=>{if(e!=null){var{scale:l,type:s}=e;if(l==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof l=="string"){var c="scale".concat(eu(l));return c in ks?c:"point"}}},El=W([_t,$e,R2,Gy,Tt],V2);function Vq(e){if(e!=null){if(e in ks)return ks[e]();var t="scale".concat(eu(e));if(t in ks)return ks[t]()}}function c0(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=Vq(t);if(a!=null){var l=a.domain(n).range(r);return sL(l),l}}}var f0=(e,t,n)=>{var r=r0(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&to(e))return fq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&to(e))return dq(e,t.tickCount,t.allowDecimals)}},d0=W([u0,mu,El],f0),m0=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&to(t)&&Array.isArray(n)&&n.length>0){var a=t[0],l=n[0],s=t[1],c=n[n.length-1];return[Math.min(a,l),Math.max(s,c)]}return t},Fq=W([_t,u0,d0,Tt],m0),Kq=W(Sd,_t,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(wl(e.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var s=r[l+1]-r[l];n=Math.min(n,s)}return n/a}}),F2=W(Kq,$e,w2,Vt,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!vn(e))return 0;var l=t==="vertical"?r.height:r.width;if(a==="gap")return e*l/2;if(a==="no-gap"){var s=gn(n,e*l),c=e*l/2;return c-s-(c-s)/l*s}return 0}),Yq=(e,t)=>{var n=_i(e,t);return n==null||typeof n.padding!="string"?0:F2(e,"xAxis",t,n.padding)},Jq=(e,t)=>{var n=Ni(e,t);return n==null||typeof n.padding!="string"?0:F2(e,"yAxis",t,n.padding)},Xq=W(_i,Yq,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),Wq=W(Ni,Jq,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),Zq=W([Vt,Xq,rd,nd,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:l}=r;return a?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),Qq=W([Vt,$e,Wq,rd,nd,(e,t,n)=>n],(e,t,n,r,a,l)=>{var{padding:s}=a;return l?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),hu=(e,t,n,r)=>{var a;switch(t){case"xAxis":return Zq(e,n,r);case"yAxis":return Qq(e,n,r);case"zAxis":return(a=Xy(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return C2(e);case"radiusAxis":return _2(e,n);default:return}},K2=W([_t,hu],hd),Tl=W([_t,El,Fq,K2],c0);W([pu,wd,Tt],Oq);function Y2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ad=(e,t)=>t,Ed=(e,t,n)=>n,eB=W(ed,Ad,Ed,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Y2)),tB=W(td,Ad,Ed,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Y2)),J2=(e,t)=>({width:e.width,height:t.height}),nB=(e,t)=>{var n=typeof t.width=="number"?t.width:iu;return{width:n,height:e.height}},X2=W(Vt,_i,J2),rB=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},iB=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},aB=W(Ti,Vt,eB,Ad,Ed,(e,t,n,r,a)=>{var l={},s;return n.forEach(c=>{var d=J2(t,c);s==null&&(s=rB(t,r,e));var f=r==="top"&&!a||r==="bottom"&&a;l[c.id]=s-Number(f)*d.height,s+=(f?-1:1)*d.height}),l}),oB=W(Ei,Vt,tB,Ad,Ed,(e,t,n,r,a)=>{var l={},s;return n.forEach(c=>{var d=nB(t,c);s==null&&(s=iB(t,r,e));var f=r==="left"&&!a||r==="right"&&a;l[c.id]=s-Number(f)*d.width,s+=(f?-1:1)*d.width}),l}),lB=(e,t)=>{var n=_i(e,t);if(n!=null)return aB(e,n.orientation,n.mirror)},sB=W([Vt,_i,lB,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),uB=(e,t)=>{var n=Ni(e,t);if(n!=null)return oB(e,n.orientation,n.mirror)},cB=W([Vt,Ni,uB,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),W2=W(Vt,Ni,(e,t)=>{var n=typeof t.width=="number"?t.width:iu;return{width:n,height:e.height}}),nT=(e,t,n)=>{switch(t){case"xAxis":return X2(e,n).width;case"yAxis":return W2(e,n).height;default:return}},Z2=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:l,dataKey:s}=n,c=da(e,r),d=t.map(f=>f.value);if(s&&c&&l==="category"&&a&&dN(d))return d}},p0=W([$e,Sd,_t,Tt],Z2),Q2=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:l}=n,s=da(e,r);if(s&&(a==="number"||l!=="auto"))return t.map(c=>c.value)}},h0=W([$e,Sd,mu,Tt],Q2),rT=W([$e,Eq,El,Tl,p0,h0,hu,d0,Tt],(e,t,n,r,a,l,s,c,d)=>{if(t==null)return null;var f=da(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:l,duplicateDomain:a,isCategorical:f,niceTicks:c,range:s,realScaleType:n,scale:r}}),fB=(e,t,n,r,a,l,s,c,d)=>{if(!(t==null||r==null)){var f=da(e,d),{type:p,ticks:h,tickCount:x}=t,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=d==="angleAxis"&&l!=null&&l.length>=2?Qt(l[0]-l[1])*2*E:E;var A=h||a;if(A){var C=A.map((N,R)=>{var P=s?s.indexOf(N):N;return{index:R,coordinate:r(P)+E,value:N,offset:E}});return C.filter(N=>!xr(N.coordinate))}return f&&c?c.map((N,R)=>({coordinate:r(N)+E,value:N,index:R,offset:E})):r.ticks?r.ticks(x).map(N=>({coordinate:r(N)+E,value:N,offset:E})):r.domain().map((N,R)=>({coordinate:r(N)+E,value:s?s[N]:N,index:R,offset:E}))}},eD=W([$e,mu,El,Tl,d0,hu,p0,h0,Tt],fB),dB=(e,t,n,r,a,l,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=da(e,s),{tickCount:d}=t,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Qt(r[0]-r[1])*2*f:f,c&&l?l.map((p,h)=>({coordinate:n(p)+f,value:p,index:h,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,h)=>({coordinate:n(p)+f,value:a?a[p]:p,index:h,offset:f}))}},la=W([$e,mu,Tl,hu,p0,h0,Tt],dB),sa=W(_t,Tl,(e,t)=>{if(!(e==null||t==null))return Nf(Nf({},e),{},{scale:t})}),mB=W([_t,El,u0,K2],c0);W((e,t,n)=>Xy(e,n),mB,(e,t)=>{if(!(e==null||t==null))return Nf(Nf({},e),{},{scale:t})});var pB=W([$e,ed,td],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tD=e=>e.options.defaultTooltipEventType,nD=e=>e.options.validateTooltipEventTypes;function rD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function g0(e,t){var n=tD(e),r=nD(e);return rD(t,n,r)}function hB(e){return Ee(t=>g0(t,e))}var iD=(e,t)=>{var n,r=Number(t);if(!(xr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},gB=e=>e.tooltip.settings,ia={active:!1,index:null,dataKey:void 0,coordinate:void 0},vB={itemInteraction:{click:ia,hover:ia},axisInteraction:{click:ia,hover:ia},keyboardInteraction:ia,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},aD=er({name:"tooltip",initialState:vB,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:wn()},removeTooltipEntrySettings:{reducer(e,t){var n=hi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:wn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:yB,removeTooltipEntrySettings:bB,setTooltipSettingsState:xB,setActiveMouseOverItemIndex:oD,mouseLeaveItem:SB,mouseLeaveChart:lD,setActiveClickItemIndex:wB,setMouseOverAxisIndex:sD,setMouseClickAxisIndex:AB,setSyncInteraction:xv,setKeyboardInteraction:Sv}=aD.actions,EB=aD.reducer;function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(r){TB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TB(e,t,n){return(t=CB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NB(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function MB(e){return e.index!=null}var uD=(e,t,n,r)=>{if(t==null)return ia;var a=NB(e,t,n);if(a==null)return ia;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(MB(a)){if(l)return Fc(Fc({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Fc(Fc({},ia),{},{coordinate:a.coordinate})},v0=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!vn(r))return n;var a=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(a,Math.min(r,l)))},cD=(e,t,n,r,a,l,s,c)=>{if(!(l==null||c==null)){var d=s[0],f=d==null?void 0:c(d.positions,l);if(f!=null)return f;var p=a==null?void 0:a[Number(l)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},fD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var s;return((s=l.settings)===null||s===void 0?void 0:s.dataKey)===a})},gu=e=>e.options.tooltipPayloadSearcher,Cl=e=>e.tooltip;function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){DB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DB(e,t,n){return(t=PB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PB(e){var t=OB(e,"string");return typeof t=="symbol"?t:t+""}function OB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RB(e,t){return e??t}var dD=(e,t,n,r,a,l,s)=>{if(!(t==null||l==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,h=[];return e.reduce((x,w)=>{var E,{dataDefinedOnItem:A,settings:C}=w,N=RB(A,c),R=Array.isArray(N)?rM(N,f,p):N,P=(E=C==null?void 0:C.dataKey)!==null&&E!==void 0?E:r,M=C==null?void 0:C.nameKey,I;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&s==="axis"?I=mN(R,r,a):I=l(R,t,d,M),Array.isArray(I))I.forEach(j=>{var q=oT(oT({},C),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});x.push(kA({tooltipEntrySettings:q,dataKey:j.dataKey,payload:j.payload,value:ht(j.payload,j.dataKey),name:j.name}))});else{var k;x.push(kA({tooltipEntrySettings:C,dataKey:P,payload:I,value:ht(I,P),name:(k=ht(I,M))!==null&&k!==void 0?k:C==null?void 0:C.name}))}return x},h)}},y0=W([Yt,$e,R2,Gy,Kt],V2),IB=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kB=W([Kt,Sl],Wy),vu=W([IB,Yt,kB],Zy,{memoizeOptions:{resultEqualityCheck:bd}}),jB=W([vu],e=>e.filter(vd)),LB=W([vu],Qy,{memoizeOptions:{resultEqualityCheck:bd}}),_l=W([LB,ga],e0),UB=W([jB,ga,Yt],D2),b0=W([_l,Yt,vu],n0),mD=W([Yt],r0),qB=W([Yt],e=>e.allowDataOverflow),pD=W([mD,qB],o2),BB=W([vu],e=>e.filter(vd)),zB=W([UB,BB,fu],L2),HB=W([zB,ga,Kt,pD],U2),GB=W([vu],k2),$B=W([_l,Yt,GB,wd,Kt],o0,{memoizeOptions:{resultEqualityCheck:yd}}),VB=W([q2,Kt,Sl],Al),FB=W([VB,Kt],H2),KB=W([B2,Kt,Sl],Al),YB=W([KB,Kt],G2),JB=W([z2,Kt,Sl],Al),XB=W([JB,Kt],$2),WB=W([FB,XB,YB],Mf),ZB=W([Yt,mD,pD,HB,$B,WB,$e,Kt],l0),hD=W([Yt,$e,_l,b0,fu,Kt,ZB],s0),QB=W([hD,Yt,y0],f0),ez=W([Yt,hD,QB,Kt],m0),gD=e=>{var t=Kt(e),n=Sl(e),r=!1;return hu(e,t,n,r)},vD=W([Yt,gD],hd),yD=W([Yt,y0,ez,vD],c0),tz=W([$e,b0,Yt,Kt],Z2),nz=W([$e,b0,Yt,Kt],Q2),rz=(e,t,n,r,a,l,s,c)=>{if(t){var{type:d}=t,f=da(e,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return h=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Qt(a[0]-a[1])*2*h:h,f&&s?s.map((x,w)=>({coordinate:r(x)+h,value:x,index:w,offset:h})):r.domain().map((x,w)=>({coordinate:r(x)+h,value:l?l[x]:x,index:w,offset:h}))}}},Mi=W([$e,Yt,y0,yD,gD,tz,nz,Kt],rz),x0=W([tD,nD,gB],(e,t,n)=>rD(n.shared,e,t)),bD=e=>e.tooltip.settings.trigger,S0=e=>e.tooltip.settings.defaultIndex,Td=W([Cl,x0,bD,S0],uD),ua=W([Td,_l],v0),xD=W([Mi,ua],iD),SD=W([Td],e=>{if(e)return e.dataKey}),wD=W([Cl,x0,bD,S0],fD),iz=W([Ei,Ti,$e,Vt,Mi,S0,wD,gu],cD),az=W([Td,iz],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),oz=W([Td],e=>e.active),lz=W([wD,ua,ga,M2,xD,gu,x0],dD),sz=W([lz],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(r){uz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uz(e,t,n){return(t=cz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dz=()=>Ee(Yt),mz=()=>{var e=dz(),t=Ee(Mi),n=Ee(yD);return Hs(sT(sT({},e),{},{scale:n}),t)},pz=()=>Ee(Gy),w0=(e,t)=>t,AD=(e,t,n)=>n,A0=(e,t,n,r)=>r,hz=W(Mi,e=>Yf(e,t=>t.coordinate)),E0=W([Cl,w0,AD,A0],uD),ED=W([E0,_l],v0),gz=(e,t,n)=>{if(t!=null){var r=Cl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},TD=W([Cl,w0,AD,A0],fD),Df=W([Ei,Ti,$e,Vt,Mi,A0,TD,gu],cD),vz=W([E0,Df],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),CD=W(Mi,ED,iD),yz=W([TD,ED,ga,M2,CD,gu,w0],dD),bz=W([E0],e=>({isActive:e.active,activeIndex:e.index})),xz=(e,t,n,r,a,l,s,c)=>{if(!(!e||!t||!r||!a||!l)){var d=bL(e.chartX,e.chartY,t,n,c);if(d){var f=SL(d,t),p=oL(f,s,l,r,a),h=xL(t,l,p,d);return{activeIndex:String(p),activeCoordinate:h}}}};function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(null,arguments)}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(r){Sz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sz(e,t,n){return(t=wz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wz(e){var t=Az(e,"string");return typeof t=="symbol"?t:t+""}function Az(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ez(e){var{coordinate:t,payload:n,index:r,offset:a,tooltipAxisBandSize:l,layout:s,cursor:c,tooltipEventType:d,chartName:f}=e,p=t,h=n,x=r;if(!c||!p||f!=="ScatterChart"&&d!=="axis")return null;var w,E;if(f==="ScatterChart")w=p,E=L4;else if(f==="BarChart")w=U4(s,p,a,l),E=SM;else if(s==="radial"){var{cx:A,cy:C,radius:N,startAngle:R,endAngle:P}=wM(p);w={cx:A,cy:C,startAngle:R,endAngle:P,innerRadius:N,outerRadius:N},E=EM}else w={points:S5(s,p,a)},E=gy;var M=typeof c=="object"&&"className"in c?c.className:void 0,I=Kc(Kc(Kc(Kc({stroke:"#ccc",pointerEvents:"none"},a),w),Wa(c)),{},{payload:h,payloadIndex:x,className:Je("recharts-tooltip-cursor",M)});return T.isValidElement(c)?T.cloneElement(c,I):T.createElement(E,I)}function Tz(e){var t=mz(),n=dM(),r=ad(),a=pz();return T.createElement(Ez,wv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var _D=T.createContext(null),Cz=()=>T.useContext(_D),hg={exports:{}},cT;function _z(){return cT||(cT=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function l(d,f,p,h,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,h||d,x),E=n?n+f:f;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],w]:d._events[E].push(w):(d._events[E]=w,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,h;if(this._eventsCount===0)return f;for(h in p=this._events)t.call(p,h)&&f.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var x=0,w=h.length,E=new Array(w);x<w;x++)E[x]=h[x].fn;return E},c.prototype.listenerCount=function(f){var p=n?n+f:f,h=this._events[p];return h?h.fn?1:h.length:0},c.prototype.emit=function(f,p,h,x,w,E){var A=n?n+f:f;if(!this._events[A])return!1;var C=this._events[A],N=arguments.length,R,P;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),N){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,h),!0;case 4:return C.fn.call(C.context,p,h,x),!0;case 5:return C.fn.call(C.context,p,h,x,w),!0;case 6:return C.fn.call(C.context,p,h,x,w,E),!0}for(P=1,R=new Array(N-1);P<N;P++)R[P-1]=arguments[P];C.fn.apply(C.context,R)}else{var M=C.length,I;for(P=0;P<M;P++)switch(C[P].once&&this.removeListener(f,C[P].fn,void 0,!0),N){case 1:C[P].fn.call(C[P].context);break;case 2:C[P].fn.call(C[P].context,p);break;case 3:C[P].fn.call(C[P].context,p,h);break;case 4:C[P].fn.call(C[P].context,p,h,x);break;default:if(!R)for(I=1,R=new Array(N-1);I<N;I++)R[I-1]=arguments[I];C[P].fn.apply(C[P].context,R)}}return!0},c.prototype.on=function(f,p,h){return l(this,f,p,h,!1)},c.prototype.once=function(f,p,h){return l(this,f,p,h,!0)},c.prototype.removeListener=function(f,p,h,x){var w=n?n+f:f;if(!this._events[w])return this;if(!p)return s(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!x||E.once)&&(!h||E.context===h)&&s(this,w);else{for(var A=0,C=[],N=E.length;A<N;A++)(E[A].fn!==p||x&&!E[A].once||h&&E[A].context!==h)&&C.push(E[A]);C.length?this._events[w]=C.length===1?C[0]:C:s(this,w)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(hg)),hg.exports}var Nz=_z();const Mz=Fr(Nz);var Js=new Mz,Av="recharts.syncEvent.tooltip",fT="recharts.syncEvent.brush";function T0(e,t){if(t){var n=Number.parseInt(t,10);if(!xr(n))return e==null?void 0:e[n]}}var Dz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ND=er({name:"options",initialState:Dz,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Pz=ND.reducer,{createEventEmitter:Oz}=ND.actions;function Rz(e){return e.tooltip.syncInteraction}var Iz={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MD=er({name:"chartData",initialState:Iz,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:dT,setDataStartEndIndexes:kz,setComputedData:pZ}=MD.actions,jz=MD.reducer,Lz=["x","y"];function mT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(n),!0).forEach(function(r){Uz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uz(e,t,n){return(t=qz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qz(e){var t=Bz(e,"string");return typeof t=="symbol"?t:t+""}function Bz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zz(e,t){if(e==null)return{};var n,r,a=Hz(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DD=()=>{};function Gz(){var e=Ee($y),t=Ee(Vy),n=Et(),r=Ee(A2),a=Ee(Mi),l=ad(),s=id(),c=Ee(d=>d.rootProps.className);T.useEffect(()=>{if(e==null)return DD;var d=(f,p,h)=>{if(t!==h&&e===f){if(r==="index"){var x;if(s&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:A}=w,C=zz(w,Lz),{x:N,y:R,width:P,height:M}=p.payload.sourceViewBox,I=Xo(Xo({},C),{},{x:s.x+(P?(E-N)/P:0)*s.width,y:s.y+(M?(A-R)/M:0)*s.height});n(Xo(Xo({},p),{},{payload:Xo(Xo({},p.payload),{},{coordinate:I})}))}else n(p);return}if(a!=null){var k;if(typeof r=="function"){var j={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},q=r(a,j);k=a[q]}else r==="value"&&(k=a.find(B=>String(B.value)===p.payload.label));var{coordinate:$}=p.payload;if(k==null||p.payload.active===!1||$==null||s==null){n(xv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:te,y:K}=$,G=Math.min(te,s.x+s.width),V=Math.min(K,s.y+s.height),ae={x:l==="horizontal"?k.coordinate:G,y:l==="horizontal"?V:k.coordinate},me=xv({active:p.payload.active,coordinate:ae,dataKey:p.payload.dataKey,index:String(k.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(me)}}};return Js.on(Av,d),()=>{Js.off(Av,d)}},[c,n,t,e,r,a,l,s])}function $z(){var e=Ee($y),t=Ee(Vy),n=Et();T.useEffect(()=>{if(e==null)return DD;var r=(a,l,s)=>{t!==s&&e===a&&n(kz(l))};return Js.on(fT,r),()=>{Js.off(fT,r)}},[n,t,e])}function Vz(){var e=Et();T.useEffect(()=>{e(Oz())},[e]),Gz(),$z()}function Fz(e,t,n,r,a,l){var s=Ee(w=>gz(w,e,t)),c=Ee(Vy),d=Ee($y),f=Ee(A2),p=Ee(Rz),h=p==null?void 0:p.active,x=id();T.useEffect(()=>{if(!h&&d!=null&&c!=null){var w=xv({active:l,coordinate:n,dataKey:s,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});Js.emit(Av,d,w,c)}},[h,n,s,a,r,c,d,f,l,x])}function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(r){Kz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kz(e,t,n){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yz(e){var t=Jz(e,"string");return typeof t=="symbol"?t:t+""}function Jz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xz(e){return e.dataKey}function Wz(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(h4,t)}var gT=[],Zz={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ma.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ml(e){var t=cn(e,Zz),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:l,content:s,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:h,reverseDirection:x,useTranslate3d:w,wrapperStyle:E,cursor:A,shared:C,trigger:N,defaultIndex:R,portal:P,axisId:M}=t,I=Et(),k=typeof R=="number"?String(R):R;T.useEffect(()=>{I(xB({shared:C,trigger:N,axisId:M,active:n,defaultIndex:k}))},[I,C,N,M,n,k]);var j=id(),q=gM(),$=hB(C),{activeIndex:te,isActive:K}=Ee(ye=>bz(ye,$,N,k)),G=Ee(ye=>yz(ye,$,N,k)),V=Ee(ye=>CD(ye,$,N,k)),ae=Ee(ye=>vz(ye,$,N,k)),me=G,B=Cz(),ne=n??K,[H,fe]=MN([me,ne]),ge=$==="axis"?V:void 0;Fz($,N,ae,ge,te,ne);var L=P??B;if(L==null)return null;var Z=me??gT;ne||(Z=gT),c&&Z.length&&(Z=EN(me.filter(ye=>ye.value!=null&&(ye.hide!==!0||t.includeHidden)),p,Xz));var pe=Z.length>0,he=T.createElement(w4,{allowEscapeViewBox:r,animationDuration:a,animationEasing:l,isAnimationActive:d,active:ne,coordinate:ae,hasPayload:pe,offset:f,position:h,reverseDirection:x,useTranslate3d:w,viewBox:j,wrapperStyle:E,lastBoundingBox:H,innerRef:fe,hasPortalFromProps:!!P},Wz(s,hT(hT({},t),{},{payload:Z,label:ge,active:ne,coordinate:ae,accessibilityLayer:q})));return T.createElement(T.Fragment,null,K_.createPortal(he,L),ne&&T.createElement(Tz,{cursor:A,tooltipEventType:$,coordinate:ae,payload:me,index:te}))}var pl=e=>null;pl.displayName="Cell";function Qz(e,t,n){return(t=e8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n8{constructor(t){Qz(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function r8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){i8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i8(e,t,n){return(t=a8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a8(e){var t=o8(e,"string");return typeof t=="symbol"?t:t+""}function o8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l8={cacheSize:2e3,enableCache:!0},PD=r8({},l8),yT=new n8(PD.cacheSize),s8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bT="recharts_measurement_span";function u8(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",l=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(s,"|").concat(c)}var xT=(e,t)=>{try{var n=document.getElementById(bT);n||(n=document.createElement("span"),n.setAttribute("id",bT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,s8,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},js=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ma.isSsr)return{width:0,height:0};if(!PD.enableCache)return xT(t,n);var r=u8(t,n),a=yT.get(r);if(a)return a;var l=xT(t,n);return yT.set(r,l),l},ST=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},d8=Object.keys(OD),Wo="NaN";function m8(e,t){return e*OD[t]}class jn{static parse(t){var n,[,r,a]=(n=f8.exec(t))!==null&&n!==void 0?n:[];return new jn(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,xr(t)&&(this.unit=""),n!==""&&!c8.test(n)&&(this.num=NaN,this.unit=""),d8.includes(n)&&(this.num=m8(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new jn(NaN,""):new jn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new jn(NaN,""):new jn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jn(NaN,""):new jn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jn(NaN,""):new jn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xr(this.num)}}function RD(e){if(e.includes(Wo))return Wo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,l]=(n=ST.exec(t))!==null&&n!==void 0?n:[],s=jn.parse(r??""),c=jn.parse(l??""),d=a==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return Wo;t=t.replace(ST,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,h,x]=(f=wT.exec(t))!==null&&f!==void 0?f:[],w=jn.parse(p??""),E=jn.parse(x??""),A=h==="+"?w.add(E):w.subtract(E);if(A.isNaN())return Wo;t=t.replace(wT,A.toString())}return t}var AT=/\(([^()]*)\)/;function p8(e){for(var t=e,n;(n=AT.exec(t))!=null;){var[,r]=n;t=t.replace(AT,RD(r))}return t}function h8(e){var t=e.replace(/\s+/g,"");return t=p8(t),t=RD(t),t}function g8(e){try{return h8(e)}catch{return Wo}}function gg(e){var t=g8(e.slice(5,-1));return t===Wo?"":t}var v8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],y8=["dx","dy","angle","className","breakAll"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(null,arguments)}function ET(e,t){if(e==null)return{};var n,r,a=b8(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ID=/[ \f\n\r\t\v\u2028\u2029]+/,kD=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];At(t)||(n?a=t.toString().split(""):a=t.toString().split(ID));var l=a.map(c=>({word:c,width:js(c,r).width})),s=n?0:js("",r).width;return{wordsWithComputedWidth:l,spaceWidth:s}}catch{return null}},x8=(e,t,n,r,a)=>{var{maxLines:l,children:s,style:c,breakAll:d}=e,f=Me(l),p=s,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce((G,V)=>{var{word:ae,width:me}=V,B=G[G.length-1];if(B&&(r==null||a||B.width+me+n<Number(r)))B.words.push(ae),B.width+=me+n;else{var ne={words:[ae],width:me};G.push(ne)}return G},[])},x=h(t),w=te=>te.reduce((K,G)=>K.width>G.width?K:G);if(!f||a)return x;var E=x.length>l||w(x).width>Number(r);if(!E)return x;for(var A="",C=te=>{var K=p.slice(0,te),G=kD({breakAll:d,style:c,children:K+A}).wordsWithComputedWidth,V=h(G),ae=V.length>l||w(V).width>Number(r);return[ae,V]},N=0,R=p.length-1,P=0,M;N<=R&&P<=p.length-1;){var I=Math.floor((N+R)/2),k=I-1,[j,q]=C(k),[$]=C(I);if(!j&&!$&&(N=I+1),j&&$&&(R=I-1),!j&&$){M=q;break}P++}return M||x},TT=e=>{var t=At(e)?[]:e.toString().split(ID);return[{words:t}]},S8=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:l,maxLines:s}=e;if((t||n)&&!ma.isSsr){var c,d,f=kD({breakAll:l,children:r,style:a});if(f){var{wordsWithComputedWidth:p,spaceWidth:h}=f;c=p,d=h}else return TT(r);return x8({breakAll:l,children:r,maxLines:s,style:a},c,d,t,n)}return TT(r)},CT="#808080",Cd=T.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:l="0.71em",scaleToFit:s=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=CT}=e,p=ET(e,v8),h=T.useMemo(()=>S8({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:s,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,s,p.style,p.width]),{dx:x,dy:w,angle:E,className:A,breakAll:C}=p,N=ET(p,y8);if(!$r(n)||!$r(r)||h.length===0)return null;var R=n+(Me(x)?x:0),P=r+(Me(w)?w:0),M;switch(d){case"start":M=gg("calc(".concat(l,")"));break;case"middle":M=gg("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:M=gg("calc(".concat(h.length-1," * -").concat(a,")"));break}var I=[];if(s){var k=h[0].width,{width:j}=p;I.push("scale(".concat(Me(j)?j/k:1,")"))}return E&&I.push("rotate(".concat(E,", ").concat(R,", ").concat(P,")")),I.length&&(N.transform=I.join(" ")),T.createElement("text",Ev({},Tn(N),{ref:t,x:R,y:P,className:Je("recharts-text",A),textAnchor:c,fill:f.includes("url")?CT:f}),h.map((q,$)=>{var te=q.words.join(C?"":" ");return T.createElement("tspan",{x:R,dy:$===0?M:a,key:"".concat(te,"-").concat($)},te)}))});Cd.displayName="Text";var w8=["labelRef"];function A8(e,t){if(e==null)return{};var n,r,a=E8(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(n),!0).forEach(function(r){T8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T8(e,t,n){return(t=C8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C8(e){var t=_8(e,"string");return typeof t=="symbol"?t:t+""}function _8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},di.apply(null,arguments)}var jD=T.createContext(null),N8=e=>{var{x:t,y:n,width:r,height:a,children:l}=e,s=T.useMemo(()=>({x:t,y:n,width:r,height:a}),[t,n,r,a]);return T.createElement(jD.Provider,{value:s},l)},LD=()=>{var e=T.useContext(jD),t=id();return e||t},M8=T.createContext(null),D8=()=>{var e=T.useContext(M8),t=Ee(N2);return e||t},P8=e=>{var{value:t,formatter:n}=e,r=At(e.children)?t:e.children;return typeof n=="function"?n(r):r},C0=e=>e!=null&&typeof e=="function",O8=(e,t)=>{var n=Qt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},R8=(e,t,n,r,a)=>{var{offset:l,className:s}=e,{cx:c,cy:d,innerRadius:f,outerRadius:p,startAngle:h,endAngle:x,clockWise:w}=a,E=(f+p)/2,A=O8(h,x),C=A>=0?1:-1,N,R;switch(t){case"insideStart":N=h+C*l,R=w;break;case"insideEnd":N=x-C*l,R=!w;break;case"end":N=x+C*l,R=w;break;default:throw new Error("Unsupported position ".concat(t))}R=A<=0?R:!R;var P=qt(c,d,E,N),M=qt(c,d,E,N+(R?1:-1)*359),I="M".concat(P.x,",").concat(P.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(M.x,",").concat(M.y),k=At(e.id)?Us("recharts-radial-line-"):e.id;return T.createElement("text",di({},r,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:k,d:I})),T.createElement("textPath",{xlinkHref:"#".concat(k)},n))},I8=(e,t,n)=>{var{cx:r,cy:a,innerRadius:l,outerRadius:s,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(n==="outside"){var{x:p,y:h}=qt(r,a,s+t,f);return{x:p,y:h,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+s)/2,{x:w,y:E}=qt(r,a,x,f);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},UD=e=>"cx"in e&&Me(e.cx),k8=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,l;n!=null&&!UD(n)&&(l=n);var{x:s,y:c,width:d,height:f}=t,p=f>=0?1:-1,h=p*r,x=p>0?"end":"start",w=p>0?"start":"end",E=d>=0?1:-1,A=E*r,C=E>0?"end":"start",N=E>0?"start":"end";if(a==="top"){var R={x:s+d/2,y:c-p*r,textAnchor:"middle",verticalAnchor:x};return It(It({},R),l?{height:Math.max(c-l.y,0),width:d}:{})}if(a==="bottom"){var P={x:s+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:w};return It(It({},P),l?{height:Math.max(l.y+l.height-(c+f),0),width:d}:{})}if(a==="left"){var M={x:s-A,y:c+f/2,textAnchor:C,verticalAnchor:"middle"};return It(It({},M),l?{width:Math.max(M.x-l.x,0),height:f}:{})}if(a==="right"){var I={x:s+d+A,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return It(It({},I),l?{width:Math.max(l.x+l.width-I.x,0),height:f}:{})}var k=l?{width:d,height:f}:{};return a==="insideLeft"?It({x:s+A,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},k):a==="insideRight"?It({x:s+d-A,y:c+f/2,textAnchor:C,verticalAnchor:"middle"},k):a==="insideTop"?It({x:s+d/2,y:c+h,textAnchor:"middle",verticalAnchor:w},k):a==="insideBottom"?It({x:s+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:x},k):a==="insideTopLeft"?It({x:s+A,y:c+h,textAnchor:N,verticalAnchor:w},k):a==="insideTopRight"?It({x:s+d-A,y:c+h,textAnchor:C,verticalAnchor:w},k):a==="insideBottomLeft"?It({x:s+A,y:c+f-h,textAnchor:N,verticalAnchor:x},k):a==="insideBottomRight"?It({x:s+d-A,y:c+f-h,textAnchor:C,verticalAnchor:x},k):a&&typeof a=="object"&&(Me(a.x)||vi(a.x))&&(Me(a.y)||vi(a.y))?It({x:s+gn(a.x,d),y:c+gn(a.y,f),textAnchor:"end",verticalAnchor:"end"},k):It({x:s+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},j8={offset:5};function ra(e){var t=cn(e,j8),{viewBox:n,position:r,value:a,children:l,content:s,className:c="",textBreakAll:d,labelRef:f}=t,p=D8(),h=LD(),x=r==="center"?h:p??h,w=n||x;if(!w||At(a)&&At(l)&&!T.isValidElement(s)&&typeof s!="function")return null;var E=It(It({},t),{},{viewBox:w});if(T.isValidElement(s)){var{labelRef:A}=E,C=A8(E,w8);return T.cloneElement(s,C)}var N;if(typeof s=="function"){if(N=T.createElement(s,E),T.isValidElement(N))return N}else N=P8(t);var R=UD(w),P=Tn(t);if(R&&(r==="insideStart"||r==="insideEnd"||r==="end"))return R8(t,r,N,P,w);var M=R?I8(w,t.offset,t.position):k8(t,w);return T.createElement(Cd,di({ref:f,className:Je("recharts-label",c)},P,M,{breakAll:d}),N)}ra.displayName="Label";var L8=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?T.createElement(ra,di({key:"label-implicit"},r)):$r(e)?T.createElement(ra,di({key:"label-implicit",value:e},r)):T.isValidElement(e)?e.type===ra?T.cloneElement(e,It({key:"label-implicit"},r)):T.createElement(ra,di({key:"label-implicit",content:e},r)):C0(e)?T.createElement(ra,di({key:"label-implicit",content:e},r)):e&&typeof e=="object"?T.createElement(ra,di({},e,{key:"label-implicit"},r)):null};function U8(e){var{label:t,labelRef:n}=e,r=LD();return L8(t,r,n)||null}var vg={},yg={},NT;function q8(){return NT||(NT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(yg)),yg}var bg={},MT;function B8(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(bg)),bg}var DT;function z8(){return DT||(DT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q8(),n=B8(),r=iy();function a(l){if(r.isArrayLike(l))return t.last(n.toArray(l))}e.last=a})(vg)),vg}var xg,PT;function H8(){return PT||(PT=1,xg=z8().last),xg}var G8=H8();const $8=Fr(G8);var V8=["valueAccessor"],F8=["dataKey","clockWise","id","textBreakAll"];function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pf.apply(null,arguments)}function OT(e,t){if(e==null)return{};var n,r,a=K8(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function K8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Y8=e=>Array.isArray(e.value)?$8(e.value):e.value,qD=T.createContext(void 0),BD=qD.Provider,zD=T.createContext(void 0),J8=zD.Provider;function X8(){return T.useContext(qD)}function W8(){return T.useContext(zD)}function tl(e){var{valueAccessor:t=Y8}=e,n=OT(e,V8),{dataKey:r,clockWise:a,id:l,textBreakAll:s}=n,c=OT(n,F8),d=X8(),f=W8(),p=d||f;return!p||!p.length?null:T.createElement(un,{className:"recharts-label-list"},p.map((h,x)=>{var w,E=At(r)?t(h,x):ht(h&&h.payload,r),A=At(l)?{}:{id:"".concat(l,"-").concat(x)};return T.createElement(ra,Pf({key:"label-".concat(x)},Tn(h),c,A,{fill:(w=n.fill)!==null&&w!==void 0?w:h.fill,parentViewBox:h.parentViewBox,value:E,textBreakAll:s,viewBox:h.viewBox,index:x}))}))}tl.displayName="LabelList";function _0(e){var{label:t}=e;return t?t===!0?T.createElement(tl,{key:"labelList-implicit"}):T.isValidElement(t)||C0(t)?T.createElement(tl,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(tl,Pf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(null,arguments)}var HD=e=>{var{cx:t,cy:n,r,className:a}=e,l=Je("recharts-dot",a);return t===+t&&n===+n&&r===+r?T.createElement("circle",Tv({},Zn(e),ty(e),{className:l,cx:t,cy:n,r})):null},GD=e=>e.graphicalItems.polarItems,Z8=W([Tt,du],Wy),_d=W([GD,_t,Z8],Zy),Q8=W([_d],Qy),Nd=W([Q8,By],e0),eH=W([Nd,_t,_d],n0);W([Nd,_t,_d],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var l,s=ht(r,(l=t.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ht(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var RT=()=>{},tH=W([Nd,_t,_d,wd,Tt],o0),nH=W([_t,i0,a0,RT,tH,RT,$e,Tt],l0),$D=W([_t,$e,Nd,eH,fu,Tt,nH],s0),rH=W([$D,_t,El],f0);W([_t,$D,rH,Tt],m0);var iH={radiusAxis:{},angleAxis:{}},VD=er({name:"polarAxis",initialState:iH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:hZ,removeRadiusAxis:gZ,addAngleAxis:vZ,removeAngleAxis:yZ}=VD.actions,aH=VD.reducer;function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){oH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oH(e,t,n){return(t=lH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uH=(e,t)=>t,N0=W([GD,uH],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),cH=[],M0=(e,t,n)=>(n==null?void 0:n.length)===0?cH:n,FD=W([By,N0,M0],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(l=>kT(kT({},t.presentationProps),l.props))),a!=null)return a}}),fH=W([FD,N0,M0],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var l,s=ht(r,t.nameKey,t.name),c;return n!=null&&(l=n[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?c=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:vl(s,t.dataKey),color:c,payload:r,type:t.legendType}})}),dH=W([FD,N0,M0,Vt],(e,t,n,r)=>{if(!(t==null||e==null))return dG({offset:r,pieSettings:t,displayedData:e,cells:n})}),Sg={exports:{}},ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function mH(){if(jT)return ft;jT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(A){if(typeof A=="object"&&A!==null){var C=A.$$typeof;switch(C){case e:switch(A=A.type,A){case n:case a:case r:case d:case f:case x:return A;default:switch(A=A&&A.$$typeof,A){case s:case c:case h:case p:return A;case l:return A;default:return C}}case t:return C}}}return ft.ContextConsumer=l,ft.ContextProvider=s,ft.Element=e,ft.ForwardRef=c,ft.Fragment=n,ft.Lazy=h,ft.Memo=p,ft.Portal=t,ft.Profiler=a,ft.StrictMode=r,ft.Suspense=d,ft.SuspenseList=f,ft.isContextConsumer=function(A){return E(A)===l},ft.isContextProvider=function(A){return E(A)===s},ft.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},ft.isForwardRef=function(A){return E(A)===c},ft.isFragment=function(A){return E(A)===n},ft.isLazy=function(A){return E(A)===h},ft.isMemo=function(A){return E(A)===p},ft.isPortal=function(A){return E(A)===t},ft.isProfiler=function(A){return E(A)===a},ft.isStrictMode=function(A){return E(A)===r},ft.isSuspense=function(A){return E(A)===d},ft.isSuspenseList=function(A){return E(A)===f},ft.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===a||A===r||A===d||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===h||A.$$typeof===p||A.$$typeof===s||A.$$typeof===l||A.$$typeof===c||A.$$typeof===w||A.getModuleId!==void 0)},ft.typeOf=E,ft}var LT;function pH(){return LT||(LT=1,Sg.exports=mH()),Sg.exports}var hH=pH(),UT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qT=null,wg=null,KD=e=>{if(e===qT&&Array.isArray(wg))return wg;var t=[];return T.Children.forEach(e,n=>{At(n)||(hH.isFragment(n)?t=t.concat(KD(n.props.children)):t.push(n))}),wg=t,qT=e,t};function D0(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>UT(a)):r=[UT(t)],KD(e).forEach(a=>{var l=Za(a,"type.displayName")||Za(a,"type.name");r.indexOf(l)!==-1&&n.push(a)}),n}var YD=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Ag={},BT;function gH(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Ag)),Ag}var Eg,zT;function vH(){return zT||(zT=1,Eg=gH().isPlainObject),Eg}var yH=vH();const bH=Fr(yH);function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return(t=SH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Of.apply(null,arguments)}var $T=(e,t,n,r,a)=>{var l=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-l/2,",").concat(t+a),s+="L ".concat(e+n-l/2-r,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},AH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EH=e=>{var t=cn(e,AH),{x:n,y:r,upperWidth:a,lowerWidth:l,height:s,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:h}=t,x=T.useRef(null),[w,E]=T.useState(-1),A=T.useRef(a),C=T.useRef(l),N=T.useRef(s),R=T.useRef(n),P=T.useRef(r),M=ou(e,"trapezoid-");if(T.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ae=x.current.getTotalLength();ae&&E(ae)}catch{}},[]),n!==+n||r!==+r||a!==+a||l!==+l||s!==+s||a===0&&l===0||s===0)return null;var I=Je("recharts-trapezoid",c);if(!h)return T.createElement("g",null,T.createElement("path",Of({},Tn(t),{className:I,d:$T(n,r,a,l,s)})));var k=A.current,j=C.current,q=N.current,$=R.current,te=P.current,K="0px ".concat(w===-1?1:w,"px"),G="".concat(w,"px 0px"),V=vM(["strokeDasharray"],f,d);return T.createElement(au,{animationId:M,key:M,canBegin:w>0,duration:f,easing:d,isActive:h,begin:p},ae=>{var me=Pt(k,a,ae),B=Pt(j,l,ae),ne=Pt(q,s,ae),H=Pt($,n,ae),fe=Pt(te,r,ae);x.current&&(A.current=me,C.current=B,N.current=ne,R.current=H,P.current=fe);var ge=ae>0?{transition:V,strokeDasharray:G}:{strokeDasharray:K};return T.createElement("path",Of({},Tn(t),{className:I,d:$T(H,fe,me,B,ne),ref:x,style:GT(GT({},ge),t.style)}))})},TH=["option","shapeType","propTransformer","activeClassName","isActive"];function CH(e,t){if(e==null)return{};var n,r,a=_H(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _H(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(r){NH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NH(e,t,n){return(t=MH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PH(e,t){return Rf(Rf({},t),e)}function OH(e,t){return e==="symbols"}function FT(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return T.createElement(SM,n);case"trapezoid":return T.createElement(EH,n);case"sector":return T.createElement(EM,n);case"symbols":if(OH(t))return T.createElement(ey,n);break;default:return null}}function RH(e){return T.isValidElement(e)?e.props:e}function JD(e){var{option:t,shapeType:n,propTransformer:r=PH,activeClassName:a="recharts-active-shape",isActive:l}=e,s=CH(e,TH),c;if(T.isValidElement(t))c=T.cloneElement(t,Rf(Rf({},s),RH(t)));else if(typeof t=="function")c=t(s);else if(bH(t)&&typeof t!="boolean"){var d=r(t,s);c=T.createElement(FT,{shapeType:n,elementProps:d})}else{var f=s;c=T.createElement(FT,{shapeType:n,elementProps:f})}return l?T.createElement(un,{className:a},c):c}var P0=(e,t)=>{var n=Et();return(r,a)=>l=>{e==null||e(r,a,l),n(oD({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},O0=e=>{var t=Et();return(n,r)=>a=>{e==null||e(n,r,a),t(SB())}},R0=(e,t)=>{var n=Et();return(r,a)=>l=>{e==null||e(r,a,l),n(wB({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function I0(e){var{fn:t,args:n}=e,r=Et(),a=Cn();return T.useLayoutEffect(()=>{if(!a){var l=t(n);return r(yB(l)),()=>{r(bB(l))}}},[t,n,r,a]),null}var XD=()=>{};function WD(e){var{legendPayload:t}=e,n=Et(),r=Cn();return T.useLayoutEffect(()=>r?XD:(n(pM(t)),()=>{n(hM(t))}),[n,r,t]),null}function IH(e){var{legendPayload:t}=e,n=Et(),r=Ee($e);return T.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?XD:(n(pM(t)),()=>{n(hM(t))}),[n,r,t]),null}var Tg,kH=()=>{var[e]=T.useState(()=>Us("uid-"));return e},jH=(Tg=CI.useId)!==null&&Tg!==void 0?Tg:kH;function LH(e,t){var n=jH();return t||(e?"".concat(e,"-").concat(n):n)}var UH=T.createContext(void 0),k0=e=>{var{id:t,type:n,children:r}=e,a=LH("recharts-".concat(n),t);return T.createElement(UH.Provider,{value:a},r(a))},qH={cartesianItems:[],polarItems:[]},ZD=er({name:"graphicalItems",initialState:qH,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:wn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=hi(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:wn()},removeCartesianGraphicalItem:{reducer(e,t){var n=hi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:wn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:wn()},removePolarGraphicalItem:{reducer(e,t){var n=hi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:wn()}}}),{addCartesianGraphicalItem:BH,replaceCartesianGraphicalItem:zH,removeCartesianGraphicalItem:HH,addPolarGraphicalItem:GH,removePolarGraphicalItem:$H}=ZD.actions,VH=ZD.reducer;function QD(e){var t=Et(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?t(BH(e)):n.current!==e&&t(zH({prev:n.current,next:e})),n.current=e},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(t(HH(n.current)),n.current=null)},[t]),null}function FH(e){var t=Et();return T.useLayoutEffect(()=>(t(GH(e)),()=>{t($H(e))}),[t,e]),null}var KH=["onMouseEnter","onClick","onMouseLeave"],YH=["id"],JH=["id"];function j0(e,t){if(e==null)return{};var n,r,a=XH(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){WH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WH(e,t,n){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ca.apply(null,arguments)}function eG(e){var t=T.useMemo(()=>D0(e.children,pl),[e.children]),n=Ee(r=>fH(r,e.id,t));return n==null?null:T.createElement(IH,{legendPayload:n})}function tG(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:l,fill:s,name:c,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:l,fill:s,dataKey:t,nameKey:n,name:vl(c,t),hide:d,type:f,color:s,unit:""}}}var nG=(e,t)=>e>t?"start":e<t?"end":"middle",rG=(e,t,n)=>gn(typeof t=="function"?t(e):t,n,n*.8),iG=(e,t,n)=>{var{top:r,left:a,width:l,height:s}=t,c=nM(l,s),d=a+gn(e.cx,l,l/2),f=r+gn(e.cy,s,s/2),p=gn(e.innerRadius,c,0),h=rG(n,e.outerRadius,c),x=e.maxRadius||Math.sqrt(l*l+s*s)/2;return{cx:d,cy:f,innerRadius:p,outerRadius:h,maxRadius:x}},aG=(e,t)=>{var n=Qt(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function oG(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var lG=(e,t)=>{if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Je("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return T.createElement(gy,ca({},t,{type:"linear",className:n}))},sG=(e,t,n)=>{if(T.isValidElement(e))return T.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),T.isValidElement(r)))return r;var a=Je("recharts-pie-label-text",oG(e));return T.createElement(Cd,ca({},t,{alignmentBaseline:"middle",className:a}),r)};function uG(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:l,dataKey:s}=n;if(!r||!a||!t)return null;var c=Zn(n),d=Wa(a),f=Wa(l),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,h=t.map((x,w)=>{var E=(x.startAngle+x.endAngle)/2,A=qt(x.cx,x.cy,x.outerRadius+p,E),C=St(St(St(St({},c),x),{},{stroke:"none"},d),{},{index:w,textAnchor:nG(A.x,x.cx)},A),N=St(St(St(St({},c),x),{},{fill:"none",stroke:x.fill},f),{},{index:w,points:[qt(x.cx,x.cy,x.outerRadius,E),A],key:"line"});return T.createElement(un,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},l&&lG(l,N),sG(a,C,ht(x,s)))});return T.createElement(un,{className:"recharts-pie-labels"},h)}function cG(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?T.createElement(_0,{label:a}):T.createElement(uG,{sectors:t,props:n,showLabels:r})}function fG(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a}=e,l=Ee(ua),{onMouseEnter:s,onClick:c,onMouseLeave:d}=a,f=j0(a,KH),p=P0(s,a.dataKey),h=O0(d),x=R0(c,a.dataKey);return t==null||t.length===0?null:T.createElement(T.Fragment,null,t.map((w,E)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var A=n&&String(E)===l,C=l?r:null,N=A?n:C,R=St(St({},w),{},{stroke:w.stroke,tabIndex:-1,[lM]:E,[sM]:a.dataKey});return T.createElement(un,ca({key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},tu(f,w,E),{onMouseEnter:p(w,E),onMouseLeave:h(w,E),onClick:x(w,E)}),T.createElement(JD,ca({option:N,isActive:A,shapeType:"sector"},R)))}))}function dG(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:l}=e,{cornerRadius:s,startAngle:c,endAngle:d,dataKey:f,nameKey:p,tooltipType:h}=n,x=Math.abs(n.minAngle),w=aG(c,d),E=Math.abs(w),A=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=r.filter(k=>ht(k,f,0)!==0).length,N=(E>=360?C:C-1)*A,R=E-C*x-N,P=r.reduce((k,j)=>{var q=ht(j,f,0);return k+(Me(q)?q:0)},0),M;if(P>0){var I;M=r.map((k,j)=>{var q=ht(k,f,0),$=ht(k,p,j),te=iG(n,l,k),K=(Me(q)?q:0)/P,G,V=St(St({},k),a&&a[j]&&a[j].props);j?G=I.endAngle+Qt(w)*A*(q!==0?1:0):G=c;var ae=G+Qt(w)*((q!==0?x:0)+K*R),me=(G+ae)/2,B=(te.innerRadius+te.outerRadius)/2,ne=[{name:$,value:q,payload:V,dataKey:f,type:h}],H=qt(te.cx,te.cy,B,me);return I=St(St(St(St({},n.presentationProps),{},{percent:K,cornerRadius:s,name:$,tooltipPayload:ne,midAngle:me,middleRadius:B,tooltipPosition:H},V),te),{},{value:q,startAngle:G,endAngle:ae,payload:V,paddingAngle:Qt(w)*A}),I})}return M}function mG(e){var{showLabels:t,sectors:n,children:r}=e,a=T.useMemo(()=>!t||!n?[]:n.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[n,t]);return T.createElement(J8,{value:t?a:void 0},r)}function pG(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:a,animationBegin:l,animationDuration:s,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:p,onAnimationEnd:h}=t,x=ou(t,"recharts-pie-"),w=n.current,[E,A]=T.useState(!1),C=T.useCallback(()=>{typeof h=="function"&&h(),A(!1)},[h]),N=T.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return T.createElement(mG,{showLabels:!E,sectors:r},T.createElement(au,{animationId:x,begin:l,duration:s,isActive:a,easing:c,onAnimationStart:N,onAnimationEnd:C,key:x},R=>{var P=[],M=r&&r[0],I=M==null?void 0:M.startAngle;return r==null||r.forEach((k,j)=>{var q=w&&w[j],$=j>0?Za(k,"paddingAngle",0):0;if(q){var te=Pt(q.endAngle-q.startAngle,k.endAngle-k.startAngle,R),K=St(St({},k),{},{startAngle:I+$,endAngle:I+te+$});P.push(K),I=K.endAngle}else{var{endAngle:G,startAngle:V}=k,ae=Pt(0,G-V,R),me=St(St({},k),{},{startAngle:I+$,endAngle:I+ae+$});P.push(me),I=me.endAngle}}),n.current=P,T.createElement(un,null,T.createElement(fG,{sectors:P,activeShape:d,inactiveShape:f,allOtherPieProps:t}))}),T.createElement(cG,{showLabels:!E,sectors:r,props:t}),t.children)}var hG={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ma.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function gG(e){var{id:t}=e,n=j0(e,YH),{hide:r,className:a,rootTabIndex:l}=e,s=T.useMemo(()=>D0(e.children,pl),[e.children]),c=Ee(p=>dH(p,t,s)),d=T.useRef(null),f=Je("recharts-pie",a);return r||c==null?(d.current=null,T.createElement(un,{tabIndex:l,className:f})):T.createElement(T.Fragment,null,T.createElement(I0,{fn:tG,args:St(St({},e),{},{sectors:c})}),T.createElement(un,{tabIndex:l,className:f},T.createElement(pG,{props:St(St({},n),{},{sectors:c}),previousSectorsRef:d})))}function Cv(e){var t=cn(e,hG),{id:n}=t,r=j0(t,JH),a=Zn(r);return T.createElement(k0,{id:n,type:"pie"},l=>T.createElement(T.Fragment,null,T.createElement(FH,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),T.createElement(eG,ca({},r,{id:l})),T.createElement(gG,ca({},r,{id:l}))))}Cv.displayName="Pie";function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){vG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vG(e,t,n){return(t=yG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yG(e){var t=bG(e,"string");return typeof t=="symbol"?t:t+""}function bG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xG={xAxis:{},yAxis:{},zAxis:{}},eP=er({name:"cartesianAxis",initialState:xG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:wn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:wn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:wn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:wn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:wn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:wn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==a.width&&Math.abs(r-l[0])<=1)return;var s=[...l,r].slice(-3);e.yAxis[n]=JT(JT({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:SG,removeXAxis:wG,addYAxis:AG,removeYAxis:EG,addZAxis:bZ,removeZAxis:xZ,updateYAxisWidth:TG}=eP.actions,CG=eP.reducer,_G=W([Vt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),NG=W([_G,Ei,Ti],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),L0=()=>Ee(NG),MG=()=>Ee(sz);function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(r){DG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DG(e,t,n){return(t=PG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RG=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:l}=e;if(a===!1||t.x==null||t.y==null)return null;var s=WT(WT({index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Wa(a)),ty(a)),c;return T.isValidElement(a)?c=T.cloneElement(a,s):typeof a=="function"?c=a(s):c=T.createElement(HD,s),T.createElement(un,{className:"recharts-active-dot"},c)};function IG(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a}=e,l=Ee(ua),s=MG();if(t==null||s==null)return null;var c=t.find(d=>s.includes(d.payload));return At(c)?null:RG({point:c,childIndex:Number(l),mainColor:n,dataKey:a,activeDot:r})}var kG="Invariant failed";function jG(e,t){throw new Error(kG)}var LG=["x","y"];function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_v.apply(null,arguments)}function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(r){UG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UG(e,t,n){return(t=qG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zG(e,t){if(e==null)return{};var n,r,a=HG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function HG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GG(e,t){var{x:n,y:r}=e,a=zG(e,LG),l="".concat(n),s=parseInt(l,10),c="".concat(r),d=parseInt(c,10),f="".concat(t.height||a.height),p=parseInt(f,10),h="".concat(t.width||a.width),x=parseInt(h,10);return Ps(Ps(Ps(Ps(Ps({},t),a),s?{x:s}:{}),d?{y:d}:{}),{},{height:p,width:x,name:t.name,radius:t.radius})}function U0(e){return T.createElement(JD,_v({shapeType:"rectangle",propTransformer:GG,activeClassName:"recharts-active-bar"},e))}var $G=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Me(t))return t;var l=Me(r)||At(r);return l?t(r,a):(l||jG(),n)}},VG={},tP=er({name:"errorBars",initialState:VG,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?a:l))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:SZ,replaceErrorBar:wZ,removeErrorBar:AZ}=tP.actions,FG=tP.reducer,KG=["children"];function YG(e,t){if(e==null)return{};var n,r,a=JG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WG=T.createContext(XG);function nP(e){var{children:t}=e,n=YG(e,KG);return T.createElement(WG.Provider,{value:n},t)}function q0(e,t){var n,r,a=Ee(f=>_i(f,e)),l=Ee(f=>Ni(f,t)),s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Fn.allowDataOverflow,c=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:Kn.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function rP(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=L0(),{needClipX:l,needClipY:s,needClip:c}=q0(t,n);if(!c)return null;var{x:d,y:f,width:p,height:h}=a;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:l?d:d-p/2,y:s?f:f-h/2,width:l?p:p*2,height:s?h:h*2}))}var ZG=["onMouseEnter","onMouseLeave","onClick"],QG=["value","background","tooltipPosition"],e$=["id"],t$=["onMouseEnter","onClick","onMouseLeave"];function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fa.apply(null,arguments)}function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(r){n$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n$(e,t,n){return(t=r$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r$(e){var t=i$(e,"string");return typeof t=="symbol"?t:t+""}function i$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function If(e,t){if(e==null)return{};var n,r,a=a$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var o$=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:r,value:vl(n,t),payload:e}]};function l$(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:l,hide:s,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:vl(l,t),hide:s,type:e.tooltipType,color:e.fill,unit:c}}}function s$(e){var t=Ee(ua),{data:n,dataKey:r,background:a,allOtherBarProps:l}=e,{onMouseEnter:s,onMouseLeave:c,onClick:d}=l,f=If(l,ZG),p=P0(s,r),h=O0(c),x=R0(d,r);if(!a||n==null)return null;var w=Wa(a);return T.createElement(T.Fragment,null,n.map((E,A)=>{var{value:C,background:N,tooltipPosition:R}=E,P=If(E,QG);if(!N)return null;var M=p(E,A),I=h(E,A),k=x(E,A),j=An(An(An(An(An({option:a,isActive:String(A)===t},P),{},{fill:"#eee"},N),w),tu(f,E,A)),{},{onMouseEnter:M,onMouseLeave:I,onClick:k,dataKey:r,index:A,className:"recharts-bar-background-rectangle"});return T.createElement(U0,fa({key:"background-bar-".concat(A)},j))}))}function u$(e){var{showLabels:t,children:n,rects:r}=e,a=r==null?void 0:r.map(l=>{var s={x:l.x,y:l.y,width:l.width,height:l.height};return An(An({},s),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:s,fill:l.fill})});return T.createElement(BD,{value:t?a:void 0},n)}function c$(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:l,dataKey:s}=e,c=Ee(ua),d=Ee(SD),f=n&&String(l)===c&&(d==null||s===d),p=f?n:t;return T.createElement(U0,fa({},r,{name:String(r.name)},a,{isActive:f,option:p,index:l,dataKey:s}))}function f$(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:l}=e;return T.createElement(U0,fa({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:l}))}function d$(e){var{data:t,props:n}=e,r=Zn(n),{id:a}=r,l=If(r,e$),{shape:s,dataKey:c,activeBar:d}=n,{onMouseEnter:f,onClick:p,onMouseLeave:h}=n,x=If(n,t$),w=P0(f,c),E=O0(h),A=R0(p,c);return t?T.createElement(T.Fragment,null,t.map((C,N)=>T.createElement(un,fa({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(N),className:"recharts-bar-rectangle"},tu(x,C,N),{onMouseEnter:w(C,N),onMouseLeave:E(C,N),onClick:A(C,N)}),d?T.createElement(c$,{shape:s,activeBar:d,baseProps:l,entry:C,index:N,dataKey:c}):T.createElement(f$,{shape:s,baseProps:l,entry:C,index:N,dataKey:c})))):null}function m$(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:l,animationBegin:s,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=t,h=n.current,x=ou(t,"recharts-bar-"),[w,E]=T.useState(!1),A=!w,C=T.useCallback(()=>{typeof f=="function"&&f(),E(!1)},[f]),N=T.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return T.createElement(u$,{showLabels:A,rects:r},T.createElement(au,{animationId:x,begin:s,duration:c,isActive:l,easing:d,onAnimationEnd:C,onAnimationStart:N,key:x},R=>{var P=R===1?r:r==null?void 0:r.map((M,I)=>{var k=h&&h[I];if(k)return An(An({},M),{},{x:Pt(k.x,M.x,R),y:Pt(k.y,M.y,R),width:Pt(k.width,M.width,R),height:Pt(k.height,M.height,R)});if(a==="horizontal"){var j=Pt(0,M.height,R);return An(An({},M),{},{y:M.y+M.height-j,height:j})}var q=Pt(0,M.width,R);return An(An({},M),{},{width:q})});return R>0&&(n.current=P??null),P==null?null:T.createElement(un,null,T.createElement(d$,{props:t,data:P}))}),T.createElement(_0,{label:t.label}),t.children)}function p$(e){var t=T.useRef(null);return T.createElement(m$,{previousRectanglesRef:t,props:e})}var iP=0,h$=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ht(e,t)}};class g$ extends T.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:l,yAxisId:s,needClip:c,background:d,id:f}=this.props;if(t||n==null)return null;var p=Je("recharts-bar",a),h=f;return T.createElement(un,{className:p,id:f},c&&T.createElement("defs",null,T.createElement(rP,{clipPathId:h,xAxisId:l,yAxisId:s})),T.createElement(un,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(h,")"):void 0},T.createElement(s$,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),T.createElement(p$,this.props)))}}var v$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ma.isSsr,legendType:"rect",minPointSize:iP,xAxisId:0,yAxisId:0};function y$(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p}=e,{needClip:h}=q0(t,n),x=ad(),w=Cn(),E=D0(e.children,pl),A=Ee(R=>F$(R,t,n,w,e.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var C,N=A==null?void 0:A[0];return N==null||N.height==null||N.width==null?C=0:C=x==="vertical"?N.height/2:N.width/2,T.createElement(nP,{xAxisId:t,yAxisId:n,data:A,dataPointFormatter:h$,errorBarOffset:C},T.createElement(g$,fa({},e,{layout:x,needClip:h,data:A,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function b$(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:l,xAxis:s,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:h,offset:x,cells:w,parentViewBox:E}=e,A=t==="horizontal"?c:s,C=p?A.scale.domain():null,N=hL({numericAxis:A});return h.map((R,P)=>{var M,I,k,j,q,$;p?M=uL(p[P],C):(M=ht(R,n),Array.isArray(M)||(M=[N,M]));var te=$G(r,iP)(M[1],P);if(t==="horizontal"){var K,[G,V]=[c.scale(M[0]),c.scale(M[1])];I=OA({axis:s,ticks:d,bandSize:l,offset:a.offset,entry:R,index:P}),k=(K=V??G)!==null&&K!==void 0?K:void 0,j=a.size;var ae=G-V;if(q=xr(ae)?0:ae,$={x:I,y:x.top,width:j,height:x.height},Math.abs(te)>0&&Math.abs(q)<Math.abs(te)){var me=Qt(q||te)*(Math.abs(te)-Math.abs(q));k-=me,q+=me}}else{var[B,ne]=[s.scale(M[0]),s.scale(M[1])];if(I=B,k=OA({axis:c,ticks:f,bandSize:l,offset:a.offset,entry:R,index:P}),j=ne-B,q=a.size,$={x:x.left,y:k,width:x.width,height:q},Math.abs(te)>0&&Math.abs(j)<Math.abs(te)){var H=Qt(j||te)*(Math.abs(te)-Math.abs(j));j+=H}}if(I==null||k==null||j==null||q==null)return null;var fe=An(An({},R),{},{x:I,y:k,width:j,height:q,value:p?M:M[1],payload:R,background:$,tooltipPosition:{x:I+j/2,y:k+q/2},parentViewBox:E},w&&w[P]&&w[P].props);return fe}).filter(Boolean)}function x$(e){var t=cn(e,v$),n=Cn();return T.createElement(k0,{id:t.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(WD,{legendPayload:o$(t)}),T.createElement(I0,{fn:l$,args:t}),T.createElement(QD,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:pL(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),T.createElement(y$,fa({},t,{id:r}))))}var Nv=T.memo(x$);Nv.displayName="Bar";function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(r){S$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S$(e,t,n){return(t=w$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e){var t=A$(e,"string");return typeof t=="symbol"?t:t+""}function A$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E$=(e,t)=>t,T$=(e,t,n)=>n,C$=(e,t,n,r)=>r,_$=(e,t,n,r,a)=>a,yu=W([xd,_$],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),N$=W([yu],e=>e==null?void 0:e.maxBarSize),M$=(e,t,n,r,a,l)=>l,tC=(e,t,n)=>{var r=n??e;if(!At(r))return gn(r,t,0)},D$=W([$e,xd,E$,T$,C$],(e,t,n,r,a)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===a).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),P$=(e,t,n,r)=>{var a=$e(e);return a==="horizontal"?bv(e,"yAxis",n,r):bv(e,"xAxis",t,r)},O$=(e,t,n)=>{var r=$e(e);return r==="horizontal"?nT(e,"xAxis",t):nT(e,"yAxis",n)},R$=(e,t,n)=>{var r={},a=e.filter(vd),l=e.filter(f=>f.stackId==null),s=a.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),c=Object.entries(s).map(f=>{var[p,h]=f,x=h.map(E=>E.dataKey),w=tC(t,n,h[0].barSize);return{stackId:p,dataKeys:x,barSize:w}}),d=l.map(f=>{var p=[f.dataKey].filter(x=>x!=null),h=tC(t,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:h}});return[...c,...d]},I$=W([D$,pq,O$],R$),k$=(e,t,n,r,a)=>{var l,s,c=yu(e,t,n,r,a);if(c!=null){var d=$e(e),f=S2(e),{maxBarSize:p}=c,h=At(p)?f:p,x,w;return d==="horizontal"?(x=sa(e,"xAxis",t,r),w=la(e,"xAxis",t,r)):(x=sa(e,"yAxis",n,r),w=la(e,"yAxis",n,r)),(l=(s=Hs(x,w,!0))!==null&&s!==void 0?s:h)!==null&&l!==void 0?l:0}},aP=(e,t,n,r)=>{var a=$e(e),l,s;return a==="horizontal"?(l=sa(e,"xAxis",t,r),s=la(e,"xAxis",t,r)):(l=sa(e,"yAxis",n,r),s=la(e,"yAxis",n,r)),Hs(l,s)};function j$(e,t,n,r,a){var l=r.length;if(!(l<1)){var s=gn(e,n,0,!0),c,d=[];if(vn(r[0].barSize)){var f=!1,p=n/l,h=r.reduce((N,R)=>N+(R.barSize||0),0);h+=(l-1)*s,h>=n&&(h-=(l-1)*s,s=0),h>=n&&p>0&&(f=!0,p*=.9,h=l*p);var x=(n-h)/2>>0,w={offset:x-s,size:0};c=r.reduce((N,R)=>{var P,M={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:w.offset+w.size+s,size:f?p:(P=R.barSize)!==null&&P!==void 0?P:0}},I=[...N,M];return w=I[I.length-1].position,I},d)}else{var E=gn(t,n,0,!0);n-2*E-(l-1)*s<=0&&(s=0);var A=(n-2*E-(l-1)*s)/l;A>1&&(A>>=0);var C=vn(a)?Math.min(A,a):A;c=r.reduce((N,R,P)=>[...N,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:E+(A+s)*P+(A-C)/2,size:C}}],d)}return c}}var L$=(e,t,n,r,a,l,s)=>{var c=At(s)?t:s,d=j$(n,r,a!==l?a:l,e,c);return a!==l&&d!=null&&(d=d.map(f=>Yc(Yc({},f),{},{position:Yc(Yc({},f.position),{},{offset:f.position.offset-a/2})}))),d},U$=W([I$,S2,mq,w2,k$,aP,N$],L$),q$=(e,t,n,r)=>sa(e,"xAxis",t,r),B$=(e,t,n,r)=>sa(e,"yAxis",n,r),z$=(e,t,n,r)=>la(e,"xAxis",t,r),H$=(e,t,n,r)=>la(e,"yAxis",n,r),G$=W([U$,yu],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),$$=(e,t)=>{var n=Jy(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:l}=a;if(l)return l.find(s=>s.key===n)}}}},V$=W([P$,yu],$$),F$=W([Vt,fy,q$,B$,z$,H$,G$,$e,md,aP,V$,yu,M$],(e,t,n,r,a,l,s,c,d,f,p,h,x)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:A}=d;if(!(h==null||s==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||a==null||l==null||f==null)){var{data:C}=h,N;if(C!=null&&C.length>0?N=C:N=w==null?void 0:w.slice(E,A+1),N!=null)return b$({layout:c,barSettings:h,pos:s,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,stackedData:p,displayedData:N,offset:e,cells:x})}}),oP=e=>{var{chartData:t}=e,n=Et(),r=Cn();return T.useEffect(()=>r?()=>{}:(n(dT(t)),()=>{n(dT(void 0))}),[t,n,r]),null},nC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},lP=er({name:"brush",initialState:nC,reducers:{setBrushSettings(e,t){return t.payload==null?nC:t.payload}}}),{setBrushSettings:EZ}=lP.actions,K$=lP.reducer;function Y$(e,t,n){return(t=J$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J$(e){var t=X$(e,"string");return typeof t=="symbol"?t:t+""}function X$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class B0{static create(t){return new B0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Y$(B0,"EPS",1e-4);function W$(e){return(e%180+180)%180}var Z$=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=W$(a),s=l*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},Q$={dots:[],areas:[],lines:[]},sP=er({name:"referenceElements",initialState:Q$,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=hi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=hi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=hi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:TZ,removeDot:CZ,addArea:_Z,removeArea:NZ,addLine:MZ,removeLine:DZ}=sP.actions,eV=sP.reducer,tV=T.createContext(void 0),nV=e=>{var{children:t}=e,[n]=T.useState("".concat(Us("recharts"),"-clip")),r=L0();if(r==null)return null;var{x:a,y:l,width:s,height:c}=r;return T.createElement(tV.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:a,y:l,height:c,width:s}))),t)};function hl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function uP(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function rV(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Z$(r,n)}function iV(e,t,n){var r=n==="width",{x:a,y:l,width:s,height:c}=e;return t===1?{start:r?a:l,end:r?a+s:l+c}:{start:r?a+s:l+c,end:r?a:l}}function kf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-a)<=0}function aV(e,t){return uP(e,t+1)}function oV(e,t,n,r,a){for(var l=(r||[]).slice(),{start:s,end:c}=t,d=0,f=1,p=s,h=function(){var E=r==null?void 0:r[d];if(E===void 0)return{v:uP(r,f)};var A=d,C,N=()=>(C===void 0&&(C=n(E,A)),C),R=E.coordinate,P=d===0||kf(e,R,N,p,c);P||(d=0,p=s,f+=1),P&&(p=R+e*(N()/2+a),d+=f)},x;f<=l.length;)if(x=h(),x)return x.v;return[]}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(r){lV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lV(e,t,n){return(t=sV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cV(e,t,n,r,a){for(var l=(r||[]).slice(),s=l.length,{start:c}=t,{end:d}=t,f=function(x){var w=l[x],E,A=()=>(E===void 0&&(E=n(w,x)),E);if(x===s-1){var C=e*(w.coordinate+e*A()/2-d);l[x]=w=dn(dn({},w),{},{tickCoord:C>0?w.coordinate-C*e:w.coordinate})}else l[x]=w=dn(dn({},w),{},{tickCoord:w.coordinate});var N=kf(e,w.tickCoord,A,c,d);N&&(d=w.tickCoord-e*(A()/2+a),l[x]=dn(dn({},w),{},{isShow:!0}))},p=s-1;p>=0;p--)f(p);return l}function fV(e,t,n,r,a,l){var s=(r||[]).slice(),c=s.length,{start:d,end:f}=t;if(l){var p=r[c-1],h=n(p,c-1),x=e*(p.coordinate+e*h/2-f);s[c-1]=p=dn(dn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate});var w=kf(e,p.tickCoord,()=>h,d,f);w&&(f=p.tickCoord-e*(h/2+a),s[c-1]=dn(dn({},p),{},{isShow:!0}))}for(var E=l?c-1:c,A=function(R){var P=s[R],M,I=()=>(M===void 0&&(M=n(P,R)),M);if(R===0){var k=e*(P.coordinate-e*I()/2-d);s[R]=P=dn(dn({},P),{},{tickCoord:k<0?P.coordinate-k*e:P.coordinate})}else s[R]=P=dn(dn({},P),{},{tickCoord:P.coordinate});var j=kf(e,P.tickCoord,I,d,f);j&&(d=P.tickCoord+e*(I()/2+a),s[R]=dn(dn({},P),{},{isShow:!0}))},C=0;C<E;C++)A(C);return s}function z0(e,t,n){var{tick:r,ticks:a,viewBox:l,minTickGap:s,orientation:c,interval:d,tickFormatter:f,unit:p,angle:h}=e;if(!a||!a.length||!r)return[];if(Me(d)||ma.isSsr){var x;return(x=aV(a,Me(d)?d:0))!==null&&x!==void 0?x:[]}var w=[],E=c==="top"||c==="bottom"?"width":"height",A=p&&E==="width"?js(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(P,M)=>{var I=typeof f=="function"?f(P.value,M):P.value;return E==="width"?rV(js(I,{fontSize:t,letterSpacing:n}),A,h):js(I,{fontSize:t,letterSpacing:n})[E]},N=a.length>=2?Qt(a[1].coordinate-a[0].coordinate):1,R=iV(l,N,E);return d==="equidistantPreserveStart"?oV(N,R,C,a,s):(d==="preserveStart"||d==="preserveStartEnd"?w=fV(N,R,C,a,s,d==="preserveStartEnd"):w=cV(N,R,C,a,s),w.filter(P=>P.isShow))}var dV=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:l=0}=e,s=0;if(t){Array.from(t).forEach(p=>{if(p){var h=p.getBoundingClientRect();h.width>s&&(s=h.width)}});var c=n?n.getBoundingClientRect().width:0,d=a+l,f=s+d+c+(n?r:0);return Math.round(f)}return 0},mV=["axisLine","width","height","className","hide","ticks"],pV=["viewBox"],hV=["viewBox"];function Mv(e,t){if(e==null)return{};var n,r,a=gV(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(null,arguments)}function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){vV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vV(e,t,n){return(t=yV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function xV(e){var{x:t,y:n,width:r,height:a,orientation:l,mirror:s,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=Gt(Gt(Gt({},d),Zn(c)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!s||l==="bottom"&&s);f=Gt(Gt({},f),{},{x1:t,y1:n+p*a,x2:t+r,y2:n+p*a})}else{var h=+(l==="left"&&!s||l==="right"&&s);f=Gt(Gt({},f),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+a})}return T.createElement("line",ro({},f,{className:Je("recharts-cartesian-axis-line",Za(c,"className"))}))}function SV(e,t,n,r,a,l,s,c,d){var f,p,h,x,w,E,A=c?-1:1,C=e.tickSize||s,N=Me(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":f=p=e.coordinate,x=n+ +!c*a,h=x-A*C,E=h-A*d,w=N;break;case"left":h=x=e.coordinate,p=t+ +!c*r,f=p-A*C,w=f-A*d,E=N;break;case"right":h=x=e.coordinate,p=t+ +c*r,f=p+A*C,w=f+A*d,E=N;break;default:f=p=e.coordinate,x=n+ +c*a,h=x+A*C,E=h+A*d,w=N;break}return{line:{x1:f,y1:h,x2:p,y2:x},tick:{x:w,y:E}}}function wV(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AV(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function EV(e){var{option:t,tickProps:n,value:r}=e,a,l=Je(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))a=T.cloneElement(t,Gt(Gt({},n),{},{className:l}));else if(typeof t=="function")a=t(Gt(Gt({},n),{},{className:l}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Je(s,t==null?void 0:t.className)),a=T.createElement(Cd,ro({},n,{className:s}),r)}return a}function TV(e){var{ticks:t=[],tick:n,tickLine:r,stroke:a,tickFormatter:l,unit:s,padding:c,tickTextProps:d,orientation:f,mirror:p,x:h,y:x,width:w,height:E,tickSize:A,tickMargin:C,fontSize:N,letterSpacing:R,getTicksConfig:P,events:M}=e,I=z0(Gt(Gt({},P),{},{ticks:t}),N,R),k=wV(f,p),j=AV(f,p),q=Zn(P),$=Wa(n),te={};typeof r=="object"&&(te=r);var K=Gt(Gt({},q),{},{fill:"none"},te),G=I.map((V,ae)=>{var{line:me,tick:B}=SV(V,h,x,w,E,f,A,p,C),ne=Gt(Gt(Gt(Gt({textAnchor:k,verticalAnchor:j},q),{},{stroke:"none",fill:a},$),B),{},{index:ae,payload:V,visibleTicksCount:I.length,tickFormatter:l,padding:c},d);return T.createElement(un,ro({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},tu(M,V,ae)),r&&T.createElement("line",ro({},K,me,{className:Je("recharts-cartesian-axis-tick-line",Za(r,"className"))})),n&&T.createElement(EV,{option:n,tickProps:ne,value:"".concat(typeof l=="function"?l(V.value,ae):V.value).concat(s||"")}))});return G.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},G):null}var CV=T.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:l,hide:s,ticks:c}=e,d=Mv(e,mV),[f,p]=T.useState(""),[h,x]=T.useState(""),w=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var A;return dV({ticks:w.current,label:(A=e.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=T.useCallback(A=>{if(A){var C=A.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=C;var N=C[0];if(N){var R=window.getComputedStyle(N),P=R.fontSize,M=R.letterSpacing;(P!==f||M!==h)&&(p(P),x(M))}}},[f,h]);return s||r!=null&&r<=0||a!=null&&a<=0?null:T.createElement(un,{className:Je("recharts-cartesian-axis",l),ref:E},T.createElement(xV,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Zn(e)}),T.createElement(TV,{ticks:c,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:h,getTicksConfig:e,events:d}),T.createElement(N8,{x:e.x,y:e.y,width:e.width,height:e.height},T.createElement(U8,{label:e.label,labelRef:e.labelRef}),e.children))}),_V=T.memo(CV,(e,t)=>{var{viewBox:n}=e,r=Mv(e,pV),{viewBox:a}=t,l=Mv(t,hV);return hl(n,a)&&hl(r,l)}),G0=T.forwardRef((e,t)=>{var n=cn(e,H0);return T.createElement(_V,ro({},n,{ref:t}))});G0.displayName="CartesianAxis";var NV=["x1","y1","x2","y2","key"],MV=["offset"],DV=["xAxisId","yAxisId"],PV=["xAxisId","yAxisId"];function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(r){OV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OV(e,t,n){return(t=RV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va.apply(null,arguments)}function jf(e,t){if(e==null)return{};var n,r,a=kV(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jV=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:l,height:s,ry:c}=e;return T.createElement("rect",{x:r,y:a,ry:c,width:l,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cP(e,t){var n;if(T.isValidElement(e))n=T.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:a,x2:l,y2:s,key:c}=t,d=jf(t,NV),f=Zn(d),{offset:p}=f,h=jf(f,MV);n=T.createElement("line",Va({},h,{x1:r,y1:a,x2:l,y2:s,fill:"none",key:c}))}return n}function LV(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:s}=e,c=jf(e,DV),d=a.map((f,p)=>{var h=pn(pn({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return cP(r,h)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function UV(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:s}=e,c=jf(e,PV),d=a.map((f,p)=>{var h=pn(pn({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return cP(r,h)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function qV(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:l,height:s,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=c.map(h=>Math.round(h+a-a)).sort((h,x)=>h-x);a!==f[0]&&f.unshift(0);var p=f.map((h,x)=>{var w=!f[x+1],E=w?a+s-h:f[x+1]-h;if(E<=0)return null;var A=x%t.length;return T.createElement("rect",{key:"react-".concat(x),y:h,x:r,height:E,width:l,stroke:"none",fill:t[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function BV(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:l,width:s,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(h=>Math.round(h+a-a)).sort((h,x)=>h-x);a!==f[0]&&f.unshift(0);var p=f.map((h,x)=>{var w=!f[x+1],E=w?a+s-h:f[x+1]-h;if(E<=0)return null;var A=x%n.length;return T.createElement("rect",{key:"react-".concat(x),x:h,y:l,width:E,height:c,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var zV=(e,t)=>{var{xAxis:n,width:r,height:a,offset:l}=e;return iM(z0(pn(pn(pn({},H0),n),{},{ticks:aM(n),viewBox:{x:0,y:0,width:r,height:a}})),l.left,l.left+l.width,t)},HV=(e,t)=>{var{yAxis:n,width:r,height:a,offset:l}=e;return iM(z0(pn(pn(pn({},H0),n),{},{ticks:aM(n),viewBox:{x:0,y:0,width:r,height:a}})),l.top,l.top+l.height,t)},GV={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Xs(e){var t=my(),n=py(),r=dM(),a=pn(pn({},cn(e,GV)),{},{x:Me(e.x)?e.x:r.left,y:Me(e.y)?e.y:r.top,width:Me(e.width)?e.width:r.width,height:Me(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:s,x:c,y:d,width:f,height:p,syncWithTicks:h,horizontalValues:x,verticalValues:w}=a,E=Cn(),A=Ee($=>rT($,"xAxis",l,E)),C=Ee($=>rT($,"yAxis",s,E));if(!Me(f)||f<=0||!Me(p)||p<=0||!Me(c)||c!==+c||!Me(d)||d!==+d)return null;var N=a.verticalCoordinatesGenerator||zV,R=a.horizontalCoordinatesGenerator||HV,{horizontalPoints:P,verticalPoints:M}=a;if((!P||!P.length)&&typeof R=="function"){var I=x&&x.length,k=R({yAxis:C?pn(pn({},C),{},{ticks:I?x:C.ticks}):void 0,width:t,height:n,offset:r},I?!0:h);pf(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(P=k)}if((!M||!M.length)&&typeof N=="function"){var j=w&&w.length,q=N({xAxis:A?pn(pn({},A),{},{ticks:j?w:A.ticks}):void 0,width:t,height:n,offset:r},j?!0:h);pf(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(M=q)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(jV,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),T.createElement(qV,Va({},a,{horizontalPoints:P})),T.createElement(BV,Va({},a,{verticalPoints:M})),T.createElement(LV,Va({},a,{offset:r,horizontalPoints:P,xAxis:A,yAxis:C})),T.createElement(UV,Va({},a,{offset:r,verticalPoints:M,xAxis:A,yAxis:C})))}Xs.displayName="CartesianGrid";var fP=(e,t,n,r)=>sa(e,"xAxis",t,r),dP=(e,t,n,r)=>la(e,"xAxis",t,r),mP=(e,t,n,r)=>sa(e,"yAxis",n,r),pP=(e,t,n,r)=>la(e,"yAxis",n,r),$V=W([$e,fP,mP,dP,pP],(e,t,n,r,a)=>da(e,"xAxis")?Hs(t,r,!1):Hs(n,a,!1)),VV=(e,t,n,r,a)=>a;function FV(e){return e.type==="line"}var KV=W([xd,VV],(e,t)=>e.filter(FV).find(n=>n.id===t)),YV=W([$e,fP,mP,dP,pP,KV,$V,md],(e,t,n,r,a,l,s,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:p}=c;if(!(l==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||s==null)){var{dataKey:h,data:x}=l,w;if(x!=null&&x.length>0?w=x:w=d==null?void 0:d.slice(f,p+1),w!=null)return v9({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:h,bandSize:s,displayedData:w})}});function JV(e){var t=Wa(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:l}=t,s=Number(a),c=Number(l);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(c)||c<0)&&(c=r),{r:s,strokeWidth:c}}return{r:n,strokeWidth:r}}var XV=["id"],WV=["type","layout","connectNulls","needClip"],ZV=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(r){QV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QV(e,t,n){return(t=e9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e9(e){var t=t9(e,"string");return typeof t=="symbol"?t:t+""}function t9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0(e,t){if(e==null)return{};var n,r,a=n9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function n9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},io.apply(null,arguments)}var r9=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:r,value:vl(n,t),payload:e}]};function i9(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:l,name:s,hide:c,unit:d}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:l,dataKey:t,nameKey:void 0,name:vl(s,t),hide:c,type:e.tooltipType,color:e.stroke,unit:d}}}var hP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function a9(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var o9=(e,t,n)=>{var r=n.reduce((h,x)=>h+x);if(!r)return hP(t,e);for(var a=Math.floor(e/r),l=e%r,s=t-e,c=[],d=0,f=0;d<n.length;f+=n[d],++d)if(f+n[d]>l){c=[...n.slice(0,d),l-f];break}var p=c.length%2===0?[0,s]:[s];return[...a9(n,a),...c,...p].map(h=>"".concat(h,"px")).join(", ")};function l9(e,t){var n;if(T.isValidElement(e))n=T.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Je("recharts-line-dot",typeof e!="boolean"?e.className:"");n=T.createElement(HD,io({},t,{className:r}))}return n}function s9(e,t){return e==null?!1:t?!0:e.length===1}function u9(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:l,needClip:s}=r;if(!s9(n,a))return null;var{id:c}=r,d=$0(r,XV),f=YD(a),p=Zn(d),h=ZI(a),x=n.map((E,A)=>{var C=Jn(Jn(Jn({key:"dot-".concat(A),r:3},p),h),{},{index:A,cx:E.x,cy:E.y,dataKey:l,value:E.value,payload:E.payload,points:n});return l9(a,C)}),w={clipPath:s?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return T.createElement(un,io({className:"recharts-line-dots",key:"dots"},w),x)}function c9(e){var{showLabels:t,children:n,points:r}=e,a=T.useMemo(()=>r==null?void 0:r.map(l=>{var s={x:l.x,y:l.y,width:0,height:0};return Jn(Jn({},s),{},{value:l.value,payload:l.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(BD,{value:t?a:null},n)}function lC(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:l}=e,{type:s,layout:c,connectNulls:d,needClip:f}=l,p=$0(l,WV),h=Jn(Jn({},Tn(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:c,connectNulls:d,strokeDasharray:a??l.strokeDasharray});return T.createElement(T.Fragment,null,(r==null?void 0:r.length)>1&&T.createElement(gy,io({},h,{pathRef:n})),T.createElement(u9,{points:r,clipPathId:t,props:l}))}function f9(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function d9(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:l}=e,{points:s,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:h,animateNewValues:x,width:w,height:E,onAnimationEnd:A,onAnimationStart:C}=n,N=a.current,R=ou(n,"recharts-line-"),[P,M]=T.useState(!1),I=!P,k=T.useCallback(()=>{typeof A=="function"&&A(),M(!1)},[A]),j=T.useCallback(()=>{typeof C=="function"&&C(),M(!0)},[C]),q=f9(r.current),$=l.current;return T.createElement(c9,{points:s,showLabels:I},n.children,T.createElement(au,{animationId:R,begin:f,duration:p,isActive:d,easing:h,onAnimationEnd:k,onAnimationStart:j,key:R},te=>{var K=Pt($,q+$,te),G=Math.min(K,q),V;if(d)if(c){var ae="".concat(c).split(/[,\s]+/gim).map(ne=>parseFloat(ne));V=o9(G,q,ae)}else V=hP(q,G);else V=c==null?void 0:String(c);if(N){var me=N.length/s.length,B=te===1?s:s.map((ne,H)=>{var fe=Math.floor(H*me);if(N[fe]){var ge=N[fe];return Jn(Jn({},ne),{},{x:Pt(ge.x,ne.x,te),y:Pt(ge.y,ne.y,te)})}return x?Jn(Jn({},ne),{},{x:Pt(w*2,ne.x,te),y:Pt(E/2,ne.y,te)}):Jn(Jn({},ne),{},{x:ne.x,y:ne.y})});return a.current=B,T.createElement(lC,{props:n,points:B,clipPathId:t,pathRef:r,strokeDasharray:V})}return te>0&&q>0&&(a.current=s,l.current=G),T.createElement(lC,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:V})}),T.createElement(_0,{label:n.label}))}function m9(e){var{clipPathId:t,props:n}=e,r=T.useRef(null),a=T.useRef(0),l=T.useRef(null);return T.createElement(d9,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:l})}var p9=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ht(e.payload,t)});class h9 extends T.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:l,yAxisId:s,top:c,left:d,width:f,height:p,id:h,needClip:x}=this.props;if(t)return null;var w=Je("recharts-line",a),E=h,{r:A,strokeWidth:C}=JV(n),N=YD(n),R=A*2+C;return T.createElement(T.Fragment,null,T.createElement(un,{className:w},x&&T.createElement("defs",null,T.createElement(rP,{clipPathId:E,xAxisId:l,yAxisId:s}),!N&&T.createElement("clipPath",{id:"clipPath-dots-".concat(E)},T.createElement("rect",{x:d-R/2,y:c-R/2,width:f+R,height:p+R}))),T.createElement(nP,{xAxisId:l,yAxisId:s,data:r,dataPointFormatter:p9,errorBarOffset:0},T.createElement(m9,{props:this.props,clipPathId:E}))),T.createElement(IG,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var gP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ma.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function g9(e){var t=cn(e,gP),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:l,animationEasing:s,connectNulls:c,dot:d,hide:f,isAnimationActive:p,label:h,legendType:x,xAxisId:w,yAxisId:E,id:A}=t,C=$0(t,ZV),{needClip:N}=q0(w,E),R=L0(),P=ad(),M=Cn(),I=Ee(te=>YV(te,w,E,M,A));if(P!=="horizontal"&&P!=="vertical"||I==null||R==null)return null;var{height:k,width:j,x:q,y:$}=R;return T.createElement(h9,io({},C,{id:A,connectNulls:c,dot:d,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:l,animationEasing:s,isAnimationActive:p,hide:f,label:h,legendType:x,xAxisId:w,yAxisId:E,points:I,layout:P,height:k,width:j,left:q,top:$,needClip:N}))}function v9(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,dataKey:s,bandSize:c,displayedData:d}=e;return d.map((f,p)=>{var h=ht(f,s);if(t==="horizontal"){var x=PA({axis:n,ticks:a,bandSize:c,entry:f,index:p}),w=At(h)?null:r.scale(h);return{x,y:w,value:h,payload:f}}var E=At(h)?null:n.scale(h),A=PA({axis:r,ticks:l,bandSize:c,entry:f,index:p});return E==null||A==null?null:{x:E,y:A,value:h,payload:f}}).filter(Boolean)}function y9(e){var t=cn(e,gP),n=Cn();return T.createElement(k0,{id:t.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(WD,{legendPayload:r9(t)}),T.createElement(I0,{fn:i9,args:t}),T.createElement(QD,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),T.createElement(g9,io({},t,{id:r}))))}var nl=T.memo(y9);nl.displayName="Line";var b9=["dangerouslySetInnerHTML","ticks"],x9=["id"],S9=["domain"],w9=["domain"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(null,arguments)}function Lf(e,t){if(e==null)return{};var n,r,a=A9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function E9(e){var t=Et();return T.useLayoutEffect(()=>(t(SG(e)),()=>{t(wG(e))}),[e,t]),null}var T9=e=>{var{xAxisId:t,className:n}=e,r=Ee(fy),a=Cn(),l="xAxis",s=Ee(C=>Tl(C,l,t,a)),c=Ee(C=>eD(C,l,t,a)),d=Ee(C=>X2(C,t)),f=Ee(C=>sB(C,t)),p=Ee(C=>P2(C,t));if(d==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:h,ticks:x}=e,w=Lf(e,b9),{id:E}=p,A=Lf(p,x9);return T.createElement(G0,Dv({},w,A,{scale:s,x:f.x,y:f.y,width:d.width,height:d.height,className:Je("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:c}))},C9={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:Fn.allowDecimals,allowDuplicatedCategory:Fn.allowDuplicatedCategory,height:Fn.height,hide:!1,mirror:Fn.mirror,orientation:Fn.orientation,padding:Fn.padding,reversed:Fn.reversed,scale:Fn.scale,tickCount:Fn.tickCount,type:Fn.type,xAxisId:0},_9=e=>{var t,n,r,a,l,s=cn(e,C9);return T.createElement(T.Fragment,null,T.createElement(E9,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(l=s.tick)!==null&&l!==void 0?l:!0,tickFormatter:s.tickFormatter}),T.createElement(T9,s))},N9=(e,t)=>{var{domain:n}=e,r=Lf(e,S9),{domain:a}=t,l=Lf(t,w9);return hl(r,l)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:hl({domain:n},{domain:a}):!1},Ws=T.memo(_9,N9);Ws.displayName="XAxis";var M9=["dangerouslySetInnerHTML","ticks"],D9=["id"],P9=["domain"],O9=["domain"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(null,arguments)}function Uf(e,t){if(e==null)return{};var n,r,a=R9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function I9(e){var t=Et();return T.useLayoutEffect(()=>(t(AG(e)),()=>{t(EG(e))}),[e,t]),null}var k9=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,l=T.useRef(null),s=T.useRef(null),c=Ee(fy),d=Cn(),f=Et(),p="yAxis",h=Ee(I=>Tl(I,p,t,d)),x=Ee(I=>W2(I,t)),w=Ee(I=>cB(I,t)),E=Ee(I=>eD(I,p,t,d)),A=Ee(I=>O2(I,t));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!x||C0(a)||T.isValidElement(a)||A==null)){var I=l.current;if(I){var k=I.getCalculatedWidth();Math.round(x.width)!==Math.round(k)&&f(TG({id:t,width:k}))}}},[E,x,f,a,t,r,A]),x==null||w==null||A==null)return null;var{dangerouslySetInnerHTML:C,ticks:N}=e,R=Uf(e,M9),{id:P}=A,M=Uf(A,D9);return T.createElement(G0,Pv({},R,M,{ref:l,labelRef:s,scale:h,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Je("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:E}))},j9={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,hide:!1,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tickCount:Kn.tickCount,type:Kn.type,width:Kn.width,yAxisId:0},L9=e=>{var t,n,r,a,l,s=cn(e,j9);return T.createElement(T.Fragment,null,T.createElement(I9,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(l=s.tick)!==null&&l!==void 0?l:!0,tickFormatter:s.tickFormatter}),T.createElement(k9,s))},U9=(e,t)=>{var{domain:n}=e,r=Uf(e,P9),{domain:a}=t,l=Uf(t,O9);return hl(r,l)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:hl({domain:n},{domain:a}):!1},Zs=T.memo(L9,U9);Zs.displayName="YAxis";var Cg={exports:{}},_g={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function q9(){if(sC)return _g;sC=1;var e=gl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,s=e.useMemo,c=e.useDebugValue;return _g.useSyncExternalStoreWithSelector=function(d,f,p,h,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=s(function(){function C(I){if(!N){if(N=!0,R=I,I=h(I),x!==void 0&&E.hasValue){var k=E.value;if(x(k,I))return P=k}return P=I}if(k=P,n(R,I))return k;var j=h(I);return x!==void 0&&x(k,j)?(R=I,k):(R=I,P=j)}var N=!1,R,P,M=p===void 0?null:p;return[function(){return C(f())},M===null?void 0:function(){return C(M())}]},[f,p,h,x]);var A=r(d,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),c(A),A},_g}var uC;function B9(){return uC||(uC=1,Cg.exports=q9()),Cg.exports}B9();function z9(e){e()}function H9(){let e=null,t=null;return{clear(){e=null,t=null},notify(){z9(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var cC={notify(){},get:()=>[]};function G9(e,t){let n,r=cC,a=0,l=!1;function s(A){p();const C=r.subscribe(A);let N=!1;return()=>{N||(N=!0,C(),h())}}function c(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function f(){return l}function p(){a++,n||(n=e.subscribe(d),r=H9())}function h(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=cC)}function x(){l||(l=!0,p())}function w(){l&&(l=!1,h())}const E={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return E}var $9=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V9=$9(),F9=()=>typeof navigator<"u"&&navigator.product==="ReactNative",K9=F9(),Y9=()=>V9||K9?T.useLayoutEffect:T.useEffect,J9=Y9(),Ng=Symbol.for("react-redux-context"),Mg=typeof globalThis<"u"?globalThis:{};function X9(){if(!T.createContext)return{};const e=Mg[Ng]??(Mg[Ng]=new Map);let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var W9=X9();function Z9(e){const{children:t,context:n,serverState:r,store:a}=e,l=T.useMemo(()=>{const d=G9(a);return{store:a,subscription:d,getServerState:r?()=>r:void 0}},[a,r]),s=T.useMemo(()=>a.getState(),[a]);J9(()=>{const{subscription:d}=l;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[l,s]);const c=n||W9;return T.createElement(c.Provider,{value:l},t)}var Q9=Z9,e7=(e,t)=>t,V0=W([e7,$e,N2,Kt,vD,Mi,hz,Vt],xz),F0=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},vP=Sr("mouseClick"),yP=ru();yP.startListening({actionCreator:vP,effect:(e,t)=>{var n=e.payload,r=V0(t.getState(),F0(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(AB({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ov=Sr("mouseMove"),bP=ru();bP.startListening({actionCreator:Ov,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=g0(r,r.tooltip.settings.shared),l=V0(r,F0(n));a==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(sD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(lD()))}});var fC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},xP=er({name:"rootProps",initialState:fC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:fC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),t7=xP.reducer,{updateOptions:n7}=xP.actions,SP=er({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:r7}=SP.actions,i7=SP.reducer,wP=Sr("keyDown"),AP=Sr("focus"),K0=ru();K0.startListening({actionCreator:wP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var s=Number(v0(a,_l(n))),c=Mi(n);if(l==="Enter"){var d=Df(n,"axis","hover",String(a.index));t.dispatch(Sv({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var f=pB(n),p=f==="left-to-right"?1:-1,h=l==="ArrowRight"?1:-1,x=s+h*p;if(!(c==null||x>=c.length||x<0)){var w=Df(n,"axis","hover",String(x));t.dispatch(Sv({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}});K0.startListening({actionCreator:AP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var l="0",s=Df(n,"axis","hover",String(l));t.dispatch(Sv({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:s}))}}}});var hr=Sr("externalEvent"),EP=ru();EP.startListening({actionCreator:hr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:az(n),activeDataKey:SD(n),activeIndex:ua(n),activeLabel:xD(n),activeTooltipIndex:ua(n),isTooltipActive:oz(n)};e.payload.handler(r,e.payload.reactEvent)}}});var a7=W([Cl],e=>e.tooltipItemPayloads),o7=W([a7,gu,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(c=>c.settings.dataKey===r);if(a!=null){var{positions:l}=a;if(l!=null){var s=t(l,n);return s}}}),TP=Sr("touchMove"),CP=ru();CP.startListening({actionCreator:TP,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=g0(r,r.tooltip.settings.shared);if(a==="axis"){var l=V0(r,F0({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(sD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var s,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(lM),p=(s=d.getAttribute(sM))!==null&&s!==void 0?s:void 0,h=o7(t.getState(),f,p);t.dispatch(oD({activeDataKey:p,activeIndex:f,activeCoordinate:h}))}}});var l7=PN({brush:K$,cartesianAxis:CG,chartData:jz,errorBars:FG,graphicalItems:VH,layout:Kj,legend:QL,options:Pz,polarAxis:aH,polarOptions:i7,referenceElements:eV,rootProps:t7,tooltip:EB}),s7=function(t){return yj({reducer:l7,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([yP.middleware,bP.middleware,K0.middleware,EP.middleware,CP.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(GN({type:"raf"}))},devTools:ma.devToolsEnabled})};function _P(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Cn(),l=T.useRef(null);if(a)return n;l.current==null&&(l.current=s7(t));var s=ay;return T.createElement(Q9,{context:s,store:l.current},n)}function NP(e){var{layout:t,margin:n}=e,r=Et(),a=Cn();return T.useEffect(()=>{a||(r($j(t)),r(Gj(n)))},[r,a,t,n]),null}function MP(e){var t=Et();return T.useEffect(()=>{t(n7(e))},[t,e]),null}var u7=["children"];function c7(e,t){if(e==null)return{};var n,r,a=f7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf.apply(null,arguments)}var d7={width:"100%",height:"100%",display:"block"},m7=T.forwardRef((e,t)=>{var n=my(),r=py(),a=gM();if(!ll(n)||!ll(r))return null;var{children:l,otherAttributes:s,title:c,desc:d}=e,f,p;return typeof s.tabIndex=="number"?f=s.tabIndex:f=a?0:void 0,typeof s.role=="string"?p=s.role:p=a?"application":void 0,T.createElement(Kv,qf({},s,{title:c,desc:d,role:p,tabIndex:f,width:n,height:r,style:d7,ref:t}),l)}),p7=e=>{var{children:t}=e,n=Ee(rd);if(!n)return null;var{width:r,height:a,y:l,x:s}=n;return T.createElement(Kv,{width:r,height:a,x:s,y:l},t)},dC=T.forwardRef((e,t)=>{var{children:n}=e,r=c7(e,u7),a=Cn();return a?T.createElement(p7,null,n):T.createElement(m7,qf({ref:t},r),n)});function h7(){var e=Et(),[t,n]=T.useState(null),r=Ee(wL);return T.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),l=a.width/t.offsetWidth;vn(l)&&l!==r&&e(Fj(l))}},[t,e,r]),n}function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function g7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(n),!0).forEach(function(r){v7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v7(e,t,n){return(t=y7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao.apply(null,arguments)}var x7=()=>(Vz(),null);function Bf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var S7=T.forwardRef((e,t)=>{var n,r,a=T.useRef(null),[l,s]=T.useState({containerWidth:Bf((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Bf((r=e.style)===null||r===void 0?void 0:r.height)}),c=T.useCallback((f,p)=>{s(h=>{var x=Math.round(f),w=Math.round(p);return h.containerWidth===x&&h.containerHeight===w?h:{containerWidth:x,containerHeight:w}})},[]),d=T.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:p,height:h}=f.getBoundingClientRect();c(p,h);var x=E=>{var{width:A,height:C}=E[0].contentRect;c(A,C)},w=new ResizeObserver(x);w.observe(f),a.current=w}},[t,c]);return T.useEffect(()=>()=>{var f=a.current;f!=null&&f.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(od,{width:l.containerWidth,height:l.containerHeight}),T.createElement("div",ao({ref:d},e)))}),w7=T.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,l]=T.useState({containerWidth:Bf(n),containerHeight:Bf(r)}),s=T.useCallback((d,f)=>{l(p=>{var h=Math.round(d),x=Math.round(f);return p.containerWidth===h&&p.containerHeight===x?p:{containerWidth:h,containerHeight:x}})},[]),c=T.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();s(f,p)}},[t,s]);return T.createElement(T.Fragment,null,T.createElement(od,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",ao({ref:c},e)))}),A7=T.forwardRef((e,t)=>{var{width:n,height:r}=e;return T.createElement(T.Fragment,null,T.createElement(od,{width:n,height:r}),T.createElement("div",ao({ref:t},e)))}),E7=T.forwardRef((e,t)=>{var{width:n,height:r}=e;return vi(n)||vi(r)?T.createElement(w7,ao({},e,{ref:t})):T.createElement(A7,ao({},e,{ref:t}))});function T7(e){return e===!0?S7:E7}var C7=T.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:l,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:h,onMouseUp:x,onTouchEnd:w,onTouchMove:E,onTouchStart:A,style:C,width:N,responsive:R,dispatchTouchEvents:P=!0}=e,M=T.useRef(null),I=Et(),[k,j]=T.useState(null),[q,$]=T.useState(null),te=h7(),K=dy(),G=(K==null?void 0:K.width)>0?K.width:N,V=(K==null?void 0:K.height)>0?K.height:a,ae=T.useCallback(oe=>{te(oe),typeof t=="function"&&t(oe),j(oe),$(oe),oe!=null&&(M.current=oe)},[te,t,j,$]),me=T.useCallback(oe=>{I(vP(oe)),I(hr({handler:l,reactEvent:oe}))},[I,l]),B=T.useCallback(oe=>{I(Ov(oe)),I(hr({handler:f,reactEvent:oe}))},[I,f]),ne=T.useCallback(oe=>{I(lD()),I(hr({handler:p,reactEvent:oe}))},[I,p]),H=T.useCallback(oe=>{I(Ov(oe)),I(hr({handler:h,reactEvent:oe}))},[I,h]),fe=T.useCallback(()=>{I(AP())},[I]),ge=T.useCallback(oe=>{I(wP(oe.key))},[I]),L=T.useCallback(oe=>{I(hr({handler:s,reactEvent:oe}))},[I,s]),Z=T.useCallback(oe=>{I(hr({handler:c,reactEvent:oe}))},[I,c]),pe=T.useCallback(oe=>{I(hr({handler:d,reactEvent:oe}))},[I,d]),he=T.useCallback(oe=>{I(hr({handler:x,reactEvent:oe}))},[I,x]),ye=T.useCallback(oe=>{I(hr({handler:A,reactEvent:oe}))},[I,A]),Te=T.useCallback(oe=>{P&&I(TP(oe)),I(hr({handler:E,reactEvent:oe}))},[I,P,E]),Oe=T.useCallback(oe=>{I(hr({handler:w,reactEvent:oe}))},[I,w]),Ve=T7(R);return T.createElement(_D.Provider,{value:k},T.createElement(Y_.Provider,{value:q},T.createElement(Ve,{width:G??(C==null?void 0:C.width),height:V??(C==null?void 0:C.height),className:Je("recharts-wrapper",r),style:g7({position:"relative",cursor:"default",width:G,height:V},C),onClick:me,onContextMenu:L,onDoubleClick:Z,onFocus:fe,onKeyDown:ge,onMouseDown:pe,onMouseEnter:B,onMouseLeave:ne,onMouseMove:H,onMouseUp:he,onTouchEnd:Oe,onTouchMove:Te,onTouchStart:ye,ref:ae},T.createElement(x7,null),n)))}),_7=["width","height","responsive","children","className","style","compact","title","desc"];function N7(e,t){if(e==null)return{};var n,r,a=M7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function M7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DP=T.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:l,className:s,style:c,compact:d,title:f,desc:p}=e,h=N7(e,_7),x=Zn(h);return d?T.createElement(T.Fragment,null,T.createElement(od,{width:n,height:r}),T.createElement(dC,{otherAttributes:x,title:f,desc:p},l)):T.createElement(C7,{className:s,style:c,width:n,height:r,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(dC,{otherAttributes:x,title:f,desc:p,ref:t},T.createElement(nV,null,l)))});function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(null,arguments)}var D7={top:5,right:5,bottom:5,left:5},P7={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:D7,reverseStackOrder:!1,syncMethod:"index",responsive:!1},PP=T.forwardRef(function(t,n){var r,a=cn(t.categoricalChartProps,P7),{chartName:l,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,p={chartName:l,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(_P,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:l},T.createElement(oP,{chartData:f.data}),T.createElement(NP,{layout:a.layout,margin:a.margin}),T.createElement(MP,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),T.createElement(DP,Rv({},a,{ref:n})))}),O7=["axis"],Iv=T.forwardRef((e,t)=>T.createElement(PP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:O7,tooltipPayloadSearcher:T0,categoricalChartProps:e,ref:t})),R7=["axis","item"],I7=T.forwardRef((e,t)=>T.createElement(PP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:R7,tooltipPayloadSearcher:T0,categoricalChartProps:e,ref:t}));function k7(e){var t=Et();return T.useEffect(()=>{t(r7(e))},[t,e]),null}var j7=["layout"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(null,arguments)}function L7(e,t){if(e==null)return{};var n,r,a=U7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function U7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var q7={top:5,right:5,bottom:5,left:5},B7={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:q7,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},z7=T.forwardRef(function(t,n){var r,a=cn(t.categoricalChartProps,B7),{layout:l}=a,s=L7(a,j7),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=t,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return T.createElement(_P,{preloadedState:{options:h},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:c},T.createElement(oP,{chartData:a.data}),T.createElement(NP,{layout:l,margin:a.margin}),T.createElement(MP,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),T.createElement(k7,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),T.createElement(DP,kv({},s,{ref:n})))}),H7=["item"],G7={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},pC=T.forwardRef((e,t)=>{var n=cn(e,G7);return T.createElement(z7,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:H7,tooltipPayloadSearcher:T0,categoricalChartProps:n,ref:t})});const Ar=({isOpen:e,onClose:t,title:n,children:r})=>e?b.jsx("div",{className:"fixed inset-0 bg-space-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50",onClick:t,children:b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/30 rounded-lg shadow-neon p-6 w-full max-w-lg mx-4 text-high-contrast-white animate-fade-in",onClick:a=>a.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-neon-blue to-cyan-400",children:n}),b.jsx("button",{onClick:t,className:"text-secondary-gray hover:text-high-contrast-white transition-colors",children:b.jsx(U_,{})})]}),b.jsx("div",{children:r})]})}):null;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $7,V7;function F7(){return{geminiUrl:$7,vertexUrl:V7}}function K7(e,t,n,r){var a,l;if(!(e!=null&&e.baseUrl)){const s=F7();return t?(a=s.vertexUrl)!==null&&a!==void 0?a:n:(l=s.geminiUrl)!==null&&l!==void 0?l:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uo{}function Ae(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const l=t[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function y(e,t,n){for(let l=0;l<t.length-1;l++){const s=t[l];if(s.endsWith("[]")){const c=s.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[c])){const d=e[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];y(p,t.slice(l+1),n[f])}else for(const f of d)y(f,t.slice(l+1),n)}return}else if(s.endsWith("[0]")){const c=s.slice(0,-3);c in e||(e[c]=[{}]);const d=e[c];y(d[0],t.slice(l+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const r=t[t.length-1],a=e[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in e){const s=e[l];return Array.isArray(s)?s.map(c=>g(c,t.slice(r+1),n)):n}else return n}else e=e[a]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Y7(e,t){for(const[n,r]of Object.entries(t)){const a=n.split("."),l=r.split("."),s=new Set;let c=-1;for(let d=0;d<a.length;d++)if(a[d]==="*"){c=d;break}if(c!==-1&&l.length>c)for(let d=c;d<l.length;d++){const f=l[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}jv(e,a,l,0,s)}}function jv(e,t,n,r,a){if(r>=t.length||typeof e!="object"||e===null)return;const l=t[r];if(l.endsWith("[]")){const s=l.slice(0,-2),c=e;if(s in c&&Array.isArray(c[s]))for(const d of c[s])jv(d,t,n,r+1,a)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,c=Object.keys(s).filter(f=>!f.startsWith("_")&&!a.has(f)),d={};for(const f of c)d[f]=s[f];for(const[f,p]of Object.entries(d)){const h=[];for(const x of n.slice(r))x==="*"?h.push(f):h.push(x);y(s,h,p)}for(const f of c)delete s[f]}}else{const s=e;l in s&&jv(s[l],t,n,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y0(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J7(e){const t={},n=g(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function X7(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const l=g(e,["error"]);l!=null&&y(t,["error"],l);const s=g(e,["response","generateVideoResponse"]);return s!=null&&y(t,["response"],Z7(s)),t}function W7(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const l=g(e,["error"]);l!=null&&y(t,["error"],l);const s=g(e,["response"]);return s!=null&&y(t,["response"],Q7(s)),t}function Z7(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>eF(s))),y(t,["generatedVideos"],l)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function Q7(e){const t={},n=g(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>tF(s))),y(t,["generatedVideos"],l)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function eF(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],iF(n)),t}function tF(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],aF(n)),t}function nF(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function rF(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function iF(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Y0(r));const a=g(e,["encoding"]);return a!=null&&y(t,["mimeType"],a),t}function aF(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Y0(r));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hC;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hC||(hC={}));var gC;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(gC||(gC={}));var vC;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(vC||(vC={}));var aa;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(aa||(aa={}));var yC;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yC||(yC={}));var bC;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(bC||(bC={}));var xC;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(xC||(xC={}));var SC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(SC||(SC={}));var wC;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(wC||(wC={}));var AC;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(AC||(AC={}));var EC;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(EC||(EC={}));var TC;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(TC||(TC={}));var CC;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(CC||(CC={}));var _C;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_C||(_C={}));var NC;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(NC||(NC={}));var MC;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(MC||(MC={}));var zf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(zf||(zf={}));var DC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(DC||(DC={}));var Lv;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Lv||(Lv={}));var PC;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(PC||(PC={}));var OC;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(OC||(OC={}));var RC;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(RC||(RC={}));var IC;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(IC||(IC={}));var kC;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(kC||(kC={}));var jC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(jC||(jC={}));var LC;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(LC||(LC={}));var UC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(UC||(UC={}));var qC;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(qC||(qC={}));var BC;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(BC||(BC={}));var zC;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(zC||(zC={}));var HC;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(HC||(HC={}));var GC;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(GC||(GC={}));var $C;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($C||($C={}));var VC;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(VC||(VC={}));var FC;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(FC||(FC={}));var KC;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(KC||(KC={}));var YC;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(YC||(YC={}));var JC;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(JC||(JC={}));var XC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(XC||(XC={}));var WC;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(WC||(WC={}));var ZC;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ZC||(ZC={}));var QC;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(QC||(QC={}));var e_;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(e_||(e_={}));var t_;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(t_||(t_={}));var n_;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(n_||(n_={}));var r_;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(r_||(r_={}));var i_;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(i_||(i_={}));var a_;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(a_||(a_={}));var Zo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Zo||(Zo={}));class Uv{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Os{get text(){var t,n,r,a,l,s,c,d;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const h=[];for(const x of(d=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[w,E]of Object.entries(x))w!=="text"&&w!=="thought"&&(E!==null||E!==void 0)&&h.push(w);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;p=!0,f+=x.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,r,a,l,s,c,d;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const h of(d=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[x,w]of Object.entries(h))x!=="inlineData"&&(w!==null||w!==void 0)&&p.push(x);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,a,l,s,c,d;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,a,l,s,c,d,f;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,a,l,s,c,d,f;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(c=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class o_{}class l_{}class oF{}class lF{}class sF{}class uF{}class s_{}class u_{}class c_{}class cF{}class Hf{_fromAPIResponse({apiResponse:t,isVertexAI:n}){const r=new Hf;let a;const l=t;return n?a=W7(l):a=X7(l),Object.assign(r,a),r}}class f_{}class d_{}class m_{}class fF{}class dF{}class mF{}class p_{}class pF{get text(){var t,n,r;let a="",l=!1;const s=[];for(const c of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&s.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;l=!0,a+=c.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var t,n,r;let a="";const l=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(s))c!=="inlineData"&&d!==null&&l.push(c);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class hF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function OP(e,t){const n=We(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function RP(e){return Array.isArray(e)?e.map(t=>Gf(t)):[Gf(e)]}function Gf(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function IP(e){const t=Gf(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function kP(e){const t=Gf(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function h_(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function jP(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>h_(t)):[h_(e)]}function qv(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function g_(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function v_(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function hn(e){if(e==null)throw new Error("ContentUnion is required");return qv(e)?e:{role:"user",parts:jP(e)}}function J0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=hn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=hn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>hn(n)):[hn(t)]}function br(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(g_(e)||v_(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[hn(e)]}const t=[],n=[],r=qv(e[0]);for(const a of e){const l=qv(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(a);else{if(g_(a)||v_(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||t.push({role:"user",parts:jP(n)}),t}function gF(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(aa).includes(n[0].toUpperCase())?n[0].toUpperCase():aa.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(aa).includes(r.toUpperCase())?r.toUpperCase():aa.TYPE_UNSPECIFIED})}}function rl(e){const t={},n=["items"],r=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&gF(e.type,t);for(const[s,c]of Object.entries(e))if(c!=null)if(s=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(aa).includes(c.toUpperCase())?c.toUpperCase():aa.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=rl(c);else if(r.includes(s)){const d=[];for(const f of c){if(f.type=="null"){t.nullable=!0;continue}d.push(rl(f))}t[s]=d}else if(a.includes(s)){const d={};for(const[f,p]of Object.entries(c))d[f]=rl(p);t[s]=d}else{if(s==="additionalProperties")continue;t[s]=c}return t}function X0(e){return rl(e)}function W0(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Z0(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Nl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=rl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=rl(t.response));return e}function Ml(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function vF(e,t,n,r=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function Di(e,t){if(typeof t!="string")throw new Error("name must be a string");return vF(e,t,"cachedContents")}function LP(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function va(e){return Y0(e)}function yF(e){return e!=null&&typeof e=="object"&&"name"in e}function bF(e){return e!=null&&typeof e=="object"&&"video"in e}function xF(e){return e!=null&&typeof e=="object"&&"uri"in e}function UP(e){var t;let n;if(yF(e)&&(n=e.name),!(xF(e)&&(n=e.uri,n===void 0))&&!(bF(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function qP(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function BP(e){for(const t of["models","tunedModels","publisherModels"])if(SF(e,t))return e[t];return[]}function SF(e,t){return e!==null&&typeof e=="object"&&t in e}function wF(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function AF(e,t={}){const n=[],r=new Set;for(const a of e){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const s=wF(a,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function zP(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function EF(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function HP(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let l=!1;for(const s of a){if(typeof s!="object"||s===null)continue;const d=s.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Dl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function GP(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TF(e){const t={},n=g(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>nK(s))),y(t,["inlinedResponses"],l)}const a=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>s)),y(t,["inlinedEmbedContentResponses"],l)}return t}function CF(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const a=g(e,["bigqueryDestination","outputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function _F(e){const t={},n=g(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const a=g(e,["bigqueryUri"]);if(a!=null&&y(t,["bigqueryDestination","outputUri"],a),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Zc(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const a=g(e,["metadata","state"]);a!=null&&y(t,["state"],GP(a));const l=g(e,["metadata","createTime"]);l!=null&&y(t,["createTime"],l);const s=g(e,["metadata","endTime"]);s!=null&&y(t,["endTime"],s);const c=g(e,["metadata","updateTime"]);c!=null&&y(t,["updateTime"],c);const d=g(e,["metadata","model"]);d!=null&&y(t,["model"],d);const f=g(e,["metadata","output"]);return f!=null&&y(t,["dest"],TF(HP(f))),t}function Bv(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const a=g(e,["state"]);a!=null&&y(t,["state"],GP(a));const l=g(e,["error"]);l!=null&&y(t,["error"],l);const s=g(e,["createTime"]);s!=null&&y(t,["createTime"],s);const c=g(e,["startTime"]);c!=null&&y(t,["startTime"],c);const d=g(e,["endTime"]);d!=null&&y(t,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(t,["updateTime"],f);const p=g(e,["model"]);p!=null&&y(t,["model"],p);const h=g(e,["inputConfig"]);h!=null&&y(t,["src"],NF(h));const x=g(e,["outputConfig"]);return x!=null&&y(t,["dest"],CF(HP(x))),t}function NF(e){const t={},n=g(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const a=g(e,["bigquerySource","inputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function MF(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&y(n,["fileName"],r);const a=g(t,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>tK(e,s))),y(n,["requests","requests"],l)}return n}function DF(e){const t={},n=g(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const a=g(e,["bigqueryUri"]);if(a!=null&&y(t,["bigquerySource","inputUri"],a),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function PF(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);n!=null&&y(t,["data"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function OF(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Dl(e,r)),n}function RF(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Dl(e,r)),n}function IF(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],kF(r));const a=g(e,["tokenCount"]);a!=null&&y(t,["tokenCount"],a);const l=g(e,["finishReason"]);l!=null&&y(t,["finishReason"],l);const s=g(e,["urlContextMetadata"]);s!=null&&y(t,["urlContextMetadata"],s);const c=g(e,["avgLogprobs"]);c!=null&&y(t,["avgLogprobs"],c);const d=g(e,["groundingMetadata"]);d!=null&&y(t,["groundingMetadata"],d);const f=g(e,["index"]);f!=null&&y(t,["index"],f);const p=g(e,["logprobsResult"]);p!=null&&y(t,["logprobsResult"],p);const h=g(e,["safetyRatings"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(w=>w)),y(t,["safetyRatings"],x)}return t}function kF(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["citations"],r)}return t}function $P(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>uK(l))),y(t,["parts"],a)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function jF(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function LF(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const a=g(e,["dest"]);return t!==void 0&&a!=null&&y(t,["outputConfig"],_F(EF(a))),n}function y_(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["src"]);a!=null&&y(n,["batch","inputConfig"],MF(e,zP(e,a)));const l=g(t,["config"]);return l!=null&&jF(l,n),n}function UF(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],We(e,r));const a=g(t,["src"]);a!=null&&y(n,["inputConfig"],DF(zP(e,a)));const l=g(t,["config"]);return l!=null&&LF(l,n),n}function qF(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function BF(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["src"]);a!=null&&y(n,["batch","inputConfig"],KF(e,a));const l=g(t,["config"]);return l!=null&&qF(l,n),n}function zF(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Dl(e,r)),n}function HF(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Dl(e,r)),n}function GF(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const l=g(e,["error"]);return l!=null&&y(t,["error"],l),t}function $F(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const l=g(e,["error"]);return l!=null&&y(t,["error"],l),t}function VF(e,t){const n={},r=g(t,["contents"]);if(r!=null){let l=J0(e,r);Array.isArray(l)&&(l=l.map(s=>s)),y(n,["requests[]","request","content"],l)}const a=g(t,["config"]);return a!=null&&(y(n,["_self"],FF(a,n)),Y7(n,{"requests[].*":"requests[].request.*"})),n}function FF(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const l=g(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&y(t,["requests[]","outputDimensionality"],l),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function KF(e,t){const n={},r=g(t,["fileName"]);r!=null&&y(n,["file_name"],r);const a=g(t,["inlinedRequests"]);return a!=null&&y(n,["requests"],VF(e,a)),n}function YF(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function JF(e,t,n){const r={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],$P(hn(a)));const l=g(t,["temperature"]);l!=null&&y(r,["temperature"],l);const s=g(t,["topP"]);s!=null&&y(r,["topP"],s);const c=g(t,["topK"]);c!=null&&y(r,["topK"],c);const d=g(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const p=g(t,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const h=g(t,["responseLogprobs"]);h!=null&&y(r,["responseLogprobs"],h);const x=g(t,["logprobs"]);x!=null&&y(r,["logprobs"],x);const w=g(t,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const E=g(t,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const A=g(t,["seed"]);A!=null&&y(r,["seed"],A);const C=g(t,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const N=g(t,["responseSchema"]);N!=null&&y(r,["responseSchema"],X0(N));const R=g(t,["responseJsonSchema"]);if(R!=null&&y(r,["responseJsonSchema"],R),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let G=P;Array.isArray(G)&&(G=G.map(V=>cK(V))),y(n,["safetySettings"],G)}const M=g(t,["tools"]);if(n!==void 0&&M!=null){let G=Ml(M);Array.isArray(G)&&(G=G.map(V=>fK(Nl(V)))),y(n,["tools"],G)}const I=g(t,["toolConfig"]);if(n!==void 0&&I!=null&&y(n,["toolConfig"],I),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=g(t,["cachedContent"]);n!==void 0&&k!=null&&y(n,["cachedContent"],Di(e,k));const j=g(t,["responseModalities"]);j!=null&&y(r,["responseModalities"],j);const q=g(t,["mediaResolution"]);q!=null&&y(r,["mediaResolution"],q);const $=g(t,["speechConfig"]);if($!=null&&y(r,["speechConfig"],W0($)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=g(t,["thinkingConfig"]);te!=null&&y(r,["thinkingConfig"],te);const K=g(t,["imageConfig"]);return K!=null&&y(r,["imageConfig"],K),r}function XF(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>IF(f))),y(t,["candidates"],d)}const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const s=g(e,["responseId"]);s!=null&&y(t,["responseId"],s);const c=g(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function WF(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Dl(e,r)),n}function ZF(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Dl(e,r)),n}function QF(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function eK(e){const t={},n=g(e,["timeRangeFilter"]);if(n!=null&&y(t,["timeRangeFilter"],n),g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function tK(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["request","model"],We(e,r));const a=g(t,["contents"]);if(a!=null){let c=br(a);Array.isArray(c)&&(c=c.map(d=>$P(d))),y(n,["request","contents"],c)}const l=g(t,["metadata"]);l!=null&&y(n,["metadata"],l);const s=g(t,["config"]);return s!=null&&y(n,["request","generationConfig"],JF(e,s,g(n,["request"],{}))),n}function nK(e){const t={},n=g(e,["response"]);n!=null&&y(t,["response"],XF(n));const r=g(e,["error"]);return r!=null&&y(t,["error"],r),t}function rK(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=g(e,["pageToken"]);if(t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function iK(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),n}function aK(e){const t={},n=g(e,["config"]);return n!=null&&rK(n,t),t}function oK(e){const t={},n=g(e,["config"]);return n!=null&&iK(n,t),t}function lK(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=g(e,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>Zc(s))),y(t,["batchJobs"],l)}return t}function sK(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=g(e,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>Bv(s))),y(t,["batchJobs"],l)}return t}function uK(e){const t={},n=g(e,["videoMetadata"]);n!=null&&y(t,["videoMetadata"],n);const r=g(e,["thought"]);r!=null&&y(t,["thought"],r);const a=g(e,["inlineData"]);a!=null&&y(t,["inlineData"],PF(a));const l=g(e,["fileData"]);l!=null&&y(t,["fileData"],YF(l));const s=g(e,["thoughtSignature"]);s!=null&&y(t,["thoughtSignature"],s);const c=g(e,["functionCall"]);c!=null&&y(t,["functionCall"],c);const d=g(e,["codeExecutionResult"]);d!=null&&y(t,["codeExecutionResult"],d);const f=g(e,["executableCode"]);f!=null&&y(t,["executableCode"],f);const p=g(e,["functionResponse"]);p!=null&&y(t,["functionResponse"],p);const h=g(e,["text"]);return h!=null&&y(t,["text"],h),t}function cK(e){const t={};if(g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=g(e,["category"]);n!=null&&y(t,["category"],n);const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function fK(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),y(t,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&y(t,["googleSearch"],eK(r));const a=g(e,["googleSearchRetrieval"]);if(a!=null&&y(t,["googleSearchRetrieval"],a),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],QF(l));const s=g(e,["urlContext"]);s!=null&&y(t,["urlContext"],s);const c=g(e,["computerUse"]);c!=null&&y(t,["computerUse"],c);const d=g(e,["codeExecution"]);return d!=null&&y(t,["codeExecution"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oo;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(oo||(oo={}));class bu{constructor(t,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,a)}init(t,n,r){var a,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(l=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dK extends uo{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new bu(oo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=y_(this.apiClient,t),r=n._url,a=Ae("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const p of d){const h=Object.assign({},p);if(h.systemInstruction){const x=h.systemInstruction;delete h.systemInstruction;const w=h.request;w.systemInstruction=x,h.request=w}f.push(h)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(t),s=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(s)r.dest=`${s}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=UF(this.apiClient,t);return c=Ae("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Bv(p))}else{const f=y_(this.apiClient,t);return c=Ae("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>Zc(p))}}async createEmbeddingsInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=BF(this.apiClient,t);return l=Ae("{model}:asyncBatchEmbedContent",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Zc(d))}}async get(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=ZF(this.apiClient,t);return c=Ae("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Bv(p))}else{const f=WF(this.apiClient,t);return c=Ae("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>Zc(p))}}async cancel(t){var n,r,a,l;let s="",c={};if(this.apiClient.isVertexAI()){const d=RF(this.apiClient,t);s=Ae("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=OF(this.apiClient,t);s=Ae("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=oK(t);return c=Ae("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=sK(p),x=new p_;return Object.assign(x,h),x})}else{const f=aK(t);return c=Ae("batches",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=lK(p),x=new p_;return Object.assign(x,h),x})}}async delete(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=HF(this.apiClient,t);return c=Ae("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>$F(p))}else{const f=zF(this.apiClient,t);return c=Ae("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>GF(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mK(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);n!=null&&y(t,["data"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function b_(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>IK(l))),y(t,["parts"],a)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function pK(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=g(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const l=g(e,["displayName"]);t!==void 0&&l!=null&&y(t,["displayName"],l);const s=g(e,["contents"]);if(t!==void 0&&s!=null){let p=br(s);Array.isArray(p)&&(p=p.map(h=>b_(h))),y(t,["contents"],p)}const c=g(e,["systemInstruction"]);t!==void 0&&c!=null&&y(t,["systemInstruction"],b_(hn(c)));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>kK(h))),y(t,["tools"],p)}const f=g(e,["toolConfig"]);if(t!==void 0&&f!=null&&y(t,["toolConfig"],f),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function hK(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=g(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const l=g(e,["displayName"]);t!==void 0&&l!=null&&y(t,["displayName"],l);const s=g(e,["contents"]);if(t!==void 0&&s!=null){let h=br(s);Array.isArray(h)&&(h=h.map(x=>x)),y(t,["contents"],h)}const c=g(e,["systemInstruction"]);t!==void 0&&c!=null&&y(t,["systemInstruction"],hn(c));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>jK(x))),y(t,["tools"],h)}const f=g(e,["toolConfig"]);t!==void 0&&f!=null&&y(t,["toolConfig"],f);const p=g(e,["kmsKeyName"]);return t!==void 0&&p!=null&&y(t,["encryption_spec","kmsKeyName"],p),n}function gK(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],OP(e,r));const a=g(t,["config"]);return a!=null&&pK(a,n),n}function vK(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],OP(e,r));const a=g(t,["config"]);return a!=null&&hK(a,n),n}function yK(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Di(e,r)),n}function bK(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Di(e,r)),n}function xK(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function SK(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function wK(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function AK(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const l=g(e,["parametersJsonSchema"]);l!=null&&y(t,["parametersJsonSchema"],l);const s=g(e,["response"]);s!=null&&y(t,["response"],s);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function EK(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Di(e,r)),n}function TK(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Di(e,r)),n}function CK(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function _K(e){const t={},n=g(e,["timeRangeFilter"]);if(n!=null&&y(t,["timeRangeFilter"],n),g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function NK(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function MK(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function DK(e){const t={},n=g(e,["config"]);return n!=null&&NK(n,t),t}function PK(e){const t={},n=g(e,["config"]);return n!=null&&MK(n,t),t}function OK(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>s)),y(t,["cachedContents"],l)}return t}function RK(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>s)),y(t,["cachedContents"],l)}return t}function IK(e){const t={},n=g(e,["videoMetadata"]);n!=null&&y(t,["videoMetadata"],n);const r=g(e,["thought"]);r!=null&&y(t,["thought"],r);const a=g(e,["inlineData"]);a!=null&&y(t,["inlineData"],mK(a));const l=g(e,["fileData"]);l!=null&&y(t,["fileData"],wK(l));const s=g(e,["thoughtSignature"]);s!=null&&y(t,["thoughtSignature"],s);const c=g(e,["functionCall"]);c!=null&&y(t,["functionCall"],c);const d=g(e,["codeExecutionResult"]);d!=null&&y(t,["codeExecutionResult"],d);const f=g(e,["executableCode"]);f!=null&&y(t,["executableCode"],f);const p=g(e,["functionResponse"]);p!=null&&y(t,["functionResponse"],p);const h=g(e,["text"]);return h!=null&&y(t,["text"],h),t}function kK(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),y(t,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&y(t,["googleSearch"],_K(r));const a=g(e,["googleSearchRetrieval"]);if(a!=null&&y(t,["googleSearchRetrieval"],a),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],CK(l));const s=g(e,["urlContext"]);s!=null&&y(t,["urlContext"],s);const c=g(e,["computerUse"]);c!=null&&y(t,["computerUse"],c);const d=g(e,["codeExecution"]);return d!=null&&y(t,["codeExecution"],d),t}function jK(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(x=>AK(x))),y(t,["functionDeclarations"],h)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const a=g(e,["googleSearch"]);a!=null&&y(t,["googleSearch"],a);const l=g(e,["googleSearchRetrieval"]);l!=null&&y(t,["googleSearchRetrieval"],l);const s=g(e,["enterpriseWebSearch"]);s!=null&&y(t,["enterpriseWebSearch"],s);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["urlContext"]);d!=null&&y(t,["urlContext"],d);const f=g(e,["computerUse"]);f!=null&&y(t,["computerUse"],f);const p=g(e,["codeExecution"]);return p!=null&&y(t,["codeExecution"],p),t}function LK(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=g(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function UK(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=g(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function qK(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],Di(e,r));const a=g(t,["config"]);return a!=null&&LK(a,n),n}function BK(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],Di(e,r));const a=g(t,["config"]);return a!=null&&UK(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zK extends uo{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new bu(oo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=vK(this.apiClient,t);return c=Ae("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=gK(this.apiClient,t);return c=Ae("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async get(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=TK(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=EK(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=bK(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=SK(p),x=new d_;return Object.assign(x,h),x})}else{const f=yK(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=xK(p),x=new d_;return Object.assign(x,h),x})}}async update(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=BK(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=qK(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async listInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=PK(t);return c=Ae("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=RK(p),x=new m_;return Object.assign(x,h),x})}else{const f=DK(t);return c=Ae("cachedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=OK(p),x=new m_;return Object.assign(x,h),x})}}}function x_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(e){return this instanceof yt?(this.v=e,this):new yt(e)}function il(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(w){return function(E){return Promise.resolve(E).then(w,h)}}function c(w,E){r[w]&&(a[w]=function(A){return new Promise(function(C,N){l.push([w,A,C,N])>1||d(w,A)})},E&&(a[w]=E(a[w])))}function d(w,E){try{f(r[w](E))}catch(A){x(l[0][3],A)}}function f(w){w.value instanceof yt?Promise.resolve(w.value.v).then(p,h):x(l[0][2],w)}function p(w){d("next",w)}function h(w){d("throw",w)}function x(w,E){w(E),l.shift(),l.length&&d(l[0][0],l[0][1])}}function Ls(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof x_=="function"?x_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(s){return new Promise(function(c,d){s=e[l](s),a(c,d,s.done,s.value)})}}function a(l,s,c,d){Promise.resolve(d).then(function(f){l({value:f,done:c})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HK(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:VP(n)}function VP(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function GK(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function S_(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const a=[];let l=!0;for(;r<n&&e[r].role==="model";)a.push(e[r]),l&&!VP(e[r])&&(l=!1),r++;l?t.push(...a):t.pop()}return t}class $K{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new VK(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class VK{constructor(t,n,r,a={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),GK(l)}async sendMessage(t){var n;await this.sendPromise;const r=hn(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,s,c;const d=await a,f=(s=(l=d.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content,p=d.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let x=[];p!=null&&(x=(c=p.slice(h))!==null&&c!==void 0?c:[]);const w=f?[f]:[];this.recordHistory(r,w,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const r=hn(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(t=!1){const n=t?S_(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,a;return il(this,arguments,function*(){var s,c,d,f;const p=[];try{for(var h=!0,x=Ls(t),w;w=yield yt(x.next()),s=w.done,!s;h=!0){f=w.value,h=!1;const E=f;if(HK(E)){const A=(a=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;A!==void 0&&p.push(A)}yield yield yt(E)}}catch(E){c={error:E}}finally{try{!h&&!s&&(d=x.return)&&(yield yt(d.call(x)))}finally{if(c)throw c.error}}this.recordHistory(n,p)})}recordHistory(t,n,r){let a=[];n.length>0&&n.every(l=>l.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...S_(r)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Md extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Md.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FK(e){const t={},n=g(e,["file"]);return n!=null&&y(t,["file"],n),t}function KK(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function YK(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],UP(n)),t}function JK(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function XK(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],UP(n)),t}function WK(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function ZK(e){const t={},n=g(e,["config"]);return n!=null&&WK(n,t),t}function QK(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=g(e,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(s=>s)),y(t,["files"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eY extends uo{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new bu(oo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ZK(t);return l=Ae("files",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=QK(d),p=new fF;return Object.assign(p,f),p})}}async createInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=FK(t);return l=Ae("upload/v1beta/files",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=KK(d),p=new dF;return Object.assign(p,f),p})}}async get(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=XK(t);return l=Ae("files/{file}",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=YK(t);return l=Ae("files/{file}",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=JK(d),p=new mF;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qc(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);n!=null&&y(t,["data"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function tY(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>gY(l))),y(t,["parts"],a)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function nY(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function rY(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const l=g(e,["parametersJsonSchema"]);l!=null&&y(t,["parametersJsonSchema"],l);const s=g(e,["response"]);s!=null&&y(t,["response"],s);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function iY(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["audioTimestamp"]);r!=null&&y(t,["audioTimestamp"],r);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const s=g(e,["frequencyPenalty"]);s!=null&&y(t,["frequencyPenalty"],s);const c=g(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const f=g(e,["mediaResolution"]);f!=null&&y(t,["mediaResolution"],f);const p=g(e,["presencePenalty"]);p!=null&&y(t,["presencePenalty"],p);const h=g(e,["responseJsonSchema"]);h!=null&&y(t,["responseJsonSchema"],h);const x=g(e,["responseLogprobs"]);x!=null&&y(t,["responseLogprobs"],x);const w=g(e,["responseMimeType"]);w!=null&&y(t,["responseMimeType"],w);const E=g(e,["responseModalities"]);E!=null&&y(t,["responseModalities"],E);const A=g(e,["responseSchema"]);A!=null&&y(t,["responseSchema"],A);const C=g(e,["routingConfig"]);C!=null&&y(t,["routingConfig"],C);const N=g(e,["seed"]);N!=null&&y(t,["seed"],N);const R=g(e,["speechConfig"]);R!=null&&y(t,["speechConfig"],FP(R));const P=g(e,["stopSequences"]);P!=null&&y(t,["stopSequences"],P);const M=g(e,["temperature"]);M!=null&&y(t,["temperature"],M);const I=g(e,["thinkingConfig"]);I!=null&&y(t,["thinkingConfig"],I);const k=g(e,["topK"]);k!=null&&y(t,["topK"],k);const j=g(e,["topP"]);if(j!=null&&y(t,["topP"],j),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function aY(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function oY(e){const t={},n=g(e,["timeRangeFilter"]);if(n!=null&&y(t,["timeRangeFilter"],n),g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function lY(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=g(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const s=g(e,["topP"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","topP"],s);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const p=g(e,["seed"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","seed"],p);const h=g(e,["speechConfig"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","speechConfig"],Z0(h));const x=g(e,["thinkingConfig"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","thinkingConfig"],x);const w=g(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(e,["systemInstruction"]);t!==void 0&&E!=null&&y(t,["setup","systemInstruction"],tY(hn(E)));const A=g(e,["tools"]);if(t!==void 0&&A!=null){let k=Ml(A);Array.isArray(k)&&(k=k.map(j=>yY(Nl(j)))),y(t,["setup","tools"],k)}const C=g(e,["sessionResumption"]);t!==void 0&&C!=null&&y(t,["setup","sessionResumption"],vY(C));const N=g(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&y(t,["setup","inputAudioTranscription"],N);const R=g(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","outputAudioTranscription"],R);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const M=g(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&y(t,["setup","proactivity"],I),n}function sY(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],iY(r));const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=g(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const s=g(e,["topP"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","topP"],s);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const p=g(e,["seed"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","seed"],p);const h=g(e,["speechConfig"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","speechConfig"],FP(Z0(h)));const x=g(e,["thinkingConfig"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","thinkingConfig"],x);const w=g(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(e,["systemInstruction"]);t!==void 0&&E!=null&&y(t,["setup","systemInstruction"],hn(E));const A=g(e,["tools"]);if(t!==void 0&&A!=null){let k=Ml(A);Array.isArray(k)&&(k=k.map(j=>bY(Nl(j)))),y(t,["setup","tools"],k)}const C=g(e,["sessionResumption"]);t!==void 0&&C!=null&&y(t,["setup","sessionResumption"],C);const N=g(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&y(t,["setup","inputAudioTranscription"],N);const R=g(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","outputAudioTranscription"],R);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const M=g(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&y(t,["setup","proactivity"],I),n}function uY(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],We(e,r));const a=g(t,["config"]);return a!=null&&y(n,["config"],lY(a,n)),n}function cY(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],We(e,r));const a=g(t,["config"]);return a!=null&&y(n,["config"],sY(a,n)),n}function fY(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function dY(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["weightedPrompts"],r)}return t}function mY(e){const t={},n=g(e,["media"]);if(n!=null){let f=RP(n);Array.isArray(f)&&(f=f.map(p=>Qc(p))),y(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],Qc(kP(r)));const a=g(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const l=g(e,["video"]);l!=null&&y(t,["video"],Qc(IP(l)));const s=g(e,["text"]);s!=null&&y(t,["text"],s);const c=g(e,["activityStart"]);c!=null&&y(t,["activityStart"],c);const d=g(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function pY(e){const t={},n=g(e,["media"]);if(n!=null){let f=RP(n);Array.isArray(f)&&(f=f.map(p=>p)),y(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],kP(r));const a=g(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const l=g(e,["video"]);l!=null&&y(t,["video"],IP(l));const s=g(e,["text"]);s!=null&&y(t,["text"],s);const c=g(e,["activityStart"]);c!=null&&y(t,["activityStart"],c);const d=g(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function hY(e){const t={},n=g(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const a=g(e,["toolCall"]);a!=null&&y(t,["toolCall"],a);const l=g(e,["toolCallCancellation"]);l!=null&&y(t,["toolCallCancellation"],l);const s=g(e,["usageMetadata"]);s!=null&&y(t,["usageMetadata"],xY(s));const c=g(e,["goAway"]);c!=null&&y(t,["goAway"],c);const d=g(e,["sessionResumptionUpdate"]);return d!=null&&y(t,["sessionResumptionUpdate"],d),t}function gY(e){const t={},n=g(e,["videoMetadata"]);n!=null&&y(t,["videoMetadata"],n);const r=g(e,["thought"]);r!=null&&y(t,["thought"],r);const a=g(e,["inlineData"]);a!=null&&y(t,["inlineData"],Qc(a));const l=g(e,["fileData"]);l!=null&&y(t,["fileData"],nY(l));const s=g(e,["thoughtSignature"]);s!=null&&y(t,["thoughtSignature"],s);const c=g(e,["functionCall"]);c!=null&&y(t,["functionCall"],c);const d=g(e,["codeExecutionResult"]);d!=null&&y(t,["codeExecutionResult"],d);const f=g(e,["executableCode"]);f!=null&&y(t,["executableCode"],f);const p=g(e,["functionResponse"]);p!=null&&y(t,["functionResponse"],p);const h=g(e,["text"]);return h!=null&&y(t,["text"],h),t}function vY(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function FP(e){const t={},n=g(e,["voiceConfig"]);if(n!=null&&y(t,["voiceConfig"],n),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=g(e,["languageCode"]);return r!=null&&y(t,["languageCode"],r),t}function yY(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),y(t,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&y(t,["googleSearch"],oY(r));const a=g(e,["googleSearchRetrieval"]);if(a!=null&&y(t,["googleSearchRetrieval"],a),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],aY(l));const s=g(e,["urlContext"]);s!=null&&y(t,["urlContext"],s);const c=g(e,["computerUse"]);c!=null&&y(t,["computerUse"],c);const d=g(e,["codeExecution"]);return d!=null&&y(t,["codeExecution"],d),t}function bY(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(x=>rY(x))),y(t,["functionDeclarations"],h)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const a=g(e,["googleSearch"]);a!=null&&y(t,["googleSearch"],a);const l=g(e,["googleSearchRetrieval"]);l!=null&&y(t,["googleSearchRetrieval"],l);const s=g(e,["enterpriseWebSearch"]);s!=null&&y(t,["enterpriseWebSearch"],s);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["urlContext"]);d!=null&&y(t,["urlContext"],d);const f=g(e,["computerUse"]);f!=null&&y(t,["computerUse"],f);const p=g(e,["codeExecution"]);return p!=null&&y(t,["codeExecution"],p),t}function xY(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const a=g(e,["candidatesTokenCount"]);a!=null&&y(t,["responseTokenCount"],a);const l=g(e,["toolUsePromptTokenCount"]);l!=null&&y(t,["toolUsePromptTokenCount"],l);const s=g(e,["thoughtsTokenCount"]);s!=null&&y(t,["thoughtsTokenCount"],s);const c=g(e,["totalTokenCount"]);c!=null&&y(t,["totalTokenCount"],c);const d=g(e,["promptTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(E=>E)),y(t,["promptTokensDetails"],w)}const f=g(e,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(E=>E)),y(t,["cacheTokensDetails"],w)}const p=g(e,["candidatesTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(E=>E)),y(t,["responseTokensDetails"],w)}const h=g(e,["toolUsePromptTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(E=>E)),y(t,["toolUsePromptTokensDetails"],w)}const x=g(e,["trafficType"]);return x!=null&&y(t,["trafficType"],x),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SY(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);n!=null&&y(t,["data"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function wY(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],AY(r));const a=g(e,["tokenCount"]);a!=null&&y(t,["tokenCount"],a);const l=g(e,["finishReason"]);l!=null&&y(t,["finishReason"],l);const s=g(e,["urlContextMetadata"]);s!=null&&y(t,["urlContextMetadata"],s);const c=g(e,["avgLogprobs"]);c!=null&&y(t,["avgLogprobs"],c);const d=g(e,["groundingMetadata"]);d!=null&&y(t,["groundingMetadata"],d);const f=g(e,["index"]);f!=null&&y(t,["index"],f);const p=g(e,["logprobsResult"]);p!=null&&y(t,["logprobsResult"],p);const h=g(e,["safetyRatings"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(w=>w)),y(t,["safetyRatings"],x)}return t}function AY(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["citations"],r)}return t}function EY(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["contents"]);if(a!=null){let l=br(a);Array.isArray(l)&&(l=l.map(s=>s)),y(n,["contents"],l)}return n}function TY(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["tokensInfo"],a)}return t}function CY(e){const t={},n=g(e,["values"]);n!=null&&y(t,["values"],n);const r=g(e,["statistics"]);return r!=null&&y(t,["statistics"],_Y(r)),t}function _Y(e){const t={},n=g(e,["truncated"]);n!=null&&y(t,["truncated"],n);const r=g(e,["token_count"]);return r!=null&&y(t,["tokenCount"],r),t}function Dd(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>OJ(l))),y(t,["parts"],a)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function NY(e){const t={},n=g(e,["controlType"]);n!=null&&y(t,["controlType"],n);const r=g(e,["enableControlImageComputation"]);return r!=null&&y(t,["computeControl"],r),t}function MY(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function DY(e,t){const n={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],hn(r));const a=g(e,["tools"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>WP(c))),y(t,["tools"],s)}const l=g(e,["generationConfig"]);return t!==void 0&&l!=null&&y(t,["generationConfig"],bJ(l)),n}function PY(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["contents"]);if(a!=null){let s=br(a);Array.isArray(s)&&(s=s.map(c=>Dd(c))),y(n,["contents"],s)}const l=g(t,["config"]);return l!=null&&MY(l),n}function OY(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["contents"]);if(a!=null){let s=br(a);Array.isArray(s)&&(s=s.map(c=>c)),y(n,["contents"],s)}const l=g(t,["config"]);return l!=null&&DY(l,n),n}function RY(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);r!=null&&y(t,["totalTokens"],r);const a=g(e,["cachedContentTokenCount"]);return a!=null&&y(t,["cachedContentTokenCount"],a),t}function IY(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);return r!=null&&y(t,["totalTokens"],r),t}function kY(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],We(e,r)),n}function jY(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],We(e,r)),n}function LY(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function UY(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function qY(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const l=g(e,["numberOfImages"]);t!==void 0&&l!=null&&y(t,["parameters","sampleCount"],l);const s=g(e,["aspectRatio"]);t!==void 0&&s!=null&&y(t,["parameters","aspectRatio"],s);const c=g(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=g(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const p=g(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const h=g(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&y(t,["parameters","includeSafetyAttributes"],h);const x=g(e,["includeRaiReason"]);t!==void 0&&x!=null&&y(t,["parameters","includeRaiReason"],x);const w=g(e,["language"]);t!==void 0&&w!=null&&y(t,["parameters","language"],w);const E=g(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const A=g(e,["outputCompressionQuality"]);t!==void 0&&A!=null&&y(t,["parameters","outputOptions","compressionQuality"],A);const C=g(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const N=g(e,["labels"]);t!==void 0&&N!=null&&y(t,["labels"],N);const R=g(e,["editMode"]);t!==void 0&&R!=null&&y(t,["parameters","editMode"],R);const P=g(e,["baseSteps"]);return t!==void 0&&P!=null&&y(t,["parameters","editConfig","baseSteps"],P),n}function BY(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=g(t,["referenceImages"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>UJ(d))),y(n,["instances[0]","referenceImages"],c)}const s=g(t,["config"]);return s!=null&&qY(s,n),n}function zY(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Pd(l))),y(t,["generatedImages"],a)}return t}function HY(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const l=g(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&y(t,["requests[]","outputDimensionality"],l),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function GY(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["instances[]","task_type"],r);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["instances[]","title"],a);const l=g(e,["outputDimensionality"]);t!==void 0&&l!=null&&y(t,["parameters","outputDimensionality"],l);const s=g(e,["mimeType"]);t!==void 0&&s!=null&&y(t,["instances[]","mimeType"],s);const c=g(e,["autoTruncate"]);return t!==void 0&&c!=null&&y(t,["parameters","autoTruncate"],c),n}function $Y(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["contents"]);if(a!=null){let c=J0(e,a);Array.isArray(c)&&(c=c.map(d=>d)),y(n,["requests[]","content"],c)}const l=g(t,["config"]);l!=null&&HY(l,n);const s=g(t,["model"]);return s!==void 0&&y(n,["requests[]","model"],We(e,s)),n}function VY(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["contents"]);if(a!=null){let s=J0(e,a);Array.isArray(s)&&(s=s.map(c=>c)),y(n,["instances[]","content"],s)}const l=g(t,["config"]);return l!=null&&GY(l,n),n}function FY(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>s)),y(t,["embeddings"],l)}const a=g(e,["metadata"]);return a!=null&&y(t,["metadata"],a),t}function KY(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>CY(s))),y(t,["embeddings"],l)}const a=g(e,["metadata"]);return a!=null&&y(t,["metadata"],a),t}function YY(e){const t={},n=g(e,["endpoint"]);n!=null&&y(t,["name"],n);const r=g(e,["deployedModelId"]);return r!=null&&y(t,["deployedModelId"],r),t}function JY(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function XY(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const l=g(e,["parametersJsonSchema"]);l!=null&&y(t,["parametersJsonSchema"],l);const s=g(e,["response"]);s!=null&&y(t,["response"],s);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function WY(e,t,n){const r={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],Dd(hn(a)));const l=g(t,["temperature"]);l!=null&&y(r,["temperature"],l);const s=g(t,["topP"]);s!=null&&y(r,["topP"],s);const c=g(t,["topK"]);c!=null&&y(r,["topK"],c);const d=g(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const p=g(t,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const h=g(t,["responseLogprobs"]);h!=null&&y(r,["responseLogprobs"],h);const x=g(t,["logprobs"]);x!=null&&y(r,["logprobs"],x);const w=g(t,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const E=g(t,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const A=g(t,["seed"]);A!=null&&y(r,["seed"],A);const C=g(t,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const N=g(t,["responseSchema"]);N!=null&&y(r,["responseSchema"],X0(N));const R=g(t,["responseJsonSchema"]);if(R!=null&&y(r,["responseJsonSchema"],R),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let G=P;Array.isArray(G)&&(G=G.map(V=>qJ(V))),y(n,["safetySettings"],G)}const M=g(t,["tools"]);if(n!==void 0&&M!=null){let G=Ml(M);Array.isArray(G)&&(G=G.map(V=>VJ(Nl(V)))),y(n,["tools"],G)}const I=g(t,["toolConfig"]);if(n!==void 0&&I!=null&&y(n,["toolConfig"],I),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=g(t,["cachedContent"]);n!==void 0&&k!=null&&y(n,["cachedContent"],Di(e,k));const j=g(t,["responseModalities"]);j!=null&&y(r,["responseModalities"],j);const q=g(t,["mediaResolution"]);q!=null&&y(r,["mediaResolution"],q);const $=g(t,["speechConfig"]);if($!=null&&y(r,["speechConfig"],W0($)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=g(t,["thinkingConfig"]);te!=null&&y(r,["thinkingConfig"],te);const K=g(t,["imageConfig"]);return K!=null&&y(r,["imageConfig"],K),r}function ZY(e,t,n){const r={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],hn(a));const l=g(t,["temperature"]);l!=null&&y(r,["temperature"],l);const s=g(t,["topP"]);s!=null&&y(r,["topP"],s);const c=g(t,["topK"]);c!=null&&y(r,["topK"],c);const d=g(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const p=g(t,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const h=g(t,["responseLogprobs"]);h!=null&&y(r,["responseLogprobs"],h);const x=g(t,["logprobs"]);x!=null&&y(r,["logprobs"],x);const w=g(t,["presencePenalty"]);w!=null&&y(r,["presencePenalty"],w);const E=g(t,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const A=g(t,["seed"]);A!=null&&y(r,["seed"],A);const C=g(t,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const N=g(t,["responseSchema"]);N!=null&&y(r,["responseSchema"],X0(N));const R=g(t,["responseJsonSchema"]);R!=null&&y(r,["responseJsonSchema"],R);const P=g(t,["routingConfig"]);P!=null&&y(r,["routingConfig"],P);const M=g(t,["modelSelectionConfig"]);M!=null&&y(r,["modelConfig"],M);const I=g(t,["safetySettings"]);if(n!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(ne=>ne)),y(n,["safetySettings"],B)}const k=g(t,["tools"]);if(n!==void 0&&k!=null){let B=Ml(k);Array.isArray(B)&&(B=B.map(ne=>WP(Nl(ne)))),y(n,["tools"],B)}const j=g(t,["toolConfig"]);n!==void 0&&j!=null&&y(n,["toolConfig"],j);const q=g(t,["labels"]);n!==void 0&&q!=null&&y(n,["labels"],q);const $=g(t,["cachedContent"]);n!==void 0&&$!=null&&y(n,["cachedContent"],Di(e,$));const te=g(t,["responseModalities"]);te!=null&&y(r,["responseModalities"],te);const K=g(t,["mediaResolution"]);K!=null&&y(r,["mediaResolution"],K);const G=g(t,["speechConfig"]);G!=null&&y(r,["speechConfig"],XP(W0(G)));const V=g(t,["audioTimestamp"]);V!=null&&y(r,["audioTimestamp"],V);const ae=g(t,["thinkingConfig"]);ae!=null&&y(r,["thinkingConfig"],ae);const me=g(t,["imageConfig"]);return me!=null&&y(r,["imageConfig"],me),r}function w_(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["contents"]);if(a!=null){let s=br(a);Array.isArray(s)&&(s=s.map(c=>Dd(c))),y(n,["contents"],s)}const l=g(t,["config"]);return l!=null&&y(n,["generationConfig"],WY(e,l,n)),n}function A_(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["contents"]);if(a!=null){let s=br(a);Array.isArray(s)&&(s=s.map(c=>c)),y(n,["contents"],s)}const l=g(t,["config"]);return l!=null&&y(n,["generationConfig"],ZY(e,l,n)),n}function E_(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>wY(f))),y(t,["candidates"],d)}const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const s=g(e,["responseId"]);s!=null&&y(t,["responseId"],s);const c=g(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function T_(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),y(t,["candidates"],f)}const a=g(e,["createTime"]);a!=null&&y(t,["createTime"],a);const l=g(e,["modelVersion"]);l!=null&&y(t,["modelVersion"],l);const s=g(e,["promptFeedback"]);s!=null&&y(t,["promptFeedback"],s);const c=g(e,["responseId"]);c!=null&&y(t,["responseId"],c);const d=g(e,["usageMetadata"]);return d!=null&&y(t,["usageMetadata"],d),t}function QY(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const l=g(e,["guidanceScale"]);if(t!==void 0&&l!=null&&y(t,["parameters","guidanceScale"],l),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&y(t,["parameters","safetySetting"],s);const c=g(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const d=g(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&y(t,["parameters","includeSafetyAttributes"],d);const f=g(e,["includeRaiReason"]);t!==void 0&&f!=null&&y(t,["parameters","includeRaiReason"],f);const p=g(e,["language"]);t!==void 0&&p!=null&&y(t,["parameters","language"],p);const h=g(e,["outputMimeType"]);t!==void 0&&h!=null&&y(t,["parameters","outputOptions","mimeType"],h);const x=g(e,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&y(t,["parameters","outputOptions","compressionQuality"],x),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=g(e,["imageSize"]);if(t!==void 0&&w!=null&&y(t,["parameters","sampleImageSize"],w),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function eJ(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const l=g(e,["numberOfImages"]);t!==void 0&&l!=null&&y(t,["parameters","sampleCount"],l);const s=g(e,["aspectRatio"]);t!==void 0&&s!=null&&y(t,["parameters","aspectRatio"],s);const c=g(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=g(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const p=g(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const h=g(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&y(t,["parameters","includeSafetyAttributes"],h);const x=g(e,["includeRaiReason"]);t!==void 0&&x!=null&&y(t,["parameters","includeRaiReason"],x);const w=g(e,["language"]);t!==void 0&&w!=null&&y(t,["parameters","language"],w);const E=g(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const A=g(e,["outputCompressionQuality"]);t!==void 0&&A!=null&&y(t,["parameters","outputOptions","compressionQuality"],A);const C=g(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const N=g(e,["labels"]);t!==void 0&&N!=null&&y(t,["labels"],N);const R=g(e,["imageSize"]);t!==void 0&&R!=null&&y(t,["parameters","sampleImageSize"],R);const P=g(e,["enhancePrompt"]);return t!==void 0&&P!=null&&y(t,["parameters","enhancePrompt"],P),n}function tJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=g(t,["config"]);return l!=null&&QY(l,n),n}function nJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=g(t,["config"]);return l!=null&&eJ(l,n),n}function rJ(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>hJ(s))),y(t,["generatedImages"],l)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(t,["positivePromptSafetyAttributes"],YP(a)),t}function iJ(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(s=>Pd(s))),y(t,["generatedImages"],l)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(t,["positivePromptSafetyAttributes"],JP(a)),t}function aJ(e,t){const n={},r=g(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=g(e,["durationSeconds"]);if(t!==void 0&&a!=null&&y(t,["parameters","durationSeconds"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const s=g(e,["resolution"]);t!==void 0&&s!=null&&y(t,["parameters","resolution"],s);const c=g(e,["personGeneration"]);if(t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(e,["negativePrompt"]);t!==void 0&&d!=null&&y(t,["parameters","negativePrompt"],d);const f=g(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&y(t,["parameters","enhancePrompt"],f),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=g(e,["lastFrame"]);t!==void 0&&p!=null&&y(t,["instances[0]","lastFrame"],Od(p));const h=g(e,["referenceImages"]);if(t!==void 0&&h!=null){let x=h;Array.isArray(x)&&(x=x.map(w=>iX(w))),y(t,["instances[0]","referenceImages"],x)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function oJ(e,t){const n={},r=g(e,["numberOfVideos"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=g(e,["fps"]);t!==void 0&&l!=null&&y(t,["parameters","fps"],l);const s=g(e,["durationSeconds"]);t!==void 0&&s!=null&&y(t,["parameters","durationSeconds"],s);const c=g(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const d=g(e,["aspectRatio"]);t!==void 0&&d!=null&&y(t,["parameters","aspectRatio"],d);const f=g(e,["resolution"]);t!==void 0&&f!=null&&y(t,["parameters","resolution"],f);const p=g(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const h=g(e,["pubsubTopic"]);t!==void 0&&h!=null&&y(t,["parameters","pubsubTopic"],h);const x=g(e,["negativePrompt"]);t!==void 0&&x!=null&&y(t,["parameters","negativePrompt"],x);const w=g(e,["enhancePrompt"]);t!==void 0&&w!=null&&y(t,["parameters","enhancePrompt"],w);const E=g(e,["generateAudio"]);t!==void 0&&E!=null&&y(t,["parameters","generateAudio"],E);const A=g(e,["lastFrame"]);t!==void 0&&A!=null&&y(t,["instances[0]","lastFrame"],Ir(A));const C=g(e,["referenceImages"]);if(t!==void 0&&C!=null){let P=C;Array.isArray(P)&&(P=P.map(M=>aX(M))),y(t,["instances[0]","referenceImages"],P)}const N=g(e,["mask"]);t!==void 0&&N!=null&&y(t,["instances[0]","mask"],rX(N));const R=g(e,["compressionQuality"]);return t!==void 0&&R!=null&&y(t,["parameters","compressionQuality"],R),n}function lJ(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const l=g(e,["error"]);l!=null&&y(t,["error"],l);const s=g(e,["response","generateVideoResponse"]);return s!=null&&y(t,["response"],fJ(s)),t}function sJ(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const l=g(e,["error"]);l!=null&&y(t,["error"],l);const s=g(e,["response"]);return s!=null&&y(t,["response"],dJ(s)),t}function uJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=g(t,["image"]);l!=null&&y(n,["instances[0]","image"],Od(l));const s=g(t,["video"]);s!=null&&y(n,["instances[0]","video"],ZP(s));const c=g(t,["source"]);c!=null&&mJ(c,n);const d=g(t,["config"]);return d!=null&&aJ(d,n),n}function cJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=g(t,["image"]);l!=null&&y(n,["instances[0]","image"],Ir(l));const s=g(t,["video"]);s!=null&&y(n,["instances[0]","video"],QP(s));const c=g(t,["source"]);c!=null&&pJ(c,n);const d=g(t,["config"]);return d!=null&&oJ(d,n),n}function fJ(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>vJ(s))),y(t,["generatedVideos"],l)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function dJ(e){const t={},n=g(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>yJ(s))),y(t,["generatedVideos"],l)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function mJ(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Od(a));const l=g(e,["video"]);return t!==void 0&&l!=null&&y(t,["instances[0]","video"],ZP(l)),n}function pJ(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Ir(a));const l=g(e,["video"]);return t!==void 0&&l!=null&&y(t,["instances[0]","video"],QP(l)),n}function hJ(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],EJ(n));const r=g(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const a=g(e,["_self"]);return a!=null&&y(t,["safetyAttributes"],YP(a)),t}function Pd(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],KP(n));const r=g(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const a=g(e,["_self"]);a!=null&&y(t,["safetyAttributes"],JP(a));const l=g(e,["prompt"]);return l!=null&&y(t,["enhancedPrompt"],l),t}function gJ(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["mask"],KP(n));const r=g(e,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["labels"],a)}return t}function vJ(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],tX(n)),t}function yJ(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],nX(n)),t}function bJ(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["audioTimestamp"]);r!=null&&y(t,["audioTimestamp"],r);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const s=g(e,["frequencyPenalty"]);s!=null&&y(t,["frequencyPenalty"],s);const c=g(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const f=g(e,["mediaResolution"]);f!=null&&y(t,["mediaResolution"],f);const p=g(e,["presencePenalty"]);p!=null&&y(t,["presencePenalty"],p);const h=g(e,["responseJsonSchema"]);h!=null&&y(t,["responseJsonSchema"],h);const x=g(e,["responseLogprobs"]);x!=null&&y(t,["responseLogprobs"],x);const w=g(e,["responseMimeType"]);w!=null&&y(t,["responseMimeType"],w);const E=g(e,["responseModalities"]);E!=null&&y(t,["responseModalities"],E);const A=g(e,["responseSchema"]);A!=null&&y(t,["responseSchema"],A);const C=g(e,["routingConfig"]);C!=null&&y(t,["routingConfig"],C);const N=g(e,["seed"]);N!=null&&y(t,["seed"],N);const R=g(e,["speechConfig"]);R!=null&&y(t,["speechConfig"],XP(R));const P=g(e,["stopSequences"]);P!=null&&y(t,["stopSequences"],P);const M=g(e,["temperature"]);M!=null&&y(t,["temperature"],M);const I=g(e,["thinkingConfig"]);I!=null&&y(t,["thinkingConfig"],I);const k=g(e,["topK"]);k!=null&&y(t,["topK"],k);const j=g(e,["topP"]);if(j!=null&&y(t,["topP"],j),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function xJ(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],We(e,r)),n}function SJ(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],We(e,r)),n}function wJ(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function AJ(e){const t={},n=g(e,["timeRangeFilter"]);if(n!=null&&y(t,["timeRangeFilter"],n),g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function EJ(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],va(n));const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function KP(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["imageBytes"],va(r));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function Od(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],va(n));const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Ir(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["imageBytes"]);r!=null&&y(t,["bytesBase64Encoded"],va(r));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function TJ(e,t,n){const r={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const l=g(t,["pageToken"]);n!==void 0&&l!=null&&y(n,["_query","pageToken"],l);const s=g(t,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const c=g(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],qP(e,c)),r}function CJ(e,t,n){const r={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const l=g(t,["pageToken"]);n!==void 0&&l!=null&&y(n,["_query","pageToken"],l);const s=g(t,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const c=g(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],qP(e,c)),r}function _J(e,t){const n={},r=g(t,["config"]);return r!=null&&TJ(e,r,n),n}function NJ(e,t){const n={},r=g(t,["config"]);return r!=null&&CJ(e,r,n),n}function MJ(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let l=BP(a);Array.isArray(l)&&(l=l.map(s=>zv(s))),y(t,["models"],l)}return t}function DJ(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let l=BP(a);Array.isArray(l)&&(l=l.map(s=>Hv(s))),y(t,["models"],l)}return t}function PJ(e){const t={},n=g(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const r=g(e,["segmentationClasses"]);r!=null&&y(t,["maskClasses"],r);const a=g(e,["maskDilation"]);return a!=null&&y(t,["dilation"],a),t}function zv(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const a=g(e,["description"]);a!=null&&y(t,["description"],a);const l=g(e,["version"]);l!=null&&y(t,["version"],l);const s=g(e,["_self"]);s!=null&&y(t,["tunedModelInfo"],FJ(s));const c=g(e,["inputTokenLimit"]);c!=null&&y(t,["inputTokenLimit"],c);const d=g(e,["outputTokenLimit"]);d!=null&&y(t,["outputTokenLimit"],d);const f=g(e,["supportedGenerationMethods"]);return f!=null&&y(t,["supportedActions"],f),t}function Hv(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const a=g(e,["description"]);a!=null&&y(t,["description"],a);const l=g(e,["versionId"]);l!=null&&y(t,["version"],l);const s=g(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(x=>YY(x))),y(t,["endpoints"],h)}const c=g(e,["labels"]);c!=null&&y(t,["labels"],c);const d=g(e,["_self"]);d!=null&&y(t,["tunedModelInfo"],KJ(d));const f=g(e,["defaultCheckpointId"]);f!=null&&y(t,["defaultCheckpointId"],f);const p=g(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(x=>x)),y(t,["checkpoints"],h)}return t}function OJ(e){const t={},n=g(e,["videoMetadata"]);n!=null&&y(t,["videoMetadata"],n);const r=g(e,["thought"]);r!=null&&y(t,["thought"],r);const a=g(e,["inlineData"]);a!=null&&y(t,["inlineData"],SY(a));const l=g(e,["fileData"]);l!=null&&y(t,["fileData"],JY(l));const s=g(e,["thoughtSignature"]);s!=null&&y(t,["thoughtSignature"],s);const c=g(e,["functionCall"]);c!=null&&y(t,["functionCall"],c);const d=g(e,["codeExecutionResult"]);d!=null&&y(t,["codeExecutionResult"],d);const f=g(e,["executableCode"]);f!=null&&y(t,["executableCode"],f);const p=g(e,["functionResponse"]);p!=null&&y(t,["functionResponse"],p);const h=g(e,["text"]);return h!=null&&y(t,["text"],h),t}function RJ(e){const t={},n=g(e,["productImage"]);return n!=null&&y(t,["image"],Ir(n)),t}function IJ(e,t){const n={},r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const a=g(e,["baseSteps"]);t!==void 0&&a!=null&&y(t,["parameters","editConfig","baseSteps"],a);const l=g(e,["outputGcsUri"]);t!==void 0&&l!=null&&y(t,["parameters","storageUri"],l);const s=g(e,["seed"]);t!==void 0&&s!=null&&y(t,["parameters","seed"],s);const c=g(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&y(t,["parameters","safetySetting"],c);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const f=g(e,["addWatermark"]);t!==void 0&&f!=null&&y(t,["parameters","addWatermark"],f);const p=g(e,["outputMimeType"]);t!==void 0&&p!=null&&y(t,["parameters","outputOptions","mimeType"],p);const h=g(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&y(t,["parameters","outputOptions","compressionQuality"],h);const x=g(e,["enhancePrompt"]);t!==void 0&&x!=null&&y(t,["parameters","enhancePrompt"],x);const w=g(e,["labels"]);return t!==void 0&&w!=null&&y(t,["labels"],w),n}function kJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["source"]);a!=null&&LJ(a,n);const l=g(t,["config"]);return l!=null&&IJ(l,n),n}function jJ(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Pd(a))),y(t,["generatedImages"],r)}return t}function LJ(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const a=g(e,["personImage"]);t!==void 0&&a!=null&&y(t,["instances[0]","personImage","image"],Ir(a));const l=g(e,["productImages"]);if(t!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>RJ(c))),y(t,["instances[0]","productImages"],s)}return n}function UJ(e){const t={},n=g(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],Ir(n));const r=g(e,["referenceId"]);r!=null&&y(t,["referenceId"],r);const a=g(e,["referenceType"]);a!=null&&y(t,["referenceType"],a);const l=g(e,["maskImageConfig"]);l!=null&&y(t,["maskImageConfig"],PJ(l));const s=g(e,["controlImageConfig"]);s!=null&&y(t,["controlImageConfig"],NY(s));const c=g(e,["styleImageConfig"]);c!=null&&y(t,["styleImageConfig"],c);const d=g(e,["subjectImageConfig"]);return d!=null&&y(t,["subjectImageConfig"],d),t}function YP(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const a=g(e,["contentType"]);return a!=null&&y(t,["contentType"],a),t}function JP(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const a=g(e,["contentType"]);return a!=null&&y(t,["contentType"],a),t}function qJ(e){const t={};if(g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=g(e,["category"]);n!=null&&y(t,["category"],n);const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function BJ(e){const t={},n=g(e,["image"]);return n!=null&&y(t,["image"],Ir(n)),t}function zJ(e,t){const n={},r=g(e,["mode"]);t!==void 0&&r!=null&&y(t,["parameters","mode"],r);const a=g(e,["maxPredictions"]);t!==void 0&&a!=null&&y(t,["parameters","maxPredictions"],a);const l=g(e,["confidenceThreshold"]);t!==void 0&&l!=null&&y(t,["parameters","confidenceThreshold"],l);const s=g(e,["maskDilation"]);t!==void 0&&s!=null&&y(t,["parameters","maskDilation"],s);const c=g(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&y(t,["parameters","binaryColorThreshold"],c);const d=g(e,["labels"]);return t!==void 0&&d!=null&&y(t,["labels"],d),n}function HJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["source"]);a!=null&&$J(a,n);const l=g(t,["config"]);return l!=null&&zJ(l,n),n}function GJ(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>gJ(a))),y(t,["generatedMasks"],r)}return t}function $J(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Ir(a));const l=g(e,["scribbleImage"]);return t!==void 0&&l!=null&&y(t,["instances[0]","scribble"],BJ(l)),n}function XP(e){const t={},n=g(e,["voiceConfig"]);if(n!=null&&y(t,["voiceConfig"],n),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=g(e,["languageCode"]);return r!=null&&y(t,["languageCode"],r),t}function VJ(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),y(t,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&y(t,["googleSearch"],AJ(r));const a=g(e,["googleSearchRetrieval"]);if(a!=null&&y(t,["googleSearchRetrieval"],a),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],wJ(l));const s=g(e,["urlContext"]);s!=null&&y(t,["urlContext"],s);const c=g(e,["computerUse"]);c!=null&&y(t,["computerUse"],c);const d=g(e,["codeExecution"]);return d!=null&&y(t,["codeExecution"],d),t}function WP(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(x=>XY(x))),y(t,["functionDeclarations"],h)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const a=g(e,["googleSearch"]);a!=null&&y(t,["googleSearch"],a);const l=g(e,["googleSearchRetrieval"]);l!=null&&y(t,["googleSearchRetrieval"],l);const s=g(e,["enterpriseWebSearch"]);s!=null&&y(t,["enterpriseWebSearch"],s);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["urlContext"]);d!=null&&y(t,["urlContext"],d);const f=g(e,["computerUse"]);f!=null&&y(t,["computerUse"],f);const p=g(e,["codeExecution"]);return p!=null&&y(t,["codeExecution"],p),t}function FJ(e){const t={},n=g(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&y(t,["createTime"],r);const a=g(e,["updateTime"]);return a!=null&&y(t,["updateTime"],a),t}function KJ(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&y(t,["createTime"],r);const a=g(e,["updateTime"]);return a!=null&&y(t,["updateTime"],a),t}function YJ(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const l=g(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&y(t,["defaultCheckpointId"],l),n}function JJ(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const l=g(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&y(t,["defaultCheckpointId"],l),n}function XJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","name"],We(e,r));const a=g(t,["config"]);return a!=null&&YJ(a,n),n}function WJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["config"]);return a!=null&&JJ(a,n),n}function ZJ(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const a=g(e,["includeRaiReason"]);t!==void 0&&a!=null&&y(t,["parameters","includeRaiReason"],a);const l=g(e,["outputMimeType"]);t!==void 0&&l!=null&&y(t,["parameters","outputOptions","mimeType"],l);const s=g(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&y(t,["parameters","outputOptions","compressionQuality"],s);const c=g(e,["enhanceInputImage"]);t!==void 0&&c!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],c);const d=g(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=g(e,["labels"]);t!==void 0&&f!=null&&y(t,["labels"],f);const p=g(e,["numberOfImages"]);t!==void 0&&p!=null&&y(t,["parameters","sampleCount"],p);const h=g(e,["mode"]);return t!==void 0&&h!=null&&y(t,["parameters","mode"],h),n}function QJ(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],We(e,r));const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],Ir(a));const l=g(t,["upscaleFactor"]);l!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],l);const s=g(t,["config"]);return s!=null&&ZJ(s,n),n}function eX(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Pd(l))),y(t,["generatedImages"],a)}return t}function tX(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],va(r));const a=g(e,["encoding"]);return a!=null&&y(t,["mimeType"],a),t}function nX(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],va(r));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function rX(e){const t={},n=g(e,["image"]);n!=null&&y(t,["_self"],Ir(n));const r=g(e,["maskMode"]);return r!=null&&y(t,["maskMode"],r),t}function iX(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],Od(n));const r=g(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function aX(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],Ir(n));const r=g(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function ZP(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["videoBytes"]);r!=null&&y(t,["encodedVideo"],va(r));const a=g(e,["mimeType"]);return a!=null&&y(t,["encoding"],a),t}function QP(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["videoBytes"]);r!=null&&y(t,["bytesBase64Encoded"],va(r));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oX="Content-Type",lX="X-Server-Timeout",sX="User-Agent",Gv="x-goog-api-client",uX="1.27.0",cX=`google-genai-sdk/${uX}`,fX="v1beta1",dX="v1beta",C_=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class mX{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:fX,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:dX,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[s,c]of Object.entries(t.queryParams))a.searchParams.append(s,String(c));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,a.toString(),t.abortSignal),this.unaryApiCall(a,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[a,l]of Object.entries(n))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,a.toString(),t.abortSignal),this.streamApiCall(a,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,a){if(n&&n.timeout||a){const l=new AbortController,s=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>l.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),t.signal=s}return n&&n.extraBody!==null&&pX(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await __(a),new Uv(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await __(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var n;return il(this,arguments,function*(){const a=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";for(;;){const{done:c,value:d}=yield yt(a.read());if(c){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=l.decode(d,{stream:!0});try{const h=JSON.parse(f);if("error"in h){const x=JSON.parse(JSON.stringify(h.error)),w=x.status,E=x.code,A=`got status: ${w}. ${JSON.stringify(h)}`;if(E>=400&&E<600)throw new Md({message:A,status:E})}}catch(h){if(h.name==="ApiError")throw h}s+=f;let p=s.match(C_);for(;p;){const h=p[1];try{const x=new Response(h,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield yt(new Uv(x)),s=s.slice(p[0].length),p=s.match(C_)}catch(x){throw new Error(`exception parsing stream chunk ${h}. ${x}`)}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=cX+" "+this.clientOptions.userAgentExtra;return t[sX]=n,t[Gv]=n,t[oX]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[a,l]of Object.entries(t.headers))r.append(a,l);t.timeout&&t.timeout>0&&r.append(lX,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}async uploadFile(t,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,s=await l.stat(t);a.sizeBytes=String(s.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=c;const d=await this.fetchUploadUrl(a,n);return l.upload(t,d,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},s=await this.request({path:Ae("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:a});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function __(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(r);throw n>=400&&n<600?new Md({message:a,status:n}):new Error(a)}}function pX(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,s){const c=Object.assign({},l);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const f=s[d],p=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?c[d]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const a=r(n,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hX="mcp_used/unknown";let gX=!1;function eO(e){for(const t of e)if(vX(t)||typeof t=="object"&&"inputSchema"in t)return!0;return gX}function tO(e){var t;const n=(t=e[Gv])!==null&&t!==void 0?t:"";e[Gv]=(n+` ${hX}`).trimStart()}function vX(e){return e!==null&&typeof e=="object"&&e instanceof Q0}function yX(e,t=100){return il(this,arguments,function*(){let r,a=0;for(;a<t;){const l=yield yt(e.listTools({cursor:r}));for(const s of l.tools)yield yield yt(s),a++;if(!l.nextCursor)break;r=l.nextCursor}})}class Q0{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Q0(t,n)}async initialize(){var t,n,r,a;if(this.mcpTools.length>0)return;const l={},s=[];for(const p of this.mcpClients)try{for(var c=!0,d=(n=void 0,Ls(yX(p))),f;f=await d.next(),t=f.done,!t;c=!0){a=f.value,c=!1;const h=a;s.push(h);const x=h.name;if(l[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);l[x]=p}}catch(h){n={error:h}}finally{try{!c&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),AF(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const s=await a.callTool({name:r.name,arguments:r.args},void 0,l);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bX(e,t,n){const r=new hF;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(r,a),t(r)}class xX{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),s=AX(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const p=new Promise(P=>{f=P}),h=t.callbacks,x=function(){f({})},w=this.apiClient,E={onopen:x,onmessage:P=>{bX(w,h.onmessage,P)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(P){}},A=this.webSocketFactory.create(d,wX(s),E);A.connect(),await p;const R={setup:{model:We(this.apiClient,t.model)}};return A.send(JSON.stringify(R)),new SX(A,this.apiClient)}}class SX{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=dY(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=fY(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Zo.PLAY)}pause(){this.sendPlaybackControl(Zo.PAUSE)}stop(){this.sendPlaybackControl(Zo.STOP)}resetContext(){this.sendPlaybackControl(Zo.RESET_CONTEXT)}close(){this.conn.close()}}function wX(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function AX(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TX(e,t,n){const r=new pF;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const l=JSON.parse(a);if(e.isVertexAI()){const s=hY(l);Object.assign(r,s)}else Object.assign(r,l);t(r)}class CX{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new xX(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,a,l,s,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&eO(t.config.tools)&&tO(h);const x=DX(h);if(this.apiClient.isVertexAI())p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,p);else{const $=this.apiClient.getApiKey();let te="BidiGenerateContent",K="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",K="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${te}?${K}=${$}`}let w=()=>{};const E=new Promise($=>{w=$}),A=t.callbacks,C=function(){var $;($=A==null?void 0:A.onopen)===null||$===void 0||$.call(A),w({})},N=this.apiClient,R={onopen:C,onmessage:$=>{TX(N,A.onmessage,$)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function($){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function($){}},P=this.webSocketFactory.create(p,MX(x),R);P.connect(),await E;let M=We(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const $=this.apiClient.getProject(),te=this.apiClient.getLocation();M=`projects/${$}/locations/${te}/`+M}let I={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[zf.AUDIO]}:t.config.responseModalities=[zf.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(c=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[],j=[];for(const $ of k)if(this.isCallableTool($)){const te=$;j.push(await te.tool())}else j.push($);j.length>0&&(t.config.tools=j);const q={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=cY(this.apiClient,q):I=uY(this.apiClient,q),delete I.config,P.send(JSON.stringify(I)),new NX(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const _X={turnComplete:!0};class NX{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=br(n.turns),t.isVertexAI()||(r=r.map(a=>Dd(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(EX)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},_X),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:pY(t)}:n={realtimeInput:mY(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function MX(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function DX(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N_=10;function M_(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(al(s)){a=!0;break}if(!a)return!0;const l=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function al(e){return"callTool"in e&&typeof e.callTool=="function"}function PX(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>al(a)))!==null&&r!==void 0?r:!1}function OX(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>!al(a)))!==null&&r!==void 0?r:!1}function D_(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RX extends uo{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,a,l,s,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!PX(n)||M_(n.config))return await this.generateContentInternal(d);if(OX(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,p;const h=br(d.contents),x=(l=(a=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:N_;let w=0;for(;w<x&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,A=[];for(const C of(c=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[])if(al(C)){const R=await C.callTool(f.functionCalls);A.push(...R)}w++,p={role:"user",parts:A},d.contents=br(d.contents),d.contents.push(E),d.contents.push(p),D_(d.config)&&(h.push(E),h.push(p))}return D_(d.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),M_(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let l;const s=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((a=d==null?void 0:d.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=d==null?void 0:d.safetyAttributes:s.push(d);let c;return l?c={generatedImages:s,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new bu(oo.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var r,a,l,s,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(l=n.source)===null||l===void 0?void 0:l.video)===null||s===void 0)&&s.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,a;const l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;const s=await Promise.all(l.map(async d=>al(d)?await d.tool():d)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(c.config.tools=s,t.config&&t.config.tools&&eO(t.config.tools)){const d=(a=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),tO(f),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(t){var n,r,a;const l=new Map;for(const s of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(al(s)){const c=s,d=await c.tool();for(const f of(a=d.functionDeclarations)!==null&&a!==void 0?a:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,c)}}return l}async processAfcStream(t){var n,r,a;const l=(a=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:N_;let s=!1,c=0;const d=await this.initAfcToolsMap(t);return(function(f,p,h){var x,w;return il(this,arguments,function*(){for(var E,A,C,N;c<l;){s&&(c++,s=!1);const I=yield yt(f.processParamsMaybeAddMcpUsage(h)),k=yield yt(f.generateContentStreamInternal(I)),j=[],q=[];try{for(var R=!0,P=(A=void 0,Ls(k)),M;M=yield yt(P.next()),E=M.done,!E;R=!0){N=M.value,R=!1;const $=N;if(yield yield yt($),$.candidates&&(!((x=$.candidates[0])===null||x===void 0)&&x.content)){q.push($.candidates[0].content);for(const te of(w=$.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(c<l&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(te.functionCall.name)){const K=yield yt(p.get(te.functionCall.name).callTool([te.functionCall]));j.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch($){A={error:$}}finally{try{!R&&!E&&(C=P.return)&&(yield yt(C.call(P)))}finally{if(A)throw A.error}}if(j.length>0){s=!0;const $=new Os;$.candidates=[{content:{role:"user",parts:j}}],yield yield yt($);const te=[];te.push(...q),te.push({role:"user",parts:j});const K=br(h.contents).concat(te);h.contents=K}else break}})})(this,d,t)}async generateContentInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=A_(this.apiClient,t);return c=Ae("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=T_(p),x=new Os;return Object.assign(x,h),x})}else{const f=w_(this.apiClient,t);return c=Ae("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=E_(p),x=new Os;return Object.assign(x,h),x})}}async generateContentStreamInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=A_(this.apiClient,t);return c=Ae("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return il(this,arguments,function*(){var x,w,E,A;try{for(var C=!0,N=Ls(h),R;R=yield yt(N.next()),x=R.done,!x;C=!0){A=R.value,C=!1;const P=A,M=T_(yield yt(P.json()));M.sdkHttpResponse={headers:P.headers};const I=new Os;Object.assign(I,M),yield yield yt(I)}}catch(P){w={error:P}}finally{try{!C&&!x&&(E=N.return)&&(yield yt(E.call(N)))}finally{if(w)throw w.error}}})})}else{const f=w_(this.apiClient,t);return c=Ae("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),s.then(function(h){return il(this,arguments,function*(){var x,w,E,A;try{for(var C=!0,N=Ls(h),R;R=yield yt(N.next()),x=R.done,!x;C=!0){A=R.value,C=!1;const P=A,M=E_(yield yt(P.json()));M.sdkHttpResponse={headers:P.headers};const I=new Os;Object.assign(I,M),yield yield yt(I)}}catch(P){w={error:P}}finally{try{!C&&!x&&(E=N.return)&&(yield yt(E.call(N)))}finally{if(w)throw w.error}}})})}}async embedContent(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=VY(this.apiClient,t);return c=Ae("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=KY(p),x=new o_;return Object.assign(x,h),x})}else{const f=$Y(this.apiClient,t);return c=Ae("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=FY(p),x=new o_;return Object.assign(x,h),x})}}async generateImagesInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=nJ(this.apiClient,t);return c=Ae("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=iJ(p),x=new l_;return Object.assign(x,h),x})}else{const f=tJ(this.apiClient,t);return c=Ae("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=rJ(p),x=new l_;return Object.assign(x,h),x})}}async editImageInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=BY(this.apiClient,t);return l=Ae("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=zY(d),p=new oF;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=QJ(this.apiClient,t);return l=Ae("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=eX(d),p=new lF;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=kJ(this.apiClient,t);return l=Ae("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=jJ(d),p=new sF;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=HJ(this.apiClient,t);return l=Ae("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=GJ(d),p=new uF;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=SJ(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Hv(p))}else{const f=xJ(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>zv(p))}}async listInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=NJ(this.apiClient,t);return c=Ae("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=DJ(p),x=new s_;return Object.assign(x,h),x})}else{const f=_J(this.apiClient,t);return c=Ae("{models_url}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=MJ(p),x=new s_;return Object.assign(x,h),x})}}async update(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=WJ(this.apiClient,t);return c=Ae("{model}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Hv(p))}else{const f=XJ(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>zv(p))}}async delete(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=jY(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=UY(p),x=new u_;return Object.assign(x,h),x})}else{const f=kY(this.apiClient,t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=LY(p),x=new u_;return Object.assign(x,h),x})}}async countTokens(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=OY(this.apiClient,t);return c=Ae("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=IY(p),x=new c_;return Object.assign(x,h),x})}else{const f=PY(this.apiClient,t);return c=Ae("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=RY(p),x=new c_;return Object.assign(x,h),x})}}async computeTokens(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=EY(this.apiClient,t);return l=Ae("{model}:computeTokens",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const f=TY(d),p=new cF;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=cJ(this.apiClient,t);return c=Ae("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>{const h=sJ(p),x=new Hf;return Object.assign(x,h),x})}else{const f=uJ(this.apiClient,t);return c=Ae("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>{const h=lJ(p),x=new Hf;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IX extends uo{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=rF(t);return c=Ae("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s}else{const f=nF(t);return c=Ae("{operationName}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s}}async fetchPredictVideosOperationInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=J7(t);return l=Ae("{resourceName}:fetchPredictOperation",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kX(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);n!=null&&y(t,["data"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function jX(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>$X(l))),y(t,["parts"],a)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function LX(e,t,n){const r={},a=g(t,["expireTime"]);n!==void 0&&a!=null&&y(n,["expireTime"],a);const l=g(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&y(n,["newSessionExpireTime"],l);const s=g(t,["uses"]);n!==void 0&&s!=null&&y(n,["uses"],s);const c=g(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&y(n,["bidiGenerateContentSetup"],GX(e,c));const d=g(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&y(n,["fieldMask"],d),r}function UX(e,t){const n={},r=g(t,["config"]);return r!=null&&y(n,["config"],LX(e,r,n)),n}function qX(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function BX(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function zX(e){const t={},n=g(e,["timeRangeFilter"]);if(n!=null&&y(t,["timeRangeFilter"],n),g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function HX(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=g(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const s=g(e,["topP"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","topP"],s);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const p=g(e,["seed"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","seed"],p);const h=g(e,["speechConfig"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","speechConfig"],Z0(h));const x=g(e,["thinkingConfig"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","thinkingConfig"],x);const w=g(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(e,["systemInstruction"]);t!==void 0&&E!=null&&y(t,["setup","systemInstruction"],jX(hn(E)));const A=g(e,["tools"]);if(t!==void 0&&A!=null){let k=Ml(A);Array.isArray(k)&&(k=k.map(j=>FX(Nl(j)))),y(t,["setup","tools"],k)}const C=g(e,["sessionResumption"]);t!==void 0&&C!=null&&y(t,["setup","sessionResumption"],VX(C));const N=g(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&y(t,["setup","inputAudioTranscription"],N);const R=g(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","outputAudioTranscription"],R);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const M=g(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&y(t,["setup","proactivity"],I),n}function GX(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],We(e,r));const a=g(t,["config"]);return a!=null&&y(n,["config"],HX(a,n)),n}function $X(e){const t={},n=g(e,["videoMetadata"]);n!=null&&y(t,["videoMetadata"],n);const r=g(e,["thought"]);r!=null&&y(t,["thought"],r);const a=g(e,["inlineData"]);a!=null&&y(t,["inlineData"],kX(a));const l=g(e,["fileData"]);l!=null&&y(t,["fileData"],qX(l));const s=g(e,["thoughtSignature"]);s!=null&&y(t,["thoughtSignature"],s);const c=g(e,["functionCall"]);c!=null&&y(t,["functionCall"],c);const d=g(e,["codeExecutionResult"]);d!=null&&y(t,["codeExecutionResult"],d);const f=g(e,["executableCode"]);f!=null&&y(t,["executableCode"],f);const p=g(e,["functionResponse"]);p!=null&&y(t,["functionResponse"],p);const h=g(e,["text"]);return h!=null&&y(t,["text"],h),t}function VX(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function FX(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),y(t,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearch"]);r!=null&&y(t,["googleSearch"],zX(r));const a=g(e,["googleSearchRetrieval"]);if(a!=null&&y(t,["googleSearchRetrieval"],a),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],BX(l));const s=g(e,["urlContext"]);s!=null&&y(t,["urlContext"],s);const c=g(e,["computerUse"]);c!=null&&y(t,["computerUse"],c);const d=g(e,["codeExecution"]);return d!=null&&y(t,["codeExecution"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KX(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${n}.${l}`);t.push(...a)}else t.push(n)}return t.join(",")}function YX(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const l=KX(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)l?e.fieldMask=l:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];a.length>0&&(c=a.map(f=>s.includes(f)?`generationConfig.${f}`:f));const d=[];l&&d.push(l),c.length>0&&d.push(...c),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class JX extends uo{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=UX(this.apiClient,t);l=Ae("auth_tokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query;const d=YX(c,t.config);return a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XX(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function WX(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function ZX(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=g(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&y(t,["displayName"],a),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=g(e,["epochCount"]);t!==void 0&&l!=null&&y(t,["tuningTask","hyperparameters","epochCount"],l);const s=g(e,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=g(e,["batchSize"]);t!==void 0&&c!=null&&y(t,["tuningTask","hyperparameters","batchSize"],c);const d=g(e,["learningRate"]);if(t!==void 0&&d!=null&&y(t,["tuningTask","hyperparameters","learningRate"],d),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return r}function QX(e,t,n){const r={},a=g(e,["validationDataset"]);t!==void 0&&a!=null&&y(t,["supervisedTuningSpec"],pW(a));const l=g(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&y(t,["tunedModelDisplayName"],l);const s=g(e,["description"]);t!==void 0&&s!=null&&y(t,["description"],s);const c=g(e,["epochCount"]);t!==void 0&&c!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],c);const d=g(e,["learningRateMultiplier"]);t!==void 0&&d!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const f=g(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const p=g(e,["adapterSize"]);if(t!==void 0&&p!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],p),g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=g(e,["labels"]);return t!==void 0&&h!=null&&y(t,["labels"],h),r}function eW(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const a=g(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const l=g(e,["trainingDataset"]);l!=null&&y(n,["tuningTask","trainingData"],fW(l));const s=g(e,["config"]);return s!=null&&ZX(s,n),n}function tW(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const a=g(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const l=g(e,["trainingDataset"]);l!=null&&dW(l,n);const s=g(e,["config"]);return s!=null&&QX(s,n),n}function nW(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function rW(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function iW(e,t,n){const r={},a=g(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const l=g(e,["pageToken"]);t!==void 0&&l!=null&&y(t,["_query","pageToken"],l);const s=g(e,["filter"]);return t!==void 0&&s!=null&&y(t,["_query","filter"],s),r}function aW(e,t,n){const r={},a=g(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const l=g(e,["pageToken"]);t!==void 0&&l!=null&&y(t,["_query","pageToken"],l);const s=g(e,["filter"]);return t!==void 0&&s!=null&&y(t,["_query","filter"],s),r}function oW(e,t){const n={},r=g(e,["config"]);return r!=null&&iW(r,n),n}function lW(e,t){const n={},r=g(e,["config"]);return r!=null&&aW(r,n),n}function sW(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=g(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=g(e,["tunedModels"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>nO(c))),y(n,["tuningJobs"],s)}return n}function uW(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=g(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=g(e,["tuningJobs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>$v(c))),y(n,["tuningJobs"],s)}return n}function cW(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["model"],r);const a=g(e,["name"]);return a!=null&&y(n,["endpoint"],a),n}function fW(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["examples","examples"],a)}return n}function dW(e,t,n){const r={},a=g(e,["gcsUri"]);t!==void 0&&a!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],a);const l=g(e,["vertexDatasetResource"]);if(t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l),g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function nO(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const l=g(e,["state"]);l!=null&&y(n,["state"],LP(l));const s=g(e,["createTime"]);s!=null&&y(n,["createTime"],s);const c=g(e,["tuningTask","startTime"]);c!=null&&y(n,["startTime"],c);const d=g(e,["tuningTask","completeTime"]);d!=null&&y(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const p=g(e,["description"]);p!=null&&y(n,["description"],p);const h=g(e,["baseModel"]);h!=null&&y(n,["baseModel"],h);const x=g(e,["_self"]);return x!=null&&y(n,["tunedModel"],cW(x)),n}function $v(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const l=g(e,["state"]);l!=null&&y(n,["state"],LP(l));const s=g(e,["createTime"]);s!=null&&y(n,["createTime"],s);const c=g(e,["startTime"]);c!=null&&y(n,["startTime"],c);const d=g(e,["endTime"]);d!=null&&y(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const p=g(e,["error"]);p!=null&&y(n,["error"],p);const h=g(e,["description"]);h!=null&&y(n,["description"],h);const x=g(e,["baseModel"]);x!=null&&y(n,["baseModel"],x);const w=g(e,["tunedModel"]);w!=null&&y(n,["tunedModel"],w);const E=g(e,["preTunedModel"]);E!=null&&y(n,["preTunedModel"],E);const A=g(e,["supervisedTuningSpec"]);A!=null&&y(n,["supervisedTuningSpec"],A);const C=g(e,["tuningDataStats"]);C!=null&&y(n,["tuningDataStats"],C);const N=g(e,["encryptionSpec"]);N!=null&&y(n,["encryptionSpec"],N);const R=g(e,["partnerModelTuningSpec"]);R!=null&&y(n,["partnerModelTuningSpec"],R);const P=g(e,["customBaseModel"]);P!=null&&y(n,["customBaseModel"],P);const M=g(e,["experiment"]);M!=null&&y(n,["experiment"],M);const I=g(e,["labels"]);I!=null&&y(n,["labels"],I);const k=g(e,["outputUri"]);k!=null&&y(n,["outputUri"],k);const j=g(e,["pipelineJob"]);j!=null&&y(n,["pipelineJob"],j);const q=g(e,["serviceAccount"]);q!=null&&y(n,["serviceAccount"],q);const $=g(e,["tunedModelDisplayName"]);$!=null&&y(n,["tunedModelDisplayName"],$);const te=g(e,["veoTuningSpec"]);return te!=null&&y(n,["veoTuningSpec"],te),n}function mW(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const l=g(e,["metadata"]);l!=null&&y(n,["metadata"],l);const s=g(e,["done"]);s!=null&&y(n,["done"],s);const c=g(e,["error"]);return c!=null&&y(n,["error"],c),n}function pW(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const a=g(e,["vertexDatasetResource"]);return a!=null&&y(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hW extends uo{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bu(oo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),l=await this.tuneMldevInternal(a);let s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:Lv.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=rW(t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>$v(p))}else{const f=nW(t);return c=Ae("{name}",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>nO(p))}}async listInternal(t){var n,r,a,l;let s,c="",d={};if(this.apiClient.isVertexAI()){const f=lW(t);return c=Ae("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=uW(p),x=new f_;return Object.assign(x,h),x})}else{const f=oW(t);return c=Ae("tunedModels",f._url),d=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:p.headers},x})),s.then(p=>{const h=sW(p),x=new f_;return Object.assign(x,h),x})}}async cancel(t){var n,r,a,l;let s="",c={};if(this.apiClient.isVertexAI()){const d=WX(t);s=Ae("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=XX(t);s=Ae("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI()){const c=tW(t);return l=Ae("tuningJobs",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>$v(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let a,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eW(t);return l=Ae("tunedModels",c._url),s=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>mW(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gW{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vW=1024*1024*8,yW=3,bW=1e3,xW=2,Dg="x-goog-upload-status";async function SW(e,t,n){var r,a,l;let s=0,c=0,d=new Uv(new Response),f="upload";for(s=e.size;c<s;){const h=Math.min(vW,s-c),x=e.slice(c,c+h);c+h>=s&&(f+=", finalize");let w=0,E=bW;for(;w<yW&&(d=await n.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[Dg]));)w++,await AW(E),E=E*xW;if(c+=h,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a[Dg])!=="active")break;if(s<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(d==null?void 0:d.json());if(((l=d==null?void 0:d.headers)===null||l===void 0?void 0:l[Dg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function wW(e){return{size:e.size,type:e.type}}function AW(e){return new Promise(t=>setTimeout(t,e))}class EW{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await SW(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await wW(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TW{create(t,n,r){return new CW(t,n,r)}}class CW{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P_="x-goog-api-key";class _W{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(P_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(P_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NW="gl-node/";class MW{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=K7(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const a=new _W(this.apiKey);this.apiClient=new mX({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:NW+"web",uploader:new EW,downloader:new gW}),this.models=new RX(this.apiClient),this.live=new CX(this.apiClient,a,new TW),this.batches=new dK(this.apiClient),this.chats=new $K(this.models,this.apiClient),this.caches=new zK(this.apiClient),this.files=new eY(this.apiClient),this.operations=new IX(this.apiClient),this.authTokens=new JX(this.apiClient),this.tunings=new hW(this.apiClient)}}const DW="AIzaSyDloWKv1I0q-Os5rUMxu1qfalRnTKO-Prw",rO=new MW({apiKey:DW}),$f=async e=>{const t=`
    Eres un Sensei de artes marciales muy inspirador y moderno. 
    Tu tarea es generar un mensaje corto (2-3 frases), personalizado y motivador para uno de tus alumnos.
    El mensaje debe ser entregado como una notificacin push.
    
    Aqu estn los datos del alumno:
    - Nombre: ${e.name}
    - Disciplina: ${e.discipline}
    - Cinturn Actual: ${e.belt}
    - Estado de Pago: ${e.paymentStatus}
    - Tiempo en el dojo: Se uni el ${new Date(e.joinDate).toLocaleDateString()}

    Considera su perfil para personalizar el mensaje. Por ejemplo:
    - Si su pago est pendiente o vencido, anmale a volver a clase y menciona sutilmente que se ponga al da.
    - Si es un alumno avanzado, habla de liderazgo y de ser un ejemplo.
    - Si es ms nuevo, elgia su progreso y constancia.

  El tono debe ser enrgico, positivo y un poco "tech", en lnea con la identidad de la Academia Nacional de Artes Marciales.
    Usa emojis apropiados como , , , .

    Genera solo el texto del mensaje, sin saludos adicionales como "Hola Sensei".
  `;try{return(await rO.models.generateContent({model:"gemini-2.5-flash",contents:t})).text.trim()}catch(n){return console.error("Error calling Gemini API:",n),"Hubo un error al generar el mensaje. Intntalo de nuevo."}},PW=(e,t)=>{const n=`Eres el Sensei digital de la Academia Nacional de Artes Marciales. Genera un mensaje breve (2-3 frases) para toda una campaa dirigida al segmento "${e}". Debe ser motivador, claro, con tono energizante y moderno. Usa emojis contextuales y termina con un llamado a la accin.`,r={Todos:"Mensaje general de entusiasmo, invitando a todos a mantener la constancia y asistir a la prxima sesin destacada.","Riesgo Alto":"Enfatiza apoyo personalizado, ofrece acompaamiento y destaca los beneficios de regresar ya mismo. Empatiza con sus dificultades.","Pagos Pendientes":"Recuerda amable pero directamente la importancia de ponerse al da para seguir avanzando. Ofrece ayuda para regularizar el pago.","Nuevos Ingresos":"Da la bienvenida, refuerza que estn en el camino correcto y ofrece tips para la primera semana.",Avanzados:"Invita a liderar, a inspirar a los ms nuevos y a participar en retos especiales para cinturones avanzados."},a=t?`Informacin extra del sensei: ${t}`:"";return`${n}

Contexto adicional: ${r[e]}
${a}

Genera solo el texto. No incluyas saludos tipo "Hola" y mantnlo en primera persona plural.`},Qs=async({segment:e,customPrompt:t})=>{const n=PW(e,t);try{return(await rO.models.generateContent({model:"gemini-2.5-flash",contents:n})).text.trim()}catch(r){return console.error("Error generating campaign message:",r),"No se pudo generar el mensaje de campaa. Intntalo ms tarde."}},Pg=["Todos","Riesgo Alto","Pagos Pendientes","Nuevos Ingresos","Avanzados"],Og=[{value:"weekly",label:"Semanal",days:7},{value:"biweekly",label:"Quincenal",days:14},{value:"monthly",label:"Mensual",days:30}],Fa=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2,10),OW=[{id:Fa(),name:"Reactivar alumnos en riesgo",segment:"Riesgo Alto",prompt:"Recuerda que estamos junto a ellos y ofrece una clase personalizada esta semana.",createdAt:new Date().toISOString()},{id:Fa(),name:"Bienvenida nuevos ingresos",segment:"Nuevos Ingresos",prompt:"Dales tips para sus primeras dos semanas y recurdales las sesiones de onboarding.",createdAt:new Date().toISOString()}],RW=(e,t)=>{if(t==="Todos")return!0;if(t==="Riesgo Alto")return e.riskLevel===Ye.High;if(t==="Pagos Pendientes")return e.paymentStatus===$t.Pending||e.paymentStatus===$t.Overdue;if(t==="Nuevos Ingresos"){const n=new Date(e.joinDate);return(Date.now()-n.getTime())/(1e3*60*60*24)<=45}return t==="Avanzados"?e.belt===Zt.Black||e.belt===Zt.Brown:!1},O_=e=>{const t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().slice(0,16)},IW=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},Rg=(e,t)=>{const n=new Date(e);return t==="weekly"?n.setDate(n.getDate()+7):t==="biweekly"?n.setDate(n.getDate()+14):n.setMonth(n.getMonth()+1),n},kW=(e,t)=>{if(typeof window>"u")return;const n=`alert_tasks_${e}`,r=`alert_interactions_${e}`,a=new Date().toISOString();try{const l=window.localStorage.getItem(n),s=l?JSON.parse(l):[],c={id:Fa(),title:t,completed:!1,createdAt:a};window.localStorage.setItem(n,JSON.stringify([...s,c]));const d=window.localStorage.getItem(r),p=[...d?JSON.parse(d):[],{timestamp:a,type:"task:add",note:t}];window.localStorage.setItem(r,JSON.stringify(p))}catch(l){console.warn("No se pudo programar la tarea de seguimiento para",e,l)}},jW=({students:e,isOpen:t,onToggle:n,onTasksUpdated:r})=>{var oe,Ce;const[a,l]=Dr("campaign_templates",OW),[s,c]=Dr("campaign_runs",[]),[d,f]=Dr("ai_message_logs",[]),[p,h]=Dr("campaign_schedules",[]),[x,w]=T.useState(((oe=a[0])==null?void 0:oe.id)??""),[E,A]=T.useState(!1),[C,N]=T.useState(""),[R,P]=T.useState(null),[M,I]=T.useState(null),[k,j]=T.useState(null),[q,$]=T.useState({name:"",segment:Pg[0],prompt:""}),te=T.useMemo(()=>{const re=new Date;return re.setHours(9,0,0,0),O_(re)},[]),[K,G]=T.useState({templateId:((Ce=a[0])==null?void 0:Ce.id)??"",frequency:Og[0].value,startAt:te,notes:""}),V=a.find(re=>re.id===x)??a[0];T.useEffect(()=>{!V&&a.length>0&&w(a[0].id)},[a]),T.useEffect(()=>{G(re=>{var Q;return{...re,templateId:(V==null?void 0:V.id)??((Q=a[0])==null?void 0:Q.id)??""}})},[V==null?void 0:V.id,a]);const ae=T.useMemo(()=>V?e.filter(re=>RW(re,V.segment)):[],[e,V]),me=T.useMemo(()=>p.slice().sort((re,Q)=>new Date(re.nextRunAt).getTime()-new Date(Q.nextRunAt).getTime()),[p]),B=s.slice().reverse().slice(0,4),ne=re=>{if(!re)return"";const Q=new Date(re);return Number.isNaN(Q.getTime())?"":Q.toLocaleString()},H=()=>{if(!q.name.trim()){P("El nombre de la plantilla es obligatorio.");return}const re={id:Fa(),name:q.name.trim(),segment:q.segment,prompt:q.prompt.trim(),createdAt:new Date().toISOString()},Q=[...a,re];l(Q),w(re.id),$({name:"",segment:Pg[0],prompt:""}),P(null)},fe=()=>{var et;if(!K.templateId){j("Selecciona una plantilla para programar la campaa.");return}const re=a.find(lt=>lt.id===K.templateId);if(!re){j("La plantilla seleccionada ya no existe.");return}const Q=IW(K.startAt);if(!Q){j("Define una fecha y hora vlidas para la primera ejecucin.");return}const Re=Date.now();if(Q.getTime()<=Re){j("La primera ejecucin debe ser en el futuro.");return}const be={id:Fa(),templateId:re.id,segment:re.segment,frequency:K.frequency,createdAt:new Date().toISOString(),nextRunAt:Q.toISOString(),isActive:!0,notes:(et=K.notes)!=null&&et.trim()?K.notes.trim():void 0};h(lt=>[...lt,be]),j(null);const Le=Rg(Q,K.frequency);G(lt=>({...lt,startAt:O_(Le),notes:""}))},ge=re=>{h(Q=>Q.map(Re=>Re.id===re?{...Re,isActive:!Re.isActive}:Re))},L=re=>{window.confirm("Deseas eliminar esta programacin?")&&h(Q=>Q.filter(Re=>Re.id!==re))},Z=(re,Q)=>{const Re=new Date(Q);let be=Rg(Re,re.frequency);const Le=Date.now();for(;be.getTime()<=Le;)be=Rg(be,re.frequency);return{...re,lastRunAt:Q,nextRunAt:be.toISOString()}},pe=(re,Q)=>{const Re=new Date;h(be=>be.map(Le=>Le.id===re?Z(Le,Re.toISOString()):Le))},he=(re,Q)=>{h(Re=>Re.map(be=>be.templateId===re&&be.isActive?Z(be,Q):be))},ye=async()=>{if(V){A(!0),I(null);try{const re=await Qs({segment:V.segment,customPrompt:V.prompt});N(re)}catch(re){console.error(re),I("No se pudo generar el mensaje. Intenta nuevamente.")}finally{A(!1)}}},Te=()=>{if(!V||C.trim().length===0){I("Genera un mensaje antes de registrar la campaa.");return}if(ae.length===0){I("No hay alumnos en el segmento seleccionado.");return}const re=new Date().toISOString(),Q={id:Fa(),templateId:V.id,segment:V.segment,executedAt:re,studentIds:ae.map(be=>be.id)},Re=ae.map(be=>({id:Fa(),studentId:be.id,templateId:V.id,generatedAt:re,message:C}));c(be=>[...be,Q]),f(be=>[...be,...Re]),l(be=>be.map(Le=>Le.id===V.id?{...Le,lastUsedAt:re}:Le)),N(""),I(null),ae.forEach(be=>{kW(be.id,`Seguimiento campaa: ${V.name}`)}),r==null||r(),he(V.id,re),alert("Campaa registrada. Recuerda enviar el mensaje por tus canales habituales.")},Oe=re=>re??"Segmento",Ve=p.filter(re=>re.isActive);return b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsxs("button",{onClick:n,className:"w-full flex items-center justify-between text-left mb-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:"Campaas con IA"}),b.jsx("p",{className:"text-secondary-gray text-sm",children:t?"Gestiona plantillas, mensajes y campaas programadas.":`${a.length} plantillas  ${s.length} envos registrados  ${Ve.length} programadas`})]}),b.jsxs("span",{className:"text-xs text-secondary-gray flex items-center gap-1",children:[t?"Ocultar":"Ver",b.jsx("span",{className:"text-base leading-none",children:t?"":""})]})]}),t&&b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-semibold uppercase text-secondary-gray mb-2",children:"Plantillas"}),b.jsx("select",{value:(V==null?void 0:V.id)??"",onChange:re=>w(re.target.value),className:"w-full bg-space-black border border-neon-blue/30 rounded-md px-3 py-2 text-sm text-high-contrast-white",children:a.map(re=>b.jsxs("option",{value:re.id,children:[re.name,"  ",Oe(re.segment)]},re.id))}),V&&b.jsxs("div",{className:"mt-3 text-xs text-secondary-gray space-y-1",children:[b.jsxs("p",{children:[b.jsx("span",{className:"text-high-contrast-white",children:"Segmento objetivo:"})," ",Oe(V.segment)]}),V.prompt&&b.jsxs("p",{children:[b.jsx("span",{className:"text-high-contrast-white",children:"Instrucciones:"})," ",V.prompt]}),V.lastUsedAt&&b.jsxs("p",{children:["ltima ejecucin: ",new Date(V.lastUsedAt).toLocaleString()]}),b.jsxs("p",{children:["Alumnos en la lista: ",b.jsx("span",{className:"text-neon-blue font-semibold",children:ae.length})]})]})]}),b.jsxs("div",{className:"border border-neon-blue/20 rounded-lg p-4 bg-space-black/40",children:[b.jsx("h4",{className:"text-sm font-semibold text-high-contrast-white mb-3",children:"Crear nueva plantilla"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{placeholder:"Nombre de la plantilla",value:q.name,onChange:re=>$(Q=>({...Q,name:re.target.value})),className:"w-full bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white"}),b.jsx("select",{value:q.segment,onChange:re=>$(Q=>({...Q,segment:re.target.value})),className:"w-full bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white",children:Pg.map(re=>b.jsx("option",{value:re,children:re},re))}),b.jsx("textarea",{placeholder:"Instrucciones opcionales para la IA",value:q.prompt,onChange:re=>$(Q=>({...Q,prompt:re.target.value})),rows:3,className:"w-full bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white"}),b.jsx("button",{onClick:H,className:"w-full px-3 py-2 rounded-md bg-neon-blue/20 hover:bg-neon-blue/30 text-neon-blue transition-colors text-sm font-semibold",children:"Guardar plantilla"}),R&&b.jsx("p",{className:"text-xs text-rose-400",children:R})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"border border-neon-blue/20 rounded-lg p-4 bg-space-black/40",children:[b.jsx("h4",{className:"text-sm font-semibold text-high-contrast-white mb-3",children:"Generar mensaje"}),b.jsx("button",{onClick:ye,disabled:E||!V,className:"px-4 py-2 rounded-md bg-neon-blue/20 hover:bg-neon-blue/30 text-neon-blue transition-colors text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Generando":"Generar con IA"}),C&&b.jsxs("div",{className:"mt-3 border border-neon-blue/10 rounded-lg p-3 bg-space-black/60",children:[b.jsx("p",{className:"text-xs text-secondary-gray mb-2 uppercase tracking-wide",children:"Vista previa"}),b.jsx("p",{className:"text-sm text-high-contrast-white whitespace-pre-line",children:C})]})]}),b.jsxs("div",{className:"border border-emerald-500/20 rounded-lg p-4 bg-emerald-500/5",children:[b.jsx("h4",{className:"text-sm font-semibold text-high-contrast-white mb-3",children:"Registrar campaa"}),b.jsx("p",{className:"text-xs text-secondary-gray mb-3",children:"Esta accin guarda el mensaje y el listado de alumnos impactados para que puedas continuar el seguimiento."}),b.jsxs("button",{onClick:Te,className:"px-4 py-2 rounded-md bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-300 transition-colors text-sm font-semibold",children:["Registrar envo (",ae.length," alumnos)"]}),M&&b.jsx("p",{className:"text-xs text-rose-400 mt-2",children:M})]}),b.jsxs("div",{className:"border border-neon-blue/20 rounded-lg p-4 bg-space-black/40",children:[b.jsx("h4",{className:"text-sm font-semibold text-high-contrast-white mb-3",children:"Programar campaas"}),b.jsx("p",{className:"text-xs text-secondary-gray mb-3",children:"Configura recordatorios recurrentes para tus segmentos clave."}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("select",{value:K.templateId,onChange:re=>G(Q=>({...Q,templateId:re.target.value})),className:"w-full bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white",children:a.map(re=>b.jsxs("option",{value:re.id,children:[re.name,"  ",Oe(re.segment)]},re.id))}),b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-3 gap-3",children:[b.jsx("select",{value:K.frequency,onChange:re=>G(Q=>({...Q,frequency:re.target.value})),className:"w-full sm:w-1/2 bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white",children:Og.map(re=>b.jsx("option",{value:re.value,children:re.label},re.value))}),b.jsx("input",{type:"datetime-local",value:K.startAt,onChange:re=>G(Q=>({...Q,startAt:re.target.value})),className:"w-full sm:w-1/2 bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white"})]}),b.jsx("textarea",{placeholder:"Notas internas (opcional)",value:K.notes,onChange:re=>G(Q=>({...Q,notes:re.target.value})),rows:2,className:"w-full bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white"}),b.jsx("button",{onClick:fe,className:"w-full px-3 py-2 rounded-md bg-neon-blue/20 hover:bg-neon-blue/30 text-neon-blue transition-colors text-sm font-semibold",children:"Guardar programacin"}),k&&b.jsx("p",{className:"text-xs text-rose-400",children:k})]})]}),b.jsxs("div",{className:"border border-neon-blue/20 rounded-lg p-4 bg-space-black/40",children:[b.jsx("h4",{className:"text-sm font-semibold text-high-contrast-white mb-3",children:"Prximas ejecuciones"}),me.length===0?b.jsx("p",{className:"text-xs text-secondary-gray",children:"No hay campaas programadas todava."}):b.jsx("ul",{className:"space-y-2 text-xs text-secondary-gray",children:me.map(re=>{var Le;const Q=a.find(et=>et.id===re.templateId),Re=new Date(re.nextRunAt),be=re.isActive&&Re.getTime()<=Date.now();return b.jsx("li",{className:`border border-neon-blue/10 rounded-md px-3 py-3 bg-space-black/50 ${re.isActive?"":"opacity-60"}`,children:b.jsxs("div",{className:"flex items-start justify-between gap-3",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"text-high-contrast-white font-semibold",children:[(Q==null?void 0:Q.name)??"Plantilla eliminada","  ",Oe(re.segment)]}),b.jsxs("p",{children:["Frecuencia: ",((Le=Og.find(et=>et.value===re.frequency))==null?void 0:Le.label)??re.frequency]}),b.jsxs("p",{className:be?"text-rose-300":"",children:["Prxima ejecucin: ",ne(re.nextRunAt)]}),b.jsxs("p",{children:["ltima ejecucin: ",ne(re.lastRunAt)]}),re.notes&&b.jsxs("p",{className:"italic text-secondary-gray/80 mt-1",children:["",re.notes,""]})]}),b.jsxs("div",{className:"flex flex-col gap-2 min-w-[140px]",children:[b.jsx("button",{onClick:()=>pe(re.id),className:"px-3 py-1 rounded-md bg-emerald-500/15 hover:bg-emerald-500/25 text-emerald-300 transition-colors",children:"Marcar enviada"}),b.jsx("button",{onClick:()=>ge(re.id),className:"px-3 py-1 rounded-md bg-neon-blue/15 hover:bg-neon-blue/25 text-neon-blue transition-colors",children:re.isActive?"Pausar":"Reactivar"}),b.jsx("button",{onClick:()=>L(re.id),className:"px-3 py-1 rounded-md bg-rose-500/10 hover:bg-rose-500/20 text-rose-300 transition-colors",children:"Eliminar"})]})]})},re.id)})})]}),b.jsxs("div",{className:"border border-neon-blue/20 rounded-lg p-4 bg-space-black/40",children:[b.jsx("h4",{className:"text-sm font-semibold text-high-contrast-white mb-3",children:"ltimas campaas"}),B.length===0?b.jsx("p",{className:"text-xs text-secondary-gray",children:"An no registras campaas."}):b.jsx("ul",{className:"space-y-2 text-xs text-secondary-gray",children:B.map(re=>{const Q=a.find(Re=>Re.id===re.templateId);return b.jsxs("li",{className:"border border-neon-blue/10 rounded-md px-3 py-2 bg-space-black/50",children:[b.jsxs("p",{className:"text-high-contrast-white",children:[(Q==null?void 0:Q.name)??"Plantilla desconocida","  ",Oe(re.segment)]}),b.jsxs("p",{children:[new Date(re.executedAt).toLocaleString(),"  ",re.studentIds.length," alumnos impactados"]})]},re.id)})})]})]})]})]})};function Hr(e,t=[]){const[n,r]=Dr(e,t),a=T.useCallback(c=>{r(d=>[...d,c])},[r]),l=T.useCallback((c,d)=>{r(f=>f.map(p=>p.id===c?d(p):p))},[r]),s=T.useCallback(c=>{r(typeof c=="function"?d=>d.filter(f=>!c(f)):d=>d.filter(f=>f.id!==c))},[r]);return{items:n,setItems:r,addItem:a,updateItem:l,removeItem:s}}const Jc={all:()=>!0,risk:e=>e.severity==="critical",overdue:e=>e.isOverdue,campaign:e=>e.isCampaign},iO=e=>`alert_tasks_${e}`,aO=e=>`alert_interactions_${e}`,LW=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2,10),qa=e=>{if(typeof window>"u")return[];try{const t=window.localStorage.getItem(iO(e));if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch(t){return console.warn("No se pudieron leer las tareas del alumno",e,t),[]}},Ig=(e,t)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(iO(e),JSON.stringify(t))}catch(n){console.warn("No se pudieron guardar las tareas del alumno",e,n)}},kg=(e,t,n)=>{if(!(typeof window>"u"))try{const r=aO(e),a=window.localStorage.getItem(r),l=a?JSON.parse(a):[];l.push({timestamp:new Date().toISOString(),type:t,note:n}),window.localStorage.setItem(r,JSON.stringify(l))}catch(r){console.warn("No se pudieron registrar las interacciones del alumno",e,r)}},UW=({title:e,value:t,gradient:n,subtitle:r,onClick:a})=>{const l=`bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg transition-all duration-300 ${a?"hover:border-neon-blue/40 hover:shadow-neon focus:outline-none focus-visible:ring-2 focus-visible:ring-neon-blue/40 cursor-pointer":""}`,s=b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-secondary-gray text-sm font-medium uppercase",children:e}),b.jsx("p",{className:`text-4xl font-bold text-transparent bg-clip-text ${n}`,children:t}),r&&b.jsx("p",{className:"text-sm text-secondary-gray mt-2",children:r})]});return a?b.jsx("button",{type:"button",className:`${l} text-left w-full`,onClick:a,children:s}):b.jsx("div",{className:l,children:s})},qW=({active:e,payload:t,label:n})=>{if(!e||!t||t.length===0)return null;const r=t.find(d=>d.dataKey==="Ingresos"),a=t.find(d=>d.dataKey==="Gastos"),l=Number((r==null?void 0:r.value)??0),s=Number((a==null?void 0:a.value)??0),c=l-s;return b.jsxs("div",{className:"rounded-lg border border-neon-blue/40 bg-space-black/90 px-4 py-3 shadow-neon min-w-[180px]",children:[b.jsx("p",{className:"text-sm font-semibold text-high-contrast-white mb-1",children:n}),b.jsxs("div",{className:"text-xs text-secondary-gray space-y-1",children:[b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("span",{children:"Ingresos"}),b.jsxs("span",{className:"text-emerald-400 font-semibold",children:["$",l.toLocaleString()]})]}),b.jsxs("div",{className:"flex justify-between gap-4",children:[b.jsx("span",{children:"Gastos"}),b.jsxs("span",{className:"text-rose-400 font-semibold",children:["-$",s.toLocaleString()]})]}),b.jsxs("div",{className:"flex justify-between gap-4 border-t border-neon-blue/20 pt-1 mt-1",children:[b.jsx("span",{children:"Balance"}),b.jsxs("span",{className:`${c>=0?"text-emerald-300":"text-rose-300"} font-semibold`,children:[c>=0?"+":"-","$",Math.abs(c).toLocaleString()]})]})]})]})},R_=({students:e=[],classes:t=[],transactions:n=[],onNavigateToStudents:r,onNavigateToRetention:a,onOpenCampaigns:l})=>{const[s]=T.useState([{month:"Nov","Tasa de Retencin":82.5,"Alumnos en Riesgo":17.5},{month:"Dic","Tasa de Retencin":83.2,"Alumnos en Riesgo":16.8},{month:"Ene","Tasa de Retencin":84.1,"Alumnos en Riesgo":15.9},{month:"Feb","Tasa de Retencin":85.3,"Alumnos en Riesgo":14.7},{month:"Mar","Tasa de Retencin":86.8,"Alumnos en Riesgo":13.2},{month:"Abr","Tasa de Retencin":87.4,"Alumnos en Riesgo":12.6},{month:"May","Tasa de Retencin":88.9,"Alumnos en Riesgo":11.1},{month:"Jun","Tasa de Retencin":89.5,"Alumnos en Riesgo":10.5},{month:"Jul","Tasa de Retencin":90.2,"Alumnos en Riesgo":9.8},{month:"Ago","Tasa de Retencin":91.1,"Alumnos en Riesgo":8.9},{month:"Sep","Tasa de Retencin":92.3,"Alumnos en Riesgo":7.7},{month:"Oct","Tasa de Retencin":93.5,"Alumnos en Riesgo":6.5}]),[c,d]=T.useState(null),[f,p]=T.useState(""),[h,x]=T.useState(!1),[w,E]=T.useState(!1),[A,C]=T.useState(!1),[N,R]=T.useState(!1),[P,M]=T.useState("all"),[I,k]=T.useState(!1),[j,q]=T.useState(!1),[$,te]=T.useState(!1),[K,G]=T.useState(null),[V,ae]=T.useState([]),[me,B]=T.useState(0),[ne,H]=T.useState(!1),[fe,ge]=T.useState(null),[L,Z]=T.useState([]),[pe,he]=T.useState(""),ye=T.useMemo(()=>{const O={},Y=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return n.forEach(le=>{const de=new Date(le.date),ve=`${de.getFullYear()}-${de.getMonth()}`;O[ve]||(O[ve]={name:Y[de.getMonth()],Ingresos:0,Gastos:0}),le.type===mn.Income?O[ve].Ingresos+=le.amount:O[ve].Gastos+=le.amount}),Object.values(O).reverse()},[n]),Te=T.useMemo(()=>{const O=e.filter(de=>de.paymentStatus===$t.Pending||de.paymentStatus===$t.Overdue).length,Y=e.filter(de=>de.riskLevel===Ye.High).length,le=e.length>0?Math.round(Y/e.length*100):0;return{activeStudents:e.length,pendingPayments:O,weeklyClasses:t.length,atRiskPercentage:le}},[e,t]),Oe=T.useMemo(()=>[{title:"Alumnos Activos",value:Te.activeStudents,gradient:"bg-gradient-to-r from-green-400 to-cyan-400",subtitle:"Ver listado completo",onClick:r?()=>r():void 0},{title:"Pagos Pendientes",value:Te.pendingPayments,gradient:"bg-gradient-to-r from-yellow-400 to-orange-400",subtitle:"Alumnos con cuotas pendientes",onClick:r?()=>r({focus:"chronic"}):void 0},{title:"Clases Semanales",value:Te.weeklyClasses,gradient:"bg-gradient-to-r from-blue-400 to-purple-400",subtitle:"Sesiones activas programadas"},{title:"Alumnos en Riesgo",value:`${Te.atRiskPercentage}%`,gradient:"bg-gradient-to-r from-red-400 to-pink-400",subtitle:"Ver alumnos con riesgo alto",onClick:r?()=>r({focus:"flagged"}):void 0}],[Te,r]),Ve=T.useMemo(()=>e.filter(O=>O.riskLevel===Ye.High||O.paymentStatus===$t.Overdue).map(O=>{const Y=O.riskLevel===Ye.High&&O.paymentStatus===$t.Overdue,le=[];return O.paymentStatus===$t.Overdue&&le.push("Vencido"),O.riskLevel===Ye.High&&le.push("Riesgo Alto"),O.riskLevel===Ye.Medium&&le.push("Riesgo Medio"),le.push("Baja asistencia"),{id:O.id,name:O.name,discipline:O.discipline,severity:Y?"CRTICO":"ATENCIN",tags:le,details:[`${O.paymentStatus===$t.Overdue?"Pago vencido":"Pago pendiente"}`,`${O.riskLevel===Ye.High?"Riesgo alto":"Riesgo medio"}`,"Asistencia 50% (30 das)"],attendance:{consecutive:0,last30Days:50}}}),[e]),oe=T.useMemo(()=>{const O=[],Y=e.filter(de=>de.paymentStatus===$t.Overdue);Y.length>0&&O.push({type:"danger",message:`${Y.length} alumnos con pagos vencidos`,action:()=>r==null?void 0:r({focus:"chronic"})});const le=e.filter(de=>de.riskLevel===Ye.High);return le.length>0&&O.push({type:"warning",message:`${le.length} alumnos en riesgo alto de desercin`,action:()=>r==null?void 0:r({focus:"flagged"})}),O},[e,r]),Ce=T.useMemo(()=>{const O=[];let Y=0,le=0,de=0,ve=null,Ne=null;const Ue=Date.now()-2880*60*1e3;return e.forEach(Ze=>{try{const nt=Ze.riskLevel===Ye.High?"critical":Ze.riskLevel===Ye.Medium?"warning":void 0;qa(Ze.id).filter(Ct=>!Ct.completed).forEach(Ct=>{const tr=Ct.createdAt?new Date(Ct.createdAt).getTime():NaN,bn=Number.isNaN(tr)?null:tr,Nn=/camp(aa|ana|aign)/i.test(Ct.title),Sa=bn!==null&&bn<Ue;nt==="critical"&&(Y+=1),Nn&&(le+=1),Sa&&(de+=1),bn!==null&&((ve===null||bn<ve)&&(ve=bn),(Ne===null||bn>Ne)&&(Ne=bn)),O.push({student:Ze,task:Ct,severity:nt,createdAtMs:bn,isOverdue:Sa,isCampaign:Nn})})}catch(nt){console.warn("No se pudieron leer las tareas del alumno",Ze.id,nt)}}),O.sort((Ze,nt)=>{const Nt=Ze.createdAtMs??Number.MAX_SAFE_INTEGER,Ct=nt.createdAtMs??Number.MAX_SAFE_INTEGER;return Nt-Ct}),{items:O,criticalCount:Y,campaignCount:le,overdueCount:de,oldestOpenMs:ve,newestOpenMs:Ne}},[e,me]),re=T.useCallback((O,Y)=>{if(O==="all")return Y?{taskStudentId:Y}:void 0;const le=O==="overdue"?"chronic":"flagged";return Y?{focus:le,taskStudentId:Y}:{focus:le}},[]),Q=T.useCallback((O,Y,le)=>`${O} ${O===1?Y:le}`,[]),Re=T.useMemo(()=>{const O=Jc[P]??Jc.all;return Ce.items.filter(O)},[Ce,P]),{items:be}=Hr("feedback_records",[]),{items:Le}=Hr("campaign_templates",[]),{items:et}=Hr("campaign_schedules",[]),lt=T.useMemo(()=>{if(be.length===0)return null;const O=new Map,le=Date.now()-720*60*60*1e3;let de=0,ve=0,Ne=0;if(be.forEach(Ze=>{const nt=Ze.instructor||"Instructor sin asignar",Nt=O.get(nt)??{total:0,count:0};Nt.total+=Ze.rating,Nt.count+=1;const Ct=new Date(Ze.submittedAt).getTime();Number.isNaN(Ct)||((!Nt.lastDate||Ct>Nt.lastDate)&&(Nt.lastDate=Ct,Nt.lastComment=Ze.comment),Ct>=le&&(Ne+=1)),O.set(nt,Nt),de+=Ze.rating,ve+=1}),ve===0)return null;const xe=Array.from(O.entries()).map(([Ze,nt])=>({name:Ze,avg:nt.total/nt.count,count:nt.count,lastComment:nt.lastComment,lastDate:nt.lastDate})).sort((Ze,nt)=>nt.avg-Ze.avg),Ue=xe.filter(Ze=>Ze.avg<3.5);return{avg:Number((de/ve).toFixed(1)),totalResponses:ve,recentResponses:Ne,top:xe.slice(0,3),struggling:Ue.slice(0,3)}},[be]),tt=T.useMemo(()=>{const O=et.filter(Ue=>Ue.isActive),Y=Date.now(),le=10080*60*1e3,de=O.map(Ue=>{const Ze=Le.find(Ct=>Ct.id===Ue.templateId),nt=new Date(Ue.nextRunAt),Nt=Number.isNaN(nt.getTime())?null:nt.getTime();return{schedule:Ue,templateName:(Ze==null?void 0:Ze.name)??"Plantilla sin nombre",nextRunMs:Nt,formattedDate:Nt?nt.toLocaleString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Sin fecha",frequencyLabel:Ue.frequency==="weekly"?"Semanal":Ue.frequency==="biweekly"?"Quincenal":"Mensual"}}).filter(Ue=>Ue.nextRunMs!==null).sort((Ue,Ze)=>(Ue.nextRunMs??1/0)-(Ze.nextRunMs??1/0)),ve=de.filter(Ue=>(Ue.nextRunMs??0)<=Y),Ne=de.filter(Ue=>(Ue.nextRunMs??0)>Y&&(Ue.nextRunMs??0)<=Y+le),xe=de.find(Ue=>(Ue.nextRunMs??0)>=Y)??null;return{activeCount:O.length,overdue:ve,upcoming:Ne,next:xe}},[et,Le]),kr=T.useCallback(O=>{G(O),ae(qa(O.id)),te(!0)},[]),jr=()=>{te(!1),G(null),ae([])},ya=(O,Y)=>{const le=qa(O),de={id:LW(),title:Y,completed:!1,createdAt:new Date().toISOString()};Ig(O,[...le,de]),kg(O,"task:add",Y),B(ve=>ve+1),(K==null?void 0:K.id)===O&&ae(ve=>[...ve,de])},_n=(O,Y)=>{const le=qa(O),de=le.find(xe=>xe.id===Y);if(!de)return;const ve=new Date().toISOString(),Ne=le.map(xe=>xe.id===Y?{...xe,completed:!0,completedAt:ve}:xe);Ig(O,Ne),kg(O,"task:complete",de.title),B(xe=>xe+1),(K==null?void 0:K.id)===O&&ae(Ne)},Pi=(O,Y)=>{const le=qa(O),de=le.find(xe=>xe.id===Y);if(!de)return;const ve=new Date().toISOString(),Ne=le.map(xe=>xe.id===Y?{...xe,createdAt:ve,completed:!1,completedAt:void 0}:xe);Ig(O,Ne),kg(O,"task:snooze",de.title),B(xe=>xe+1),(K==null?void 0:K.id)===O&&ae(Ne)},zt=O=>{ge(O);try{const Y=window.localStorage.getItem("ai_message_logs"),de=(Y?JSON.parse(Y):[]).filter(xe=>xe.studentId===O.id),ve=window.localStorage.getItem(aO(O.id)),Ne=ve?JSON.parse(ve):[];Z([...Ne,...de].sort((xe,Ue)=>new Date(Ue.timestamp||Ue.generatedAt).getTime()-new Date(xe.timestamp||xe.generatedAt).getTime()))}catch{Z([])}H(!0)},ba=()=>{H(!1),ge(null),Z([])},Tr=T.useCallback(O=>{if(!O)return"Reciente";const Y=new Date(O).getTime();if(Number.isNaN(Y))return"Reciente";const le=Date.now()-Y,de=new Intl.RelativeTimeFormat("es",{numeric:"auto"}),ve=Math.round(le/(1e3*60));if(Math.abs(ve)<1)return"Justo ahora";if(Math.abs(ve)<60)return de.format(-ve,"minute");const Ne=Math.round(ve/60);if(Math.abs(Ne)<24)return de.format(-Ne,"hour");const xe=Math.round(Ne/24);if(Math.abs(xe)<30)return de.format(-xe,"day");const Ue=Math.round(xe/30);return de.format(-Ue,"month")},[]),Cr=T.useCallback(O=>O===null?"Reciente":Tr(new Date(O).toISOString()),[Tr]),yn=T.useMemo(()=>({open:Ce.items.length,urgent:Ce.criticalCount,campaigns:Ce.campaignCount,lastOpened:Cr(Ce.oldestOpenMs),lastUpdated:Cr(Ce.newestOpenMs)}),[Ce,Cr]),Pl=T.useCallback(O=>{if(P===O){const Y=Jc[O]??Jc.all,le=Ce.items.find(Y),de=re(O,le==null?void 0:le.student.id);de?r==null||r(de):r==null||r();return}M(O)},[P,r,Ce,re]),xa=T.useCallback(O=>O>=4.5?"text-emerald-300":O>=4?"text-cyan-300":O>=3.5?"text-amber-200":"text-rose-300",[]);return b.jsxs("div",{className:"p-8 text-high-contrast-white",children:[b.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Panel de Control"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:Oe.map(O=>b.jsx(UW,{...O},O.title))}),lt&&b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsxs("button",{type:"button",onClick:()=>k(O=>!O),className:"w-full flex flex-col md:flex-row md:items-center md:justify-between gap-6 text-left",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Clima del instructor"}),b.jsx("h2",{className:"text-2xl font-bold mt-1",children:"Satisfaccin promedio"}),b.jsxs("p",{className:"text-sm text-secondary-gray mt-2",children:[lt.totalResponses," reseas totales  ",lt.recentResponses," en los ltimos 30 das"]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-br from-emerald-300 to-cyan-400",children:lt.avg.toFixed(1)}),b.jsxs("span",{className:"text-xs text-secondary-gray flex items-center gap-1",children:[I?"Ocultar":"Ver",b.jsx("span",{className:"text-base leading-none",children:I?"":""})]})]})]}),I&&b.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-secondary-gray",children:[b.jsx("span",{className:"px-3 py-1 rounded-md border border-neon-blue/30 bg-neon-blue/10 text-neon-blue",children:"Objetivo  4.3"}),lt.struggling.length>0?b.jsxs("span",{className:"px-3 py-1 rounded-md border border-rose-400/30 bg-rose-500/10 text-rose-200",children:[lt.struggling.length," instructores necesitan soporte"]}):b.jsx("span",{className:"px-3 py-1 rounded-md border border-emerald-400/30 bg-emerald-500/10 text-emerald-200",children:"Todos los instructores sobre el umbral"}),b.jsx("button",{type:"button",onClick:()=>r==null?void 0:r({focus:"flagged"}),className:"ml-auto text-neon-blue underline hover:text-high-contrast-white transition-colors",children:"Ver feedback en Alumnos"})]})]}),b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsxs("button",{type:"button",onClick:()=>q(O=>!O),className:"w-full flex items-center justify-between gap-4 text-left",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Top instructores"}),b.jsx("p",{className:"text-sm text-secondary-gray mt-1",children:"Ranking de satisfaccin por reseas"})]}),b.jsxs("span",{className:"text-xs text-secondary-gray flex items-center gap-1",children:[j?"Ocultar":"Ver",b.jsx("span",{className:"text-base leading-none",children:j?"":""})]})]}),j&&b.jsxs("div",{className:"space-y-4 mt-4",children:[b.jsx("div",{children:b.jsx("ul",{className:"space-y-3",children:lt.top.map(O=>b.jsxs("li",{className:"p-3 rounded-lg bg-space-black/40 border border-neon-blue/15",children:[b.jsxs("div",{className:"flex items-baseline justify-between gap-4",children:[b.jsx("p",{className:"font-semibold text-high-contrast-white",children:O.name}),b.jsx("span",{className:`text-lg font-bold ${xa(O.avg)}`,children:O.avg.toFixed(1)})]}),b.jsx("div",{className:"mt-2 h-1.5 rounded-full bg-space-black/60 overflow-hidden",children:b.jsx("div",{className:"h-full bg-gradient-to-r from-neon-blue to-cyan-400",style:{width:`${Math.min(100,O.avg/5*100)}%`}})}),b.jsxs("p",{className:"text-xs text-secondary-gray mt-2",children:[O.count," reseas",O.lastComment?`  ltimo comentario: ${O.lastComment}`:""]})]},O.name))})}),lt.struggling.length>0&&b.jsxs("div",{className:"border-t border-neon-blue/10 pt-4",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Necesitan atencin"}),b.jsx("ul",{className:"mt-3 space-y-3",children:lt.struggling.map(O=>b.jsxs("li",{className:"p-3 rounded-lg bg-rose-500/5 border border-rose-500/20",children:[b.jsxs("div",{className:"flex items-center justify-between gap-4",children:[b.jsx("p",{className:"font-semibold text-high-contrast-white",children:O.name}),b.jsx("span",{className:`text-lg font-bold ${xa(O.avg)}`,children:O.avg.toFixed(1)})]}),b.jsxs("p",{className:"text-xs text-rose-200 mt-2",children:[O.count," reseas  Revisa seguimientos pendientes"]})]},O.name))})]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsxs("button",{type:"button",onClick:()=>x(O=>!O),className:"w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 text-left",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:"Alertas Prioritarias"}),b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray mt-1",children:Ve.length>0?`${Ve.length} pendientes`:"Sin alertas pendientes"})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[Ve.length>0&&b.jsx("span",{className:"text-[10px] uppercase tracking-wide px-2 py-1 rounded-full bg-rose-500/15 text-rose-300 border border-rose-500/30",children:"Accin requerida"}),b.jsxs("span",{className:"text-xs text-secondary-gray flex items-center gap-1",children:[h?"Ocultar":"Ver",b.jsx("span",{className:"text-base leading-none",children:h?"":""})]})]})]}),h&&(Ve.length===0?b.jsx("p",{className:"text-secondary-gray text-sm mt-4",children:"Todo marcha bien. No hay alertas activas en este momento."}):b.jsx("div",{className:"mt-4 space-y-4",children:Ve.map(O=>b.jsx("div",{className:"rounded-lg border border-neon-blue/15 bg-space-black/60 px-4 py-3",children:b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:`px-2 py-0.5 text-[11px] uppercase tracking-wide font-semibold rounded-full ${O.severity==="CRTICO"?"bg-rose-500/20 text-rose-300 border border-rose-500/40":"bg-amber-500/20 text-amber-300 border border-amber-500/40"}`,children:O.severity==="CRTICO"?"Crtico":"Atencin"}),b.jsx("span",{className:"text-xs text-secondary-gray",children:O.discipline})]}),b.jsx("p",{className:"text-base font-semibold text-high-contrast-white mt-2",children:O.name}),b.jsx("p",{className:"text-sm text-secondary-gray mt-1",children:O.details.join("  ")}),b.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:O.tags.map((Y,le)=>b.jsx("span",{className:"px-2 py-0.5 text-xs rounded-md bg-nebula-blue/40 border border-neon-blue/20",children:Y},le))}),b.jsxs("p",{className:"text-xs text-secondary-gray mt-2",children:["Ausencias consecutivas: ",O.attendance.consecutive,"  Asistencia 30 das: ",O.attendance.last30Days,"%"]})]}),b.jsxs("div",{className:"flex flex-wrap justify-end gap-2 text-xs",children:[b.jsx("button",{onClick:()=>r==null?void 0:r({focus:"flagged",taskStudentId:O.id}),className:"px-3 py-1 rounded-md bg-nebula-blue/15 hover:bg-nebula-blue/25 text-neon-blue transition-colors",children:"Contactar"}),b.jsx("button",{onClick:()=>{const Y=e.find(le=>le.id===O.id);Y&&kr(Y)},className:"px-3 py-1 rounded-md bg-space-black/40 border border-neon-blue/20 hover:bg-space-black/60 text-secondary-gray transition-colors",children:"Crear tarea"}),b.jsx("button",{onClick:()=>{const le=qa(O.id).find(de=>!de.completed);le&&_n(O.id,le.id)},className:"px-3 py-1 rounded-md bg-emerald-500/15 hover:bg-emerald-500/25 text-emerald-300 transition-colors",children:"Marcar resuelta"}),b.jsx("button",{onClick:()=>{const le=qa(O.id).find(de=>!de.completed);le&&Pi(O.id,le.id)},className:"px-3 py-1 rounded-md bg-secondary-gray/15 hover:bg-secondary-gray/25 text-secondary-gray transition-colors",children:"Posponer"}),b.jsx("button",{onClick:()=>{const Y=e.find(le=>le.id===O.id);Y&&zt(Y)},className:"px-3 py-1 rounded-md border border-neon-blue/20 hover:bg-neon-blue/20 text-neon-blue transition-colors",children:"Ver historial"})]})]})},O.id))}))]}),b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsxs("button",{type:"button",onClick:()=>E(O=>!O),className:"w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 text-left",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:"Seguimiento pendiente"}),b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray mt-1",children:"Resumen de recordatorios para alumnos con seguimiento activo"})]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-secondary-gray",children:[b.jsx("span",{className:"px-2.5 py-1 rounded-md border border-neon-blue/20 bg-neon-blue/10 text-neon-blue",children:Q(yn.open,"abierta","abiertas")}),b.jsx("span",{className:"px-2.5 py-1 rounded-md border border-rose-500/30 bg-rose-500/10 text-rose-300",children:Q(yn.urgent,"urgente","urgentes")}),b.jsx("span",{className:"px-2.5 py-1 rounded-md border border-purple-500/30 bg-purple-500/10 text-purple-200",children:Q(yn.campaigns,"campaa","campaas")}),b.jsxs("span",{className:"px-2.5 py-1 rounded-md border border-secondary-gray/30 bg-secondary-gray/15 text-secondary-gray",children:["Abierta ",yn.lastOpened]}),b.jsxs("span",{className:"px-2.5 py-1 rounded-md border border-secondary-gray/30 bg-secondary-gray/15 text-secondary-gray",children:["Actualizacin ",yn.lastUpdated]}),b.jsxs("span",{className:"text-xs text-secondary-gray flex items-center gap-1 ml-auto",children:[w?"Ocultar":"Ver",b.jsx("span",{className:"text-base leading-none",children:w?"":""})]})]})]}),w&&b.jsxs("div",{className:"mt-4 space-y-4",children:[b.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[[{key:"all",label:Q(yn.open,"abierta","abiertas"),active:"border-neon-blue/60 text-neon-blue bg-neon-blue/15",inactive:"border-neon-blue/20 text-secondary-gray hover:bg-neon-blue/10"},{key:"risk",label:Q(yn.urgent,"urgente","urgentes"),active:"border-rose-400/60 text-rose-300 bg-rose-500/15",inactive:"border-rose-400/20 text-secondary-gray hover:bg-rose-500/10"},{key:"overdue",label:Q(Ce.overdueCount,"vencida","vencidas"),active:"border-amber-400/60 text-amber-200 bg-amber-500/15",inactive:"border-amber-400/20 text-secondary-gray hover:bg-amber-500/10"},{key:"campaign",label:Q(yn.campaigns,"campaa","campaas"),active:"border-purple-400/60 text-purple-200 bg-purple-500/15",inactive:"border-purple-400/20 text-secondary-gray hover:bg-purple-500/10"}].map(O=>b.jsx("button",{onClick:()=>Pl(O.key),className:`px-3 py-1 rounded-md border transition-colors ${P===O.key?O.active:O.inactive}`,"aria-pressed":P===O.key,title:"Haz clic para filtrar; vuelve a hacer clic para ver esos alumnos",children:O.label},O.key)),b.jsx("button",{onClick:()=>{var Y;const O=(Y=Re[0])==null?void 0:Y.student.id;r==null||r({focus:"flagged",taskStudentId:O})},className:"px-3 py-1 rounded-md border border-neon-blue/20 hover:bg-neon-blue/20 transition-colors text-neon-blue",children:"Ver alumnos"}),b.jsx("button",{onClick:()=>{R(!0),l==null||l()},className:"px-3 py-1 rounded-md border border-secondary-gray/30 hover:bg-secondary-gray/20 transition-colors text-secondary-gray",children:"Abrir panel de campaas"})]}),oe.length>0&&b.jsx("div",{className:"space-y-2",children:oe.map((O,Y)=>b.jsxs("div",{className:`px-4 py-2 rounded-md border ${O.type==="danger"?"border-rose-500/30 bg-rose-500/10 text-rose-200":"border-amber-500/30 bg-amber-500/10 text-amber-200"} flex items-center justify-between text-xs`,children:[b.jsx("span",{children:O.message}),O.action&&b.jsx("button",{onClick:O.action,className:"ml-3 underline hover:text-high-contrast-white",children:"Revisar"})]},Y))}),b.jsx("div",{className:"space-y-3",children:Re.length===0?b.jsx("p",{className:"text-sm text-secondary-gray",children:"No hay tareas que coincidan con el filtro seleccionado."}):Re.slice(0,6).map(O=>{const Y=O.createdAtMs?new Date(O.createdAtMs).toLocaleString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Reciente";return b.jsx("div",{className:"rounded-lg border border-neon-blue/15 bg-space-black/60 px-4 py-3",children:b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("p",{className:"text-sm font-semibold text-high-contrast-white",children:O.student.name}),O.severity==="critical"&&b.jsx("span",{className:"px-2 py-0.5 text-[10px] uppercase tracking-wide rounded-md bg-rose-500/15 text-rose-300 border border-rose-500/30",children:"Riesgo alto"}),O.isCampaign&&b.jsx("span",{className:"px-2 py-0.5 text-[10px] uppercase tracking-wide rounded-md bg-purple-500/15 text-purple-200 border border-purple-500/30",children:"Campaa"})]}),b.jsx("p",{className:"text-xs text-secondary-gray mt-1",children:O.task.title}),b.jsxs("p",{className:"text-xs text-secondary-gray mt-1",children:["Creada: ",Y,"  ",Cr(O.createdAtMs)]})]}),b.jsxs("div",{className:"flex flex-wrap justify-end gap-2 text-xs",children:[b.jsx("button",{onClick:()=>_n(O.student.id,O.task.id),className:"px-3 py-1 rounded-md bg-emerald-500/15 hover:bg-emerald-500/25 text-emerald-300 transition-colors",children:"Marcar completada"}),b.jsx("button",{onClick:()=>Pi(O.student.id,O.task.id),className:"px-3 py-1 rounded-md bg-secondary-gray/15 hover:bg-secondary-gray/25 text-secondary-gray transition-colors",children:"Posponer"}),b.jsx("button",{onClick:()=>{const le=e.find(de=>de.id===O.student.id);le&&kr(le),r==null||r({taskStudentId:O.student.id})},className:"px-3 py-1 rounded-md border border-neon-blue/20 hover:bg-neon-blue/20 text-neon-blue transition-colors",children:"Abrir alumno"})]})]})},`${O.student.id}-${O.task.id}`)})})]})]}),b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsxs("div",{role:"button",tabIndex:0,onClick:()=>C(O=>!O),onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&C(Y=>!Y)},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 cursor-pointer","aria-expanded":A,children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:"Campaas Programadas"}),b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray mt-1",children:tt.activeCount>0?`${tt.activeCount} activas  ${tt.overdue.length} vencidas  ${tt.upcoming.length} prximas`:"An no hay campaas en el calendario"}),tt.next&&b.jsxs("p",{className:"text-xs text-secondary-gray/70 mt-1",children:["Prxima ejecucin: ",tt.next.templateName,"  ",tt.next.formattedDate]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:`px-2.5 py-1 text-[11px] uppercase tracking-wide rounded-full border ${tt.overdue.length>0?"border-rose-400/40 bg-rose-500/10 text-rose-300":"border-emerald-400/40 bg-emerald-500/10 text-emerald-200"}`,children:tt.overdue.length>0?`${tt.overdue.length} vencidas`:"Al da"}),b.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),R(!0),l==null||l()},className:"px-3 py-1.5 rounded-md bg-neon-blue/15 hover:bg-neon-blue/25 text-neon-blue border border-neon-blue/30 transition-colors",children:"Gestionar campaas"}),b.jsxs("span",{className:"text-xs text-secondary-gray flex items-center gap-1",children:[A?"Ocultar":"Ver",b.jsx("span",{className:"text-base leading-none",children:A?"":""})]})]})]}),A&&b.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"border border-rose-500/20 rounded-lg bg-rose-500/5 p-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-rose-300 mb-2",children:"Vencidas"}),tt.overdue.length===0?b.jsx("p",{className:"text-xs text-secondary-gray",children:"Sin pendientes atrasados."}):b.jsxs("ul",{className:"space-y-2 text-xs text-secondary-gray",children:[tt.overdue.slice(0,3).map(O=>b.jsxs("li",{className:"flex justify-between gap-3",children:[b.jsx("span",{className:"text-high-contrast-white",children:O.templateName}),b.jsx("span",{children:O.formattedDate})]},O.schedule.id)),tt.overdue.length>3&&b.jsxs("li",{className:"text-rose-300",children:["+ ",tt.overdue.length-3," ms"]})]})]}),b.jsxs("div",{className:"border border-neon-blue/20 rounded-lg bg-space-black/40 p-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-neon-blue mb-2",children:"Prximas 7 das"}),tt.upcoming.length===0?b.jsx("p",{className:"text-xs text-secondary-gray",children:"No hay campaas en la prxima semana."}):b.jsxs("ul",{className:"space-y-2 text-xs text-secondary-gray",children:[tt.upcoming.slice(0,3).map(O=>b.jsxs("li",{children:[b.jsx("p",{className:"text-high-contrast-white",children:O.templateName}),b.jsxs("p",{children:[O.frequencyLabel,"  ",O.formattedDate]})]},O.schedule.id)),tt.upcoming.length>3&&b.jsxs("li",{className:"text-neon-blue/80",children:["+ ",tt.upcoming.length-3," adicionales"]})]})]})]})]})]}),b.jsxs("div",{className:"mb-8 bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:"Campaas con IA"}),b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray mt-1",children:"Gestiona plantillas, mensajes y campaas programadas."}),b.jsxs("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-secondary-gray",children:[b.jsxs("span",{className:"px-3 py-1 rounded-md bg-space-black/40 border border-neon-blue/20",children:[Le.length," plantillas"]}),b.jsxs("span",{className:"px-3 py-1 rounded-md bg-space-black/40 border border-neon-blue/20",children:[et.length," programaciones"]}),b.jsxs("span",{className:"px-3 py-1 rounded-md bg-space-black/40 border border-neon-blue/20",children:[tt.activeCount," activas"]})]})]}),b.jsx("button",{onClick:()=>R(O=>!O),className:"self-start px-3 py-1 rounded-md border border-neon-blue/20 text-xs text-secondary-gray hover:bg-neon-blue/20 hover:text-neon-blue transition-colors",children:N?"Ocultar panel":"Ver panel"})]}),N&&b.jsx("div",{className:"mt-6",children:b.jsx(jW,{students:e,isOpen:N,onToggle:()=>R(!1),onTasksUpdated:()=>E(!0)})})]}),b.jsxs("div",{className:"mb-8 bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:"Retencin vs. Mes Anterior"}),b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray mt-1",children:"Actual: 93.5%  Anterior: 92.3%"})]}),b.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:"+1.2%"})]}),b.jsx("button",{onClick:a,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-md border border-neon-blue/20 text-sm text-neon-blue hover:bg-neon-blue/20 transition-colors",children:"Ver anlisis detallado"})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumen Financiero"}),b.jsx("div",{style:{width:"100%",height:300},children:b.jsx(sl,{children:b.jsxs(I7,{data:ye,margin:{top:20,right:20,left:-10,bottom:5},barCategoryGap:"35%",children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:"incomeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:1}),b.jsx("stop",{offset:"100%",stopColor:"#0ea5e9",stopOpacity:1})]}),b.jsxs("linearGradient",{id:"expenseGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"0%",stopColor:"#fb7185",stopOpacity:1}),b.jsx("stop",{offset:"100%",stopColor:"#facc15",stopOpacity:1})]})]}),b.jsx(Xs,{strokeDasharray:"3 3",stroke:"#94A3B820"}),b.jsx(Ws,{dataKey:"name",stroke:"#94A3B8"}),b.jsx(Zs,{stroke:"#94A3B8",tickFormatter:O=>`$${Number(O).toLocaleString()}`}),b.jsx(ml,{content:b.jsx(qW,{})}),b.jsx(bi,{wrapperStyle:{color:"#F8FAFC"},iconType:"circle"}),b.jsx(Nv,{dataKey:"Ingresos",fill:"url(#incomeGradient)",radius:[12,12,4,4],maxBarSize:42,children:b.jsx(tl,{dataKey:"Ingresos",position:"top",formatter:O=>`$${O.toLocaleString()}`,style:{fill:"#F8FAFC",fontSize:12}})}),b.jsx(Nv,{dataKey:"Gastos",fill:"url(#expenseGradient)",radius:[12,12,4,4],maxBarSize:42,children:b.jsx(tl,{dataKey:"Gastos",position:"top",formatter:O=>`$${O.toLocaleString()}`,style:{fill:"#F8FAFC",fontSize:12}})})]})})})]}),b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20 shadow-lg",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Anlisis de Retencin"}),b.jsx("div",{style:{width:"100%",height:300},children:b.jsx(sl,{children:b.jsxs(Iv,{data:s,children:[b.jsx(Xs,{strokeDasharray:"3 3",stroke:"#94A3B820"}),b.jsx(Ws,{dataKey:"month",stroke:"#94A3B8"}),b.jsx(Zs,{stroke:"#94A3B8"}),b.jsx(ml,{contentStyle:{backgroundColor:"#020617",border:"1px solid #00D8FF80",color:"#F8FAFC"}}),b.jsx(bi,{wrapperStyle:{color:"#F8FAFC"}}),b.jsx(nl,{type:"monotone",dataKey:"Tasa de Retencin",stroke:"#10b981",strokeWidth:2,dot:!1}),b.jsx(nl,{type:"monotone",dataKey:"Alumnos en Riesgo",stroke:"#ef4444",strokeWidth:2,dot:!1})]})})})]})]}),$&&K&&b.jsx(Ar,{isOpen:!0,onClose:jr,title:`Seguimiento de ${K.name}`,children:b.jsxs("div",{className:"space-y-4",children:[V.length===0?b.jsx("p",{className:"text-sm text-secondary-gray",children:"No hay tareas activas para este alumno."}):b.jsx("ul",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:V.map(O=>b.jsx("li",{className:"border border-neon-blue/20 rounded-lg bg-space-black/60 px-4 py-3",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold text-high-contrast-white",children:O.title}),b.jsxs("p",{className:"text-xs text-secondary-gray mt-1",children:["Creada ",new Date(O.createdAt).toLocaleString("es-ES")]}),O.completed&&O.completedAt&&b.jsxs("p",{className:"text-xs text-emerald-300 mt-1",children:["Completada ",new Date(O.completedAt).toLocaleString("es-ES")]})]}),b.jsx("div",{className:"flex gap-2 text-xs",children:!O.completed&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>_n(K.id,O.id),className:"px-3 py-1 rounded-md bg-emerald-500/15 hover:bg-emerald-500/25 text-emerald-300",children:"Marcar completada"}),b.jsx("button",{onClick:()=>Pi(K.id,O.id),className:"px-3 py-1 rounded-md bg-secondary-gray/15 hover:bg-secondary-gray/25 text-secondary-gray",children:"Posponer"})]})})]})},O.id))}),b.jsxs("div",{className:"pt-2",children:[b.jsx("label",{className:"block text-xs uppercase tracking-wide text-secondary-gray mb-1",children:"Nueva tarea"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{value:pe,onChange:O=>he(O.target.value),className:"flex-1 bg-space-black border border-neon-blue/20 rounded px-3 py-2 text-sm text-high-contrast-white",placeholder:"Ttulo de la tarea"}),b.jsx("button",{onClick:()=>{!pe.trim()||!K||(ya(K.id,pe.trim()),he(""))},className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400",children:"Crear"})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsx("button",{onClick:jr,className:"px-4 py-2 rounded border border-secondary-gray/40 text-secondary-gray",children:"Cerrar"})})]})}),ne&&fe&&b.jsxs(Ar,{isOpen:!0,onClose:ba,title:`Historial  ${fe.name}`,children:[b.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:L.length===0?b.jsx("p",{className:"text-sm text-secondary-gray",children:"No hay registros en el historial."}):L.map((O,Y)=>b.jsx("div",{className:"rounded-lg border border-neon-blue/20 bg-space-black/60 p-3",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-high-contrast-white",children:O.message||O.note||O.type}),b.jsx("p",{className:"text-xs text-secondary-gray mt-1",children:new Date(O.generatedAt||O.timestamp).toLocaleString("es-ES")})]}),b.jsx("div",{className:"text-xs text-secondary-gray",children:Tr(O.generatedAt||O.timestamp)})]})},Y))}),b.jsx("div",{className:"flex justify-end mt-4",children:b.jsx("button",{onClick:ba,className:"px-4 py-2 rounded border border-secondary-gray/40 text-secondary-gray",children:"Cerrar"})})]})]})},BW=({student:e,onSave:t,onCancel:n})=>{const[r,a]=T.useState(e),l=c=>{const{name:d,value:f}=c.target;a(p=>({...p,[d]:f}))},s=c=>{c.preventDefault(),t(r)};return b.jsxs("form",{onSubmit:s,className:"space-y-4",children:[b.jsx("input",{name:"name",value:r.name||"",onChange:l,placeholder:"Nombre",className:"w-full bg-space-black p-2 rounded border border-neon-blue/50 focus:outline-none focus:ring-2 focus:ring-neon-blue",required:!0}),b.jsx("input",{name:"discipline",value:r.discipline||"",onChange:l,placeholder:"Disciplina",className:"w-full bg-space-black p-2 rounded border border-neon-blue/50 focus:outline-none focus:ring-2 focus:ring-neon-blue",required:!0}),b.jsx("select",{name:"belt",value:r.belt||"",onChange:l,className:"w-full bg-space-black p-2 rounded border border-neon-blue/50 focus:outline-none focus:ring-2 focus:ring-neon-blue",required:!0,children:Object.values(Zt).map(c=>b.jsx("option",{value:c,children:c},c))}),b.jsx("select",{name:"paymentStatus",value:r.paymentStatus||"",onChange:l,className:"w-full bg-space-black p-2 rounded border border-neon-blue/50 focus:outline-none focus:ring-2 focus:ring-neon-blue",required:!0,children:Object.values($t).map(c=>b.jsx("option",{value:c,children:c},c))}),b.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[b.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded bg-secondary-gray/50 hover:bg-secondary-gray/80 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow",children:"Guardar"})]})]})},zW=({student:e,onClose:t,onSaveLog:n,templates:r})=>{const[a,l]=T.useState(""),[s,c]=T.useState(!0),[d,f]=T.useState("manual"),[p,h]=T.useState(""),[x,w]=T.useState(null),A=[{id:"manual",name:"Mensaje individual personalizado",segment:"Todos"},...r];at.useEffect(()=>{var R,P;c(!0),w(null),d==="manual"?$f(e).then(M=>{l(M),c(!1)}):Qs({segment:((R=r.find(M=>M.id===d))==null?void 0:R.segment)||"Todos",customPrompt:(P=r.find(M=>M.id===d))==null?void 0:P.prompt}).then(M=>{l(M),c(!1)}).catch(M=>{console.error(M),l("No se pudo generar un mensaje con la plantilla seleccionada."),c(!1),w("Error al generar con la plantilla.")})},[e,d,r]);const C=()=>{if(!a.trim()){w("No hay mensaje para guardar.");return}const R={id:eb(),studentId:e.id,templateId:d!=="manual"?d:void 0,generatedAt:new Date().toISOString(),message:a};n(R),t()},N=()=>{var R,P;c(!0),w(null),d==="manual"?$f(e).then(M=>{l(M),c(!1)}):Qs({segment:((R=r.find(M=>M.id===d))==null?void 0:R.segment)||"Todos",customPrompt:(P=r.find(M=>M.id===d))==null?void 0:P.prompt}).then(M=>{l(M),c(!1)}).catch(M=>{console.error(M),l("No se pudo generar un mensaje con la plantilla seleccionada."),c(!1),w("Error al generar con la plantilla.")})};return b.jsx(Ar,{isOpen:!0,onClose:t,title:`Motivar a ${e.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase tracking-wide text-secondary-gray mb-1",children:"Usar plantilla"}),b.jsx("select",{value:d,onChange:R=>f(R.target.value),className:"w-full bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white",children:A.map(R=>b.jsx("option",{value:R.id,children:R.name},R.id))})]}),s?b.jsxs("div",{className:"flex items-center justify-center h-24",children:[b.jsx(H_,{}),b.jsx("span",{className:"ml-2",children:"Generando mensaje..."})]}):b.jsx("textarea",{value:a,onChange:R=>l(R.target.value),rows:4,className:"w-full bg-space-black border border-neon-blue/30 rounded-md px-3 py-2 text-sm text-high-contrast-white"}),x&&b.jsx("p",{className:"text-xs text-rose-400",children:x}),b.jsxs("div",{className:"flex justify-between items-center text-xs text-secondary-gray",children:[b.jsx("button",{onClick:N,className:"px-3 py-2 rounded bg-neon-blue/15 hover:bg-neon-blue/25 text-neon-blue transition-colors",children:"Regenerar"}),b.jsx("span",{className:"text-secondary-gray/70",children:"Copia y enva por tu canal preferido."})]}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 rounded border border-secondary-gray/40 text-secondary-gray hover:bg-secondary-gray/20 transition-colors",children:"Cerrar"}),b.jsx("button",{onClick:C,className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow",children:"Guardar en historial"})]})]})})},eb=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2,10),oO=e=>`alert_tasks_${e}`,HW=e=>`alert_interactions_${e}`,Rs=e=>{if(typeof window>"u")return[];try{const t=window.localStorage.getItem(oO(e));if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch(t){return console.warn("No se pudieron leer las tareas del alumno",e,t),[]}},I_=(e,t)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(oO(e),JSON.stringify(t))}catch(n){console.warn("No se pudieron guardar las tareas del alumno",e,n)}},k_=(e,t,n)=>{if(!(typeof window>"u"))try{const r=HW(e),a=window.localStorage.getItem(r),l=a?JSON.parse(a):[];l.push({timestamp:new Date().toISOString(),type:t,note:n}),window.localStorage.setItem(r,JSON.stringify(l))}catch(r){console.warn("No se pudieron registrar las interacciones del alumno",e,r)}},GW=({student:e,tasks:t,onClose:n,onComplete:r,onSnooze:a,formatRelativeTime:l})=>b.jsx(Ar,{isOpen:!0,onClose:n,title:`Seguimiento de ${e.name}`,children:b.jsxs("div",{className:"space-y-4",children:[t.length===0?b.jsx("p",{className:"text-sm text-secondary-gray",children:"No hay tareas activas para este alumno. Usa el panel de alertas o campaas para asignar nuevas acciones."}):b.jsx("ul",{className:"space-y-3",children:t.map(s=>b.jsx("li",{className:"border border-neon-blue/20 rounded-lg bg-space-black/60 px-4 py-3",children:b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-semibold text-high-contrast-white",children:s.title}),b.jsxs("p",{className:"text-xs text-secondary-gray mt-1",children:["Creada el ",new Date(s.createdAt).toLocaleString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),"  ",l(s.createdAt)]}),s.completed&&s.completedAt&&b.jsxs("p",{className:"text-xs text-emerald-300 mt-1",children:["Completada el ",new Date(s.completedAt).toLocaleString("es-ES")]})]}),b.jsx("div",{className:"flex gap-2 text-xs",children:!s.completed&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>r(s.id),className:"px-3 py-1 rounded-md bg-emerald-500/15 hover:bg-emerald-500/25 text-emerald-300 transition-colors",children:"Marcar completada"}),b.jsx("button",{onClick:()=>a(s.id),className:"px-3 py-1 rounded-md bg-secondary-gray/15 hover:bg-secondary-gray/25 text-secondary-gray transition-colors",children:"Posponer"})]})})]})},s.id))}),b.jsx("div",{className:"flex justify-end",children:b.jsx("button",{onClick:n,className:"px-4 py-2 rounded border border-secondary-gray/40 text-secondary-gray hover:bg-secondary-gray/20 transition-colors",children:"Cerrar"})})]})}),$W=({student:e,onClose:t,onSaveFeedback:n})=>{const[r,a]=T.useState(5),[l,s]=T.useState(""),[c,d]=T.useState(""),[f,p]=T.useState(""),[h,x]=T.useState(null),w=()=>{if(r<1||r>5){x("Selecciona un rating entre 1 y 5.");return}const E={id:eb(),studentId:e.id,rating:r,comment:l.trim()||void 0,submittedAt:new Date().toISOString(),className:c.trim()||void 0,instructor:f.trim()||void 0};n(E),t()};return b.jsx(Ar,{isOpen:!0,onClose:t,title:`Feedback de ${e.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase tracking-wide text-secondary-gray mb-1",children:"Rating"}),b.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(E=>b.jsx("button",{onClick:()=>a(E),className:`w-10 h-10 rounded-full border ${E<=r?"bg-amber-400/30 border-amber-400 text-amber-200":"bg-space-black border-neon-blue/30 text-secondary-gray"}`,children:E},E))})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase tracking-wide text-secondary-gray mb-1",children:"Clase"}),b.jsx("input",{value:c,onChange:E=>d(E.target.value),className:"w-full bg-space-black border border-neon-blue/20 rounded px-3 py-2 text-sm text-high-contrast-white",placeholder:"Karate Kids"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase tracking-wide text-secondary-gray mb-1",children:"Instructor"}),b.jsx("input",{value:f,onChange:E=>p(E.target.value),className:"w-full bg-space-black border border-neon-blue/20 rounded px-3 py-2 text-sm text-high-contrast-white",placeholder:"Sensei Hiro"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs uppercase tracking-wide text-secondary-gray mb-1",children:"Comentario"}),b.jsx("textarea",{value:l,onChange:E=>s(E.target.value),rows:3,className:"w-full bg-space-black border border-neon-blue/20 rounded px-3 py-2 text-sm text-high-contrast-white",placeholder:"Cmo se sinti la clase?"})]}),h&&b.jsx("p",{className:"text-xs text-rose-400",children:h}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 rounded border border-secondary-gray/40 text-secondary-gray hover:bg-secondary-gray/20 transition-colors",children:"Cancelar"}),b.jsx("button",{onClick:w,className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow",children:"Guardar feedback"})]})]})})},VW=({student:e,records:t,onClose:n})=>b.jsxs(Ar,{isOpen:!0,onClose:n,title:`Historial de feedback  ${e.name}`,children:[t.length===0?b.jsx("p",{className:"text-sm text-secondary-gray",children:"Todava no hay comentarios registrados para este alumno."}):b.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:t.map(r=>{const a=new Date(r.submittedAt).toLocaleString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return b.jsxs("div",{className:"rounded-lg border border-neon-blue/20 bg-space-black/70 p-4",children:[b.jsxs("div",{className:"flex justify-between items-center text-xs text-secondary-gray uppercase tracking-wide mb-2",children:[b.jsxs("span",{children:[" ",r.rating,"/5"]}),b.jsx("span",{children:a})]}),r.className&&b.jsxs("p",{className:"text-xs text-secondary-gray mb-1",children:["Clase: ",b.jsx("span",{className:"text-high-contrast-white",children:r.className})]}),r.instructor&&b.jsxs("p",{className:"text-xs text-secondary-gray mb-1",children:["Instructor: ",b.jsx("span",{className:"text-high-contrast-white",children:r.instructor})]}),r.comment&&b.jsxs("p",{className:"text-sm text-high-contrast-white/90 mt-2",children:["",r.comment,""]})]},r.id)})}),b.jsx("div",{className:"flex justify-end mt-6",children:b.jsx("button",{onClick:n,className:"px-4 py-2 rounded border border-secondary-gray/40 text-secondary-gray hover:bg-secondary-gray/20 transition-colors",children:"Cerrar"})})]}),FW=({students:e,setStudents:t})=>{const{items:n,addItem:r}=Hr("ai_message_logs",[]),{items:a,addItem:l,updateItem:s,setItems:c}=Hr("attendance_records",[]),{items:d}=Hr("campaign_templates",[]),{items:f,addItem:p}=Hr("feedback_records",[]),[h,x]=T.useState(!1),[w,E]=T.useState(!1),[A,C]=T.useState(!1),[N,R]=T.useState(!1),[P,M]=T.useState(null),[I,k]=T.useState(!1),[j,q]=T.useState(null),[$,te]=T.useState([]),[K,G]=T.useState(0),V=T.useCallback(O=>{if(!O)return"Reciente";const Y=new Date(O).getTime();if(Number.isNaN(Y))return"Reciente";const le=Date.now()-Y,de=new Intl.RelativeTimeFormat("es",{numeric:"auto"}),ve=Math.round(le/(1e3*60));if(Math.abs(ve)<1)return"Justo ahora";if(Math.abs(ve)<60)return de.format(-ve,"minute");const Ne=Math.round(ve/60);if(Math.abs(Ne)<24)return de.format(-Ne,"hour");const xe=Math.round(Ne/24);if(Math.abs(xe)<30)return de.format(-xe,"day");const Ue=Math.round(xe/30);return de.format(-Ue,"month")},[e]);T.useEffect(()=>{if(!(typeof window>"u"))try{const O=window.localStorage.getItem("students_pending_filter");if(!O)return;window.localStorage.removeItem("students_pending_filter");const Y=JSON.parse(O);if(Y&&typeof Y=="object"&&(Y.cohort&&Y.cohort.type&&Y.cohort.value&&Pi(Y.cohort),Y.focus==="chronic"?kr("chronic"):Y.focus==="flagged"&&kr("flagged"),Y.taskStudentId)){const le=e.find(de=>de.id===Y.taskStudentId);le&&(M(le),q(le),te(Rs(le.id)),k(!0))}}catch(O){console.warn("No se pudo aplicar el filtro recibido desde el dashboard:",O)}},[]);const ae=()=>{M(null),x(!0)},me=O=>{M(O),x(!0)},B=O=>{window.confirm("Ests seguro de que quieres eliminar a este alumno?")&&t(e.filter(Y=>Y.id!==O))},ne=O=>{if(P)t(e.map(Y=>Y.id===P.id?{...O,id:Y.id,profilePicUrl:Y.profilePicUrl,riskLevel:Y.riskLevel,joinDate:Y.joinDate}:Y));else{const Y={...O,id:Date.now().toString(),profilePicUrl:`https://picsum.photos/seed/${O.name.replace(/\s/g,"")}/200`,riskLevel:Ye.Low,joinDate:new Date().toISOString()};t([...e,Y])}x(!1)},H=O=>{M(O),E(!0)},fe=O=>{r(O)};T.useEffect(()=>{j&&te(Rs(j.id))},[j,K]);const ge=T.useCallback(O=>{q(O),te(Rs(O.id)),k(!0)},[]),L=()=>{k(!1),q(null),te([])},Z=(O,Y)=>{const le=Rs(O),de=le.find(xe=>xe.id===Y);if(!de)return;const ve=new Date().toISOString(),Ne=le.map(xe=>xe.id===Y?{...xe,completed:!0,completedAt:ve}:xe);I_(O,Ne),k_(O,"task:complete",de.title),G(xe=>xe+1)},pe=(O,Y)=>{const le=Rs(O),de=le.find(xe=>xe.id===Y);if(!de)return;const ve=new Date().toISOString(),Ne=le.map(xe=>xe.id===Y?{...xe,createdAt:ve,completed:!1,completedAt:void 0}:xe);I_(O,Ne),k_(O,"task:snooze",de.title),G(xe=>xe+1)},he=O=>{M(O),C(!0)},ye=O=>{p(O)},Te=O=>{M(O),R(!0)},Oe=T.useMemo(()=>{const O=new Map;return n.forEach(Y=>{O.has(Y.studentId)||O.set(Y.studentId,[]),O.get(Y.studentId).push(Y)}),O.forEach(Y=>Y.sort((le,de)=>new Date(de.generatedAt).getTime()-new Date(le.generatedAt).getTime())),O},[n]),Ve=T.useMemo(()=>{const O=new Map;return a.forEach(Y=>{O.has(Y.studentId)||O.set(Y.studentId,[]),O.get(Y.studentId).push(Y.record)}),O.forEach(Y=>Y.sort((le,de)=>new Date(de.date).getTime()-new Date(le.date).getTime())),O},[a]),oe=T.useMemo(()=>{const O=new Map,Y=new Date,le=new Date(Y.getTime()-8640*60*1e3),de=new Date(Y.getTime()-696*60*60*1e3),ve=Ne=>new Date(Ne+"T00:00:00Z");return e.forEach(Ne=>{const xe=Ve.get(Ne.id)??[];let Ue=0;for(const Nn of xe)if(!Nn.present)Ue+=1;else break;let Ze=0,nt=0,Nt=0,Ct=0;xe.forEach(Nn=>{const Sa=ve(Nn.date);Sa>=le&&(Ze+=1,Nn.present&&(nt+=1)),Sa>=de&&(Nt+=1,Nn.present&&(Ct+=1))});const tr=Ze>0?Math.round(nt/Ze*100):null,bn=Nt>0?Math.round(Ct/Nt*100):null;O.set(Ne.id,{last7:tr,last30:bn,consecutiveAbsences:Ue})}),O},[Ve,e]),Ce=T.useMemo(()=>{const O=new Map;return f.forEach(Y=>{O.has(Y.studentId)||O.set(Y.studentId,[]),O.get(Y.studentId).push(Y)}),O.forEach(Y=>Y.sort((le,de)=>new Date(de.submittedAt).getTime()-new Date(le.submittedAt).getTime())),O},[f]),re=T.useMemo(()=>{const O=new Map;return Ce.forEach((Y,le)=>{var Ne;const de=Y.length,ve=Y.reduce((xe,Ue)=>xe+Ue.rating,0);O.set(le,{avg:de?ve/de:0,count:de,lastComment:(Ne=Y[0])==null?void 0:Ne.comment})}),O},[Ce]),Q=O=>{switch(O){case $t.Paid:return"badge-paid";case $t.Pending:return"badge-pending";case $t.Overdue:return"badge-overdue";default:return"attendance-none"}},Re={discipline:"Disciplina",belt:"Cinturn",risk:"Nivel de riesgo"},be=T.useMemo(()=>{const O=new Set;return e.forEach(Y=>{const le=oe.get(Y.id);if(!le)return;const{consecutiveAbsences:de,last30:ve}=le;(de>=3||typeof ve=="number"&&ve<60)&&O.add(Y.id)}),O},[e,oe]),Le=(O,Y)=>Y.includes("|")?Y.split("|").map(le=>le.trim()).filter(Boolean).some(le=>le===O):O===Y,et=(O,Y)=>Y.type==="discipline"?Le(O.discipline,Y.value):Y.type==="belt"?Le(O.belt,Y.value):Y.type==="risk"?Le(O.riskLevel,Y.value):!0,lt=O=>O===null?"attendance-none":O>=85?"attendance-high":O>=70?"attendance-medium":"attendance-low",[tt,kr]=T.useState("all"),[jr,ya]=T.useState("name"),[_n,Pi]=T.useState(null),zt=T.useMemo(()=>{if(!_n)return null;const O=Re[_n.type]||"Cohorte",Y=_n.value.split("|").map(de=>de.trim()).filter(Boolean),le=Y.length>0?Y.join(" / "):_n.value;return{label:O,values:le}},[_n]),ba=(O,Y)=>{const le=new Date,de=le.toISOString().slice(0,10),ve=a.find(xe=>xe.studentId===O.id&&xe.record.date===de);if(ve&&ve.record.present===Y)return;const Ne={date:de,present:Y,notedAt:le.toISOString()};ve?s(ve.id,xe=>({...xe,record:Ne})):l({id:`${O.id}-${de}-${eb()}`,studentId:O.id,record:Ne})},Tr=T.useMemo(()=>{const O=new Map;return e.forEach(Y=>{const le=oe.get(Y.id);if(!le)return;const{consecutiveAbsences:de,last7:ve,last30:Ne}=le,xe=de>=3||typeof Ne=="number"&&Ne<60,Ue=!xe&&(de===2||typeof Ne=="number"&&Ne<75||typeof ve=="number"&&ve<60);xe?O.set(Y.id,"critical"):Ue&&O.set(Y.id,"warning")}),O},[e,oe]),Cr=T.useMemo(()=>{const O=new Map;return n.forEach(Y=>{const le=new Date(Y.generatedAt).getTime(),de=O.get(Y.studentId)??0;le>de&&O.set(Y.studentId,le)}),O},[n]),yn=T.useMemo(()=>{let O=[...e];return _n&&(O=O.filter(Y=>et(Y,_n))),tt==="flagged"?O=O.filter(Y=>Tr.has(Y.id)):tt==="chronic"&&(O=O.filter(Y=>be.has(Y.id))),jr==="lastMessage"?O.sort((Y,le)=>{const de=Cr.get(Y.id)??0;return(Cr.get(le.id)??0)-de}):O.sort((Y,le)=>Y.name.localeCompare(le.name)),O},[e,_n,tt,jr,Tr,be,Cr]),Pl=()=>{const O=e.map(ve=>({id:ve.id,name:ve.name,records:Ve.get(ve.id)??[]})),Y=new Blob([JSON.stringify(O,null,2)],{type:"application/json"}),le=URL.createObjectURL(Y),de=document.createElement("a");de.href=le,de.download=`asistencia-dojo-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(le)},xa=()=>{window.confirm("Deseas borrar todos los registros de asistencia? Esta accin no se puede deshacer.")&&c([])};return b.jsxs("div",{className:"p-4 sm:p-8 text-high-contrast-white",children:[b.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-8",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Alumnos"}),b.jsx("p",{className:"text-secondary-gray text-sm",children:"Monitorea asistencia, comunicaciones y pagos para anticipar la fuga."})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[b.jsxs("select",{value:tt,onChange:O=>kr(O.target.value),className:"bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-xs sm:text-sm text-high-contrast-white",children:[b.jsx("option",{value:"all",children:"Todos los alumnos"}),b.jsx("option",{value:"flagged",children:"Solo con alertas"}),b.jsx("option",{value:"chronic",children:"Ausencias crnicas"})]}),b.jsxs("select",{value:jr,onChange:O=>ya(O.target.value),className:"bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-xs sm:text-sm text-high-contrast-white",children:[b.jsx("option",{value:"name",children:"Ordenar por nombre"}),b.jsx("option",{value:"lastMessage",children:"Ordenar por ltimo contacto IA"})]}),b.jsx("button",{onClick:Pl,className:"px-3 py-2 rounded border border-neon-blue/30 text-neon-blue hover:bg-neon-blue/20 transition-colors text-xs sm:text-sm",children:"Exportar asistencia"}),b.jsx("button",{onClick:xa,className:"px-3 py-2 rounded border border-rose-400/30 text-rose-300 hover:bg-rose-500/20 transition-colors text-xs sm:text-sm",children:"Reiniciar asistencia"}),b.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow text-sm sm:text-base",children:[b.jsx(HI,{}),"Aadir Alumno"]})]})]}),zt&&b.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6 px-3 py-2 rounded-lg border border-neon-blue/20 bg-nebula-blue/40",children:[b.jsxs("span",{className:"text-xs text-secondary-gray",children:["Mostrando ",zt.label.toLowerCase()," seleccionados: ",b.jsx("span",{className:"text-high-contrast-white",children:zt.values})]}),b.jsx("button",{onClick:()=>Pi(null),className:"px-2 py-1 rounded border border-neon-blue/30 text-neon-blue hover:bg-neon-blue/20 text-xs transition-colors",children:"Quitar filtro"})]}),b.jsx("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-lg overflow-hidden",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full min-w-[640px] text-left",children:[b.jsx("thead",{className:"bg-space-black/50",children:b.jsxs("tr",{className:"text-sm font-semibold text-secondary-gray uppercase tracking-wider",children:[b.jsx("th",{className:"p-4",children:"Perfil"}),b.jsx("th",{className:"p-4",children:"Nombre"}),b.jsx("th",{className:"p-4",children:"Disciplina"}),b.jsx("th",{className:"p-4",children:"Cinturn"}),b.jsx("th",{className:"p-4",children:"Pago"}),b.jsx("th",{className:"p-4",children:"Asistencia"}),b.jsx("th",{className:"p-4",children:"Acciones"})]})}),b.jsx("tbody",{children:yn.map(O=>{var de;const Y=re.get(O.id),le=oe.get(O.id);return b.jsxs("tr",{className:`border-t border-neon-blue/10 hover:bg-neon-blue/10 ${Tr.get(O.id)==="critical"?"bg-rose-500/10":Tr.get(O.id)==="warning"?"bg-amber-500/10":""}`,children:[b.jsx("td",{className:"p-4",children:b.jsx("img",{src:O.profilePicUrl,alt:O.name,className:"w-12 h-12 rounded-full object-cover"})}),b.jsx("td",{className:"p-4 font-medium text-high-contrast-white whitespace-nowrap",children:O.name}),b.jsx("td",{className:"p-4 text-high-contrast-white/80",children:O.discipline}),b.jsx("td",{className:"p-4 text-high-contrast-white/80",children:O.belt}),b.jsx("td",{className:"p-4",children:b.jsx("span",{className:`${Q(O.paymentStatus)} px-2 py-1 text-sm`,children:O.paymentStatus})}),b.jsx("td",{className:"p-4",children:b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 text-xs",children:[b.jsxs("span",{className:`${lt((le==null?void 0:le.last7)??null)} `,children:["7d: ",typeof(le==null?void 0:le.last7)=="number"?`${le.last7}%`:""]}),b.jsxs("span",{className:`${lt((le==null?void 0:le.last30)??null)} `,children:["30d: ",typeof(le==null?void 0:le.last30)=="number"?`${le.last30}%`:""]}),b.jsxs("span",{className:"text-secondary-gray/80",children:["Ausencias seguidas: ",b.jsx("span",{className:"text-high-contrast-white",children:(le==null?void 0:le.consecutiveAbsences)??0})]})]})}),b.jsx("td",{className:"p-4",children:b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("button",{onClick:()=>H(O),className:"p-2 bg-blue-500/20 hover:bg-blue-500/50 rounded-full text-blue-300 hover:text-blue-200 transition-colors",title:"Motivar con IA",children:b.jsx(q_,{})}),b.jsx("button",{onClick:()=>ge(O),className:"p-2 bg-emerald-500/20 hover:bg-emerald-500/30 rounded-full text-emerald-300 hover:text-emerald-200 transition-colors",title:"Seguimiento",children:b.jsx(L_,{})}),b.jsx("button",{onClick:()=>me(O),className:"p-2 bg-yellow-500/20 hover:bg-yellow-500/50 rounded-full text-yellow-300 hover:text-yellow-200 transition-colors",title:"Editar",children:b.jsx(B_,{})}),b.jsx("button",{onClick:()=>B(O.id),className:"p-2 bg-red-500/20 hover:bg-red-500/50 rounded-full text-red-300 hover:text-red-200 transition-colors",title:"Eliminar",children:b.jsx(z_,{})}),b.jsxs("span",{className:"text-[10px] text-secondary-gray uppercase tracking-wide",children:[((de=Oe.get(O.id))==null?void 0:de.length)??0," mensajes"]}),b.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-secondary-gray",children:[b.jsx("button",{onClick:()=>ba(O,!0),className:"px-2 py-1 rounded bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-300 transition-colors",children:"Presente"}),b.jsx("button",{onClick:()=>ba(O,!1),className:"px-2 py-1 rounded bg-rose-500/20 hover:bg-rose-500/30 text-rose-300 transition-colors",children:"Ausente"}),b.jsx("span",{className:"ml-1",children:(()=>{const ve=new Date().toISOString().slice(0,10),xe=(Ve.get(O.id)??[]).find(Ue=>Ue.date===ve);return xe?xe.present?"Asistencia hoy: ":"Asistencia hoy: ":"Asistencia hoy: "})()}),b.jsxs("span",{className:"text-[10px] text-secondary-gray",children:[" ",Y?Y.avg.toFixed(1):""," (",(Y==null?void 0:Y.count)??0,")"]}),b.jsx("button",{onClick:()=>he(O),className:"px-2 py-1 rounded bg-purple-500/20 hover:bg-purple-500/30 text-purple-200 transition-colors text-[10px]",children:"Feedback"}),b.jsx("button",{onClick:()=>Te(O),className:`px-2 py-1 rounded transition-colors text-[10px] ${Y&&Y.count>0?"bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-200":"bg-secondary-gray/10 text-secondary-gray cursor-not-allowed"}`,disabled:!Y||Y.count===0,children:"Historial"})]})]})})]},O.id)})})]})})}),b.jsx(Ar,{isOpen:h,onClose:()=>x(!1),title:P?"Editar Alumno":"Aadir Alumno",children:b.jsx(BW,{student:P||{},onSave:ne,onCancel:()=>x(!1)})}),w&&P&&b.jsx(zW,{student:P,onClose:()=>E(!1),onSaveLog:fe,templates:d}),A&&P&&b.jsx($W,{student:P,onClose:()=>C(!1),onSaveFeedback:ye}),N&&P&&b.jsx(VW,{student:P,records:Ce.get(P.id)??[],onClose:()=>R(!1)}),I&&j&&b.jsx(GW,{student:j,tasks:$,onClose:L,onComplete:O=>{Z(j.id,O)},onSnooze:O=>{pe(j.id,O)},formatRelativeTime:V})]})},KW=({classes:e,setClasses:t})=>{const n=new Date,r=new Date,a=(n.getDay()+6)%7,l=n.getDate(),s=new Date(n.getFullYear(),n.getMonth(),n.getDate()),c=q=>{const $=new Date;return $.setDate(l-(a-q)),$},d=q=>{const $=String(q.getHours()).padStart(2,"0"),te=String(q.getMinutes()).padStart(2,"0");return`${$}:${te}`},f=()=>{const q=new Date,$=new Date(q);return $.setMinutes(Math.ceil($.getMinutes()/15)*15,0,0),$.getTime()<=q.getTime()&&$.setMinutes($.getMinutes()+15),d($)},p=Oc[a],h=Ln[0]??"Profesor asignado",[x,w]=at.useState(null),[E,A]=at.useState({name:"",day:p,time:f(),level:Sn.Beginners,instructor:h}),C=x!==null,N=()=>{A({name:"",day:p,time:f(),level:Sn.Beginners,instructor:h})},R=()=>{N(),w("create")},P=q=>{A({...q,instructor:q.instructor||h}),w("edit")},M=()=>{w(null),N()},I=()=>{if(!E.name||!E.time||!E.day||!E.level)return;const q=new Date,$=E.day,te=Oc.indexOf($);if(te===-1){alert("Selecciona un da vlido.");return}if(j(c(te),E.time).getTime()<=q.getTime()){alert("No puedes programar una clase en una fecha u hora pasada.");return}const G={id:x==="edit"&&E.id?E.id:`c${Date.now()}`,name:E.name,day:$,time:E.time,level:E.level,instructor:E.instructor||h};if(x==="edit"&&E.id){const V=e.map(ae=>ae.id===E.id?G:ae);t(V)}else t([...e,G]);M()},k=q=>{window.confirm(`Eliminar la clase "${q.name}"?`)&&t(e.filter(te=>te.id!==q.id))},j=(q,$)=>{const[te,K]=$.split(":").map(Number),G=new Date(q);return G.setHours(te??0,K??0,0,0),G};return b.jsxs("div",{className:"p-8 text-high-contrast-white",children:[b.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Horario de Clases"}),b.jsx("div",{className:"mb-6 flex justify-end",children:b.jsx("button",{onClick:R,className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow",children:"Agregar Horario"})}),C&&b.jsx(Ar,{isOpen:C,onClose:M,title:x==="edit"?"Editar Horario":"Nuevo Horario",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Nombre de la Clase"}),b.jsx("input",{value:E.name??"",onChange:q=>A({...E,name:q.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Da"}),b.jsx("select",{value:E.day??p,onChange:q=>A({...E,day:q.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2",children:Oc.map(q=>b.jsx("option",{value:q,children:q},q))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Hora"}),b.jsx("input",{type:"time",value:E.time??f(),onChange:q=>A({...E,time:q.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Nivel"}),b.jsx("select",{value:E.level??Sn.Beginners,onChange:q=>A({...E,level:q.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2",children:Object.values(Sn).map(q=>b.jsx("option",{value:q,children:q},q))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Profesor"}),b.jsx("select",{value:E.instructor??h,onChange:q=>A({...E,instructor:q.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2",children:Ln.map(q=>b.jsx("option",{value:q,children:q},q))})]}),b.jsxs("div",{className:"flex justify-end gap-4",children:[b.jsx("button",{onClick:M,className:"px-4 py-2 rounded border border-neon-blue/20",children:"Cancelar"}),b.jsx("button",{onClick:I,className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400",children:x==="edit"?"Guardar Cambios":"Crear"})]})]})}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Oc.map((q,$)=>{const te=c($),K=te<s;return b.jsxs("div",{className:`bg-nebula-blue border border-neon-blue/20 rounded-lg p-4 ${K?"opacity-50":""}`,children:[b.jsxs("h2",{className:"text-xl font-bold mb-4 text-center",children:[q," ",b.jsx("span",{className:"text-secondary-gray text-sm",children:te.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})})]}),b.jsx("div",{className:"space-y-3",children:e.filter(G=>G.day===q).sort((G,V)=>G.time.localeCompare(V.time)).map(G=>b.jsxs("div",{className:"bg-space-black p-3 rounded-lg flex items-center gap-3",children:[b.jsx("div",{className:`w-2 h-16 rounded-full ${YI[G.level]}`}),b.jsxs("div",{className:"flex-grow",children:[b.jsx("p",{className:"font-bold",children:G.name}),b.jsx("p",{className:"text-secondary-gray text-sm",children:G.level}),b.jsx("p",{className:"text-secondary-gray text-xs italic",children:G.instructor||h}),b.jsx("p",{className:"text-neon-blue font-semibold",children:G.time})]}),b.jsx("div",{className:"flex flex-col gap-2",children:(()=>{const ae=j(te,G.time).getTime()<=r.getTime();return b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>P(G),disabled:ae,className:"p-1.5 bg-yellow-500/20 hover:bg-yellow-500/50 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",title:ae?"Clase finalizada, no editable":"Editar clase",children:b.jsx(B_,{})}),b.jsx("button",{onClick:()=>k(G),disabled:ae,className:"p-1.5 bg-red-500/20 hover:bg-red-500/50 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",title:ae?"Clase finalizada, no eliminable":"Eliminar clase",children:b.jsx(z_,{})})]})})()})]},G.id))})]},q)})})]})},jg=({title:e,value:t,color:n})=>b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20",children:[b.jsx("h3",{className:"text-secondary-gray text-sm font-medium uppercase",children:e}),b.jsx("p",{className:`text-4xl font-bold ${n}`,children:t})]}),YW=({transactions:e})=>{const[t,n]=at.useState(e),[r,a]=at.useState(!1),[l,s]=at.useState({description:"",amount:"",type:mn.Income,date:new Date().toISOString().split("T")[0]}),c=t.filter(x=>new Date(x.date).getMonth()===new Date().getMonth()),d=()=>{const x={id:`t${Date.now()}`,description:l.description,amount:parseFloat(l.amount),type:l.type,date:new Date(l.date).toISOString()};n([...t,x]),a(!1),s({description:"",amount:"",type:mn.Income,date:new Date().toISOString().split("T")[0]})},f=c.filter(x=>x.type===mn.Income).reduce((x,w)=>x+w.amount,0),p=c.filter(x=>x.type===mn.Expense).reduce((x,w)=>x+w.amount,0),h=f-p;return b.jsxs("div",{className:"p-8 text-high-contrast-white",children:[b.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Finanzas"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[b.jsx(jg,{title:"Ingresos (Mes Actual)",value:`$${f.toFixed(2)}`,color:"text-green-400"}),b.jsx(jg,{title:"Gastos (Mes Actual)",value:`$${p.toFixed(2)}`,color:"text-red-400"}),b.jsx(jg,{title:"Beneficio Neto",value:`$${h.toFixed(2)}`,color:h>=0?"text-cyan-400":"text-red-400"})]}),r&&b.jsx(Ar,{isOpen:r,onClose:()=>a(!1),title:"Nueva Transaccin",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Descripcin"}),b.jsx("input",{type:"text",value:l.description,onChange:x=>s({...l,description:x.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Monto"}),b.jsx("input",{type:"number",value:l.amount,onChange:x=>s({...l,amount:x.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Tipo"}),b.jsxs("select",{value:l.type,onChange:x=>s({...l,type:x.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2",children:[b.jsx("option",{value:mn.Income,children:"Ingreso"}),b.jsx("option",{value:mn.Expense,children:"Gasto"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-secondary-gray",children:"Fecha"}),b.jsx("input",{type:"date",value:l.date,onChange:x=>s({...l,date:x.target.value}),className:"mt-1 block w-full rounded-md bg-space-black border border-neon-blue/20 text-high-contrast-white p-2"})]}),b.jsxs("div",{className:"flex justify-end gap-4",children:[b.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 rounded border border-neon-blue/20 hover:bg-neon-blue/10",children:"Cancelar"}),b.jsx("button",{onClick:d,className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow",children:"Agregar"})]})]})}),b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-lg overflow-hidden",children:[b.jsxs("div",{className:"flex justify-between items-center p-4",children:[b.jsx("h2",{className:"text-xl font-bold",children:"Historial de Transacciones"}),b.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow",children:"Nueva Transaccin"})]}),b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-space-black/50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4",children:"Fecha"}),b.jsx("th",{className:"p-4",children:"Descripcin"}),b.jsx("th",{className:"p-4",children:"Tipo"}),b.jsx("th",{className:"p-4 text-right",children:"Monto"})]})}),b.jsx("tbody",{children:t.sort((x,w)=>new Date(w.date).getTime()-new Date(x.date).getTime()).map(x=>b.jsxs("tr",{className:"border-t border-neon-blue/10 hover:bg-neon-blue/10",children:[b.jsx("td",{className:"p-4 text-secondary-gray",children:new Date(x.date).toLocaleDateString()}),b.jsx("td",{className:"p-4 font-medium",children:x.description}),b.jsx("td",{className:"p-4",children:b.jsx("span",{className:`font-semibold ${x.type===mn.Income?"text-green-400":"text-red-400"}`,children:x.type})}),b.jsxs("td",{className:`p-4 text-right font-mono ${x.type===mn.Income?"text-green-400":"text-red-400"}`,children:[x.type===mn.Income?"+":"-","$",x.amount.toFixed(2)]})]},x.id))})]})]})]})},JW=[{id:"novice",label:"Novatos (Blanco  Amarillo  Naranja)",belts:[Zt.White,Zt.Yellow,Zt.Orange],baseline:.78,weeklyDelta:.02,color:"#22d3ee"},{id:"intermediate",label:"Intermedios (Verde  Azul  Morado)",belts:[Zt.Green,Zt.Blue,Zt.Purple],baseline:.84,weeklyDelta:.015,color:"#a855f7"},{id:"advanced",label:"Avanzados (Marrn  Negro)",belts:[Zt.Brown,Zt.Black],baseline:.9,weeklyDelta:.008,color:"#f97316"}],XW=6,WW=e=>{const t=[],n=new Date;n.setHours(0,0,0,0);const r=new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"short"});for(let a=0;a<e;a++){const l=new Date(n);l.setDate(l.getDate()-a*7);const s=new Date(l);s.setDate(s.getDate()-6),t.unshift({label:`${r.format(s)}  ${r.format(l)}`,start:s,end:l,startMs:s.getTime(),endMs:l.getTime()})}return t},Lg={id:"manual",name:"Mensaje individual",segment:"Todos"},ZW=({student:e,onClose:t,onSaveLog:n,templates:r})=>{const[a,l]=T.useState(""),[s,c]=T.useState(!0),[d,f]=T.useState(Lg.id),[p,h]=T.useState(null),x=[Lg,...r];at.useEffect(()=>{c(!0),h(null);const A=r.find(N=>N.id===d);(A?Qs({segment:A.segment,customPrompt:A.prompt}):$f(e)).then(N=>{l(N),c(!1)}).catch(N=>{console.error(N),l("No se pudo generar un mensaje con la plantilla seleccionada."),c(!1),h("Error generando el mensaje.")})},[e,d,r]);const w=()=>{if(!a.trim()){h("El mensaje est vaco.");return}const A={id:`${e.id}-${Date.now()}`,studentId:e.id,templateId:d!==Lg.id?d:void 0,generatedAt:new Date().toISOString(),message:a};n(A),t()},E=()=>{const A=r.find(N=>N.id===d);c(!0),h(null),(A?Qs({segment:A.segment,customPrompt:A.prompt}):$f(e)).then(N=>{l(N),c(!1)}).catch(N=>{console.error(N),l("No se pudo generar un mensaje con la plantilla seleccionada."),c(!1),h("Error generando el mensaje.")})};return b.jsx(Ar,{isOpen:!0,onClose:t,title:`Contactar a ${e.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx("p",{className:"text-secondary-gray text-sm",children:"Usa este mensaje generado por IA para re-conectar con tu alumno. Puedes editarlo antes de guardarlo en el historial."}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-secondary-gray uppercase tracking-wide mb-1",children:"Plantilla"}),b.jsx("select",{value:d,onChange:A=>f(A.target.value),className:"w-full bg-space-black border border-neon-blue/20 rounded-md px-3 py-2 text-sm text-high-contrast-white",children:x.map(A=>b.jsx("option",{value:A.id,children:A.name},A.id))})]}),s?b.jsxs("div",{className:"flex items-center justify-center h-24",children:[b.jsx(H_,{}),b.jsx("span",{className:"ml-2",children:"Generando mensaje..."})]}):b.jsx("textarea",{value:a,onChange:A=>l(A.target.value),rows:4,className:"w-full bg-space-black border border-neon-blue/30 rounded-md px-3 py-2 text-sm text-high-contrast-white"}),p&&b.jsx("p",{className:"text-xs text-rose-400",children:p}),b.jsxs("div",{className:"flex justify-between text-xs text-secondary-gray",children:[b.jsx("button",{onClick:E,className:"px-3 py-2 rounded bg-neon-blue/15 hover:bg-neon-blue/25 text-neon-blue transition-colors",children:"Regenerar"}),b.jsx("span",{className:"text-secondary-gray/70",children:"Copia y enva este mensaje por tu canal preferido."})]}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 rounded border border-secondary-gray/40 text-secondary-gray hover:bg-secondary-gray/20 transition-colors",children:"Cerrar"}),b.jsx("button",{onClick:w,className:"px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow",children:"Guardar historial"})]})]})})},QW=({students:e,onNavigateToStudents:t})=>{const{items:n,addItem:r}=Hr("ai_message_logs",[]),{items:a}=Hr("campaign_templates",[]),{items:l}=Hr("attendance_records",[]),[s,c]=T.useState(null),[d,f]=T.useState([]),[p,h]=T.useState(!1),x=(M,I)=>{t&&t({cohort:{type:M,value:I}})};T.useEffect(()=>{f([{month:"Nov","Tasa de Retencin":82.5,"Alumnos en Riesgo":17.5},{month:"Dic","Tasa de Retencin":83.2,"Alumnos en Riesgo":16.8},{month:"Ene","Tasa de Retencin":84.1,"Alumnos en Riesgo":15.9},{month:"Feb","Tasa de Retencin":85.3,"Alumnos en Riesgo":14.7},{month:"Mar","Tasa de Retencin":86.8,"Alumnos en Riesgo":13.2},{month:"Abr","Tasa de Retencin":87.4,"Alumnos en Riesgo":12.6},{month:"May","Tasa de Retencin":88.9,"Alumnos en Riesgo":11.1},{month:"Jun","Tasa de Retencin":89.5,"Alumnos en Riesgo":10.5},{month:"Jul","Tasa de Retencin":90.2,"Alumnos en Riesgo":9.8},{month:"Ago","Tasa de Retencin":91.1,"Alumnos en Riesgo":8.9},{month:"Sep","Tasa de Retencin":92.3,"Alumnos en Riesgo":7.7},{month:"Oct","Tasa de Retencin":93.5,"Alumnos en Riesgo":6.5}])},[e]);const w=at.useMemo(()=>{const M=new Map;return n.forEach(I=>{M.has(I.studentId)||M.set(I.studentId,[]),M.get(I.studentId).push(I)}),M.forEach(I=>I.sort((k,j)=>new Date(j.generatedAt).getTime()-new Date(k.generatedAt).getTime())),M},[n]),E=at.useMemo(()=>{const M=new Map;return l.forEach(I=>{M.has(I.studentId)||M.set(I.studentId,[]),M.get(I.studentId).push(I.record)}),M.forEach(I=>I.sort((k,j)=>new Date(j.date).getTime()-new Date(k.date).getTime())),M},[l]),A=at.useMemo(()=>{const M=WW(XW),I=JW.map(q=>({...q,students:e.filter($=>q.belts.includes($.belt))}));if(M.length===0)return{rows:[],summary:[],cohorts:[]};const k=M.map((q,$)=>{const te={label:q.label};return I.forEach(K=>{const G=K.students;if(G.length===0){te[K.id]=Number(((K.baseline+$*K.weeklyDelta)*100).toFixed(1));return}let V=0,ae=0;G.forEach(ge=>{const Z=(E.get(ge.id)??[]).filter(pe=>{const he=new Date(pe.date).getTime();return he>=q.startMs&&he<=q.endMs});Z.length>0&&(V+=1,Z.some(he=>he.present)&&(ae+=1))});const me=(K.baseline+$*K.weeklyDelta)*100,B=V>0,ne=B?V:G.length,H=ne>0?ae/ne*100:me,fe=B?H:me;te[K.id]=Number(Math.min(100,Math.max(0,fe)).toFixed(1))}),te}),j=I.map(q=>{const $=q.belts.join("|"),te=k.length>0?k[k.length-1][q.id]??null:null,K=k.length>1?k[k.length-2][q.id]??null:null,G=te!==null&&K!==null?Number((te-K).toFixed(1)):null;return{id:q.id,label:q.label,latest:te,delta:G,color:q.color,filterValue:$}});return{rows:k,summary:j,cohorts:I.map(({id:q,label:$,color:te})=>({id:q,label:$,color:te}))}},[e,E]),C=at.useMemo(()=>{const M=new Map;return e.forEach(I=>{const k=M.get(I.discipline)??{total:0,atRisk:0};k.total+=1,I.riskLevel!==Ye.Low&&(k.atRisk+=1),M.set(I.discipline,k)}),Array.from(M.entries()).map(([I,k])=>({discipline:I,...k,ratio:k.total>0?Number((k.atRisk/k.total*100).toFixed(1)):0})).filter(I=>I.total>0).sort((I,k)=>k.ratio-I.ratio).slice(0,3)},[e]),N=at.useMemo(()=>{const M={[Ye.High]:0,[Ye.Medium]:0,[Ye.Low]:0};return e.forEach(I=>{M[I.riskLevel]=(M[I.riskLevel]||0)+1}),[{id:"risk-high",label:"Riesgo alto",description:"Requiere contacto prioritario y plan de retencin.",level:Ye.High,count:M[Ye.High],color:"text-rose-300 border-rose-400/40"},{id:"risk-medium",label:"Riesgo medio",description:"Seguimiento semanal para evitar escalada.",level:Ye.Medium,count:M[Ye.Medium],color:"text-amber-200 border-amber-400/40"},{id:"risk-low",label:"Riesgo bajo",description:"Mantener motivacin y presencia.",level:Ye.Low,count:M[Ye.Low],color:"text-emerald-200 border-emerald-400/40"}]},[e]),R=e.filter(M=>M.riskLevel===Ye.High||M.riskLevel===Ye.Medium).sort((M,I)=>M.riskLevel===Ye.High?-1:1),P=M=>M===Ye.High?"text-red-400 border-red-400":M===Ye.Medium?"text-yellow-400 border-yellow-400":"text-green-400 border-green-400";return b.jsxs("div",{className:"p-8 text-high-contrast-white",children:[b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Retencin de Alumnos"}),b.jsx("p",{className:"text-secondary-gray mb-8",children:"Lista priorizada de alumnos en riesgo de abandonar. Acta ahora!"}),b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-lg p-4 mb-8",children:[b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Anlisis de Retencin"}),b.jsx("div",{className:"h-80",children:b.jsx(sl,{width:"100%",height:"100%",children:b.jsxs(Iv,{data:d,children:[b.jsx(Xs,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),b.jsx(Ws,{dataKey:"month",stroke:"#9ca3af"}),b.jsx(Zs,{stroke:"#9ca3af"}),b.jsx(ml,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid rgba(0,216,255,0.2)"}}),b.jsx(bi,{}),b.jsx(nl,{type:"monotone",dataKey:"Tasa de Retencin",stroke:"#10b981",strokeWidth:2,dot:!1}),b.jsx(nl,{type:"monotone",dataKey:"Alumnos en Riesgo",stroke:"#ef4444",strokeWidth:2,dot:!1})]})})})]}),b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-lg p-4 mb-8",children:[b.jsxs("button",{type:"button",onClick:()=>h(M=>!M),className:"w-full flex flex-col md:flex-row md:items-center md:justify-between gap-4 text-left",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:"Retencin por cohorte  ltimas 6 semanas"}),b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray mt-1",children:"Comparativa por nivel de cinturn (datos reales de asistencia)"})]}),b.jsxs("span",{className:"text-xs text-secondary-gray flex items-center gap-1",children:[p?"Ocultar":"Ver",b.jsx("span",{className:"text-base leading-none",children:p?"":""})]})]}),p&&(A.rows.length===0?b.jsx("p",{className:"text-secondary-gray text-sm mt-4",children:"Recolectando datos de asistencia recientes vuelve ms tarde."}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:A.summary.map(M=>b.jsxs("div",{className:"rounded-lg border border-neon-blue/15 bg-space-black/40 p-4",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:M.label}),b.jsx("p",{className:"text-2xl font-bold text-high-contrast-white mt-1",children:M.latest!==null?`${M.latest}%`:""}),M.delta!==null?b.jsxs("p",{className:`text-xs font-semibold mt-1 ${M.delta>=0?"text-emerald-300":"text-rose-300"}`,children:[M.delta>=0?"+":"",M.delta,"% vs semana anterior"]}):b.jsx("p",{className:"text-xs text-secondary-gray mt-1",children:"Sin histrico suficiente"}),t&&b.jsx("button",{type:"button",onClick:()=>x("belt",M.filterValue),className:"mt-3 inline-flex items-center gap-2 text-xs px-3 py-1 rounded-md border border-neon-blue/20 text-neon-blue hover:bg-neon-blue/15 transition-colors",children:"Ver alumnos"})]},M.id))}),b.jsx("div",{className:"h-72 mt-6",children:b.jsx(sl,{width:"100%",height:"100%",children:b.jsxs(Iv,{data:A.rows,children:[b.jsx(Xs,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),b.jsx(Ws,{dataKey:"label",stroke:"#9ca3af"}),b.jsx(Zs,{unit:"%",stroke:"#9ca3af",domain:[70,100]}),b.jsx(ml,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid rgba(0,216,255,0.2)"}}),b.jsx(bi,{}),A.cohorts.map(M=>b.jsx(nl,{type:"monotone",dataKey:M.id,name:M.label,stroke:M.color,strokeWidth:2,dot:!1},M.id))]})})})]}))]}),C.length>0&&b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-lg p-6 mb-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Disciplinas en foco"}),b.jsx("h2",{className:"text-xl font-bold",children:"Dnde se concentra el riesgo?"})]}),b.jsxs("span",{className:"text-xs text-secondary-gray",children:["Top 3 de ",C.length," disciplinas"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:C.map(M=>b.jsxs("div",{className:"rounded-lg border border-neon-blue/15 bg-space-black/40 p-4 flex flex-col gap-2",children:[b.jsx("p",{className:"text-sm font-semibold text-high-contrast-white",children:M.discipline}),b.jsxs("p",{className:"text-xs text-secondary-gray",children:[M.atRisk," de ",M.total," alumnos con alerta  ",M.ratio,"% del grupo"]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"flex-1 h-2 rounded-full bg-space-black/70 overflow-hidden",children:b.jsx("div",{className:"h-full bg-gradient-to-r from-rose-400 to-neon-blue",style:{width:`${Math.min(100,M.ratio)}%`}})}),b.jsxs("span",{className:"text-xs text-secondary-gray",children:[M.ratio,"%"]})]}),t&&b.jsxs("button",{type:"button",onClick:()=>x("discipline",M.discipline),className:"mt-2 inline-flex items-center justify-center px-3 py-1 text-xs rounded-md border border-neon-blue/20 text-neon-blue hover:bg-neon-blue/10 transition-colors",children:["Ver alumnos de ",M.discipline]})]},M.discipline))})]}),b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-lg p-6 mb-8",children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Niveles de riesgo"}),b.jsx("h2",{className:"text-xl font-bold",children:"Prioriza tus seguimientos"})]})}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:N.map(M=>b.jsxs("div",{className:`rounded-lg border ${M.color} bg-space-black/40 p-4 flex flex-col gap-2`,children:[b.jsx("p",{className:"text-sm font-semibold text-high-contrast-white",children:M.label}),b.jsx("p",{className:"text-3xl font-bold text-high-contrast-white",children:M.count}),b.jsx("p",{className:"text-xs text-secondary-gray",children:M.description}),t&&b.jsx("button",{type:"button",onClick:()=>x("risk",M.level),className:"mt-2 inline-flex items-center justify-center px-3 py-1 text-xs rounded-md border border-neon-blue/20 text-neon-blue hover:bg-neon-blue/10 transition-colors",children:"Ver alumnos"})]},M.id))})]}),b.jsx("h2",{className:"text-xl font-bold mb-4",children:"Alumnos en Riesgo"}),b.jsx("div",{className:"space-y-4",children:R.length>0?R.map(M=>{var V;const I=w.get(M.id)??[],k=E.get(M.id)??[],j=new Date().toISOString().slice(0,10),q=k[0],$=k.filter(ae=>ae.present).length,te=k.filter(ae=>!ae.present).length,K=(()=>{let ae=0;for(const me of k)if(!me.present)ae+=1;else break;return ae})(),G=(V=k.find(ae=>ae.date===j))==null?void 0:V.present;return b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-lg p-4 space-y-4",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("img",{src:M.profilePicUrl,alt:M.name,className:"w-16 h-16 rounded-full object-cover"}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold",children:M.name}),b.jsxs("p",{className:"text-secondary-gray",children:[M.discipline," - ",M.belt]}),b.jsxs("span",{className:`mt-1 inline-block px-2 py-0.5 text-xs font-semibold rounded-full border ${P(M.riskLevel)}`,children:["Riesgo ",M.riskLevel]}),b.jsxs("div",{className:"mt-2 text-[11px] text-secondary-gray/80 space-y-1",children:[b.jsxs("p",{children:["Asistencia hoy: ",G===void 0?"":G?" Presente":" Ausente"]}),b.jsxs("p",{children:["Ausencias consecutivas: ",K]}),b.jsxs("p",{children:["ltimo registro: ",q?`${q.present?"Asisti":"Falt"} el ${new Date(q.date).toLocaleDateString()}`:"Sin registros recientes"]}),b.jsxs("p",{children:["Balance 30 das: ",$," presentes  ",te," ausentes"]})]})]})]}),b.jsxs("button",{onClick:()=>c(M),className:"flex items-center gap-2 px-4 py-2 rounded bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow",children:[b.jsx(q_,{}),"Contactar"]})]}),b.jsxs("div",{className:"border border-neon-blue/15 rounded-lg p-3 bg-space-black/40",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Historial de mensajes AI"}),b.jsxs("span",{className:"text-[10px] uppercase tracking-wide text-secondary-gray",children:[I.length," mensajes"]})]}),I.length===0?b.jsxs("p",{className:"text-xs text-secondary-gray",children:["An no hay mensajes registrados para ",M.name,'. Genera uno con el botn "Contactar".']}):b.jsxs("ul",{className:"space-y-2",children:[I.slice(0,3).map(ae=>b.jsxs("li",{className:"text-xs text-secondary-gray/90 border border-neon-blue/10 rounded-md px-3 py-2 bg-space-black/60",children:[b.jsx("p",{className:"text-high-contrast-white whitespace-pre-line",children:ae.message}),b.jsxs("div",{className:"flex justify-between items-center mt-1 text-[10px] text-secondary-gray/70",children:[b.jsx("span",{children:new Date(ae.generatedAt).toLocaleString()}),ae.templateId&&b.jsx("span",{className:"uppercase tracking-wide",children:"Plantilla"})]})]},ae.id)),I.length>3&&b.jsxs("li",{className:"text-[10px] text-secondary-gray/70 italic",children:["Hay ",I.length-3," mensajes adicionales en el historial."]})]})]})]},M.id)}):b.jsx("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-lg p-8 text-center",children:b.jsx("p",{className:"text-secondary-gray",children:"Excelente! Ningn alumno se encuentra en riesgo actualmente."})})}),s&&b.jsx(ZW,{student:s,onClose:()=>c(null),onSaveLog:r,templates:a})]})},eZ=({filled:e})=>b.jsx("svg",{className:`w-6 h-6 ${e?"text-rose-400":"text-high-contrast-white"}`,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),tZ=()=>b.jsx("svg",{className:"w-6 h-6 text-high-contrast-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),nZ=()=>b.jsx("svg",{className:"w-6 h-6 text-high-contrast-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),rZ=[{id:"event-1",title:"Exhibicin cinturones intermedios",date:"24 Oct  19:00",attendees:38,mood:"+12 alumnos confirmados",cover:"https://images.unsplash.com/photo-1508804185872-d7badad00f7d?auto=format&fit=crop&w=600&q=60"},{id:"event-2",title:"Seminario de kumite",date:"29 Oct  10:00",attendees:42,mood:"Sensei Hiro invitado",cover:"https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?auto=format&fit=crop&w=600&q=60"},{id:"event-3",title:"Campeonato interno junior",date:"02 Nov  08:00",attendees:55,mood:"Cupn del 15% para referidos",cover:"https://images.unsplash.com/photo-1521804906057-3d79050d722a?auto=format&fit=crop&w=600&q=60"}],Ug={title:"",date:"",attendees:30,mood:"",cover:""},iZ=[{id:"spot-1",name:"Ryu Hoshi",discipline:"Karate  Avanzado",streak:"8 asistencias seguidas",badge:" sin faltas",image:vr("images/students/Ryu-Hoshi.png")},{id:"spot-2",name:"Chun-Li",discipline:"Kung Fu  Elite",streak:"Top 3 en feedback",badge:" referente",image:vr("images/students/Chun-Li.png")},{id:"spot-3",name:"Ken Masters",discipline:"Karate  Brown belt",streak:"2 nuevos referidos",badge:" embajador",image:vr("images/students/Ken-Masters.png")},{id:"spot-4",name:"Sakura Kasugano",discipline:"Karate  Azul",streak:"+5 sesiones IA",badge:" motivadora",image:vr("images/students/Sakura-Kasugano.png")}],aZ=({posts:e,onCreatePost:t})=>{const[n,r]=Dr("community_events",rZ),[a,l]=at.useState({open:!1}),[s,c]=at.useState(Ug),[d,f]=at.useState(!1),[p,h]=at.useState({author:"Sensei del Dojo",caption:"",imageUrl:""}),[x,w]=at.useState({}),E=()=>{c(Ug),l({open:!0})},A=H=>{c({title:H.title,date:H.date,attendees:H.attendees,mood:H.mood,cover:H.cover}),l({open:!0,editingId:H.id})},C=()=>{l({open:!1}),c(Ug)},N=(H,fe)=>{c(ge=>({...ge,[H]:H==="attendees"?Number(fe)||0:fe}))},R=H=>{if(H.preventDefault(),!s.title.trim())return;const fe={id:a.editingId??`event-${Date.now()}`,title:s.title.trim(),date:s.date.trim()||"Por definir",attendees:Math.max(0,Number(s.attendees)||0),mood:s.mood.trim()||"Pendiente de confirmacin",cover:s.cover.trim()||`https://picsum.photos/seed/event-${Date.now()}/600/320`};a.editingId?r(ge=>ge.map(L=>L.id===a.editingId?fe:L)):r(ge=>[fe,...ge]),C()},P=H=>{window.confirm("Eliminar este evento de la agenda?")&&r(fe=>fe.filter(ge=>ge.id!==H))},M=at.useMemo(()=>[...e].sort((H,fe)=>new Date(fe.date).getTime()-new Date(H.date).getTime()),[e]),I=at.useMemo(()=>{const H={},fe={};return M.forEach((ge,L)=>{H[ge.id]=Math.max(18,46-L*5),fe[ge.id]=L%2===0?["Gran energa!","Listo para la siguiente sesin "]:["Seguimos con todo "]}),{baseLikes:H,baseComments:fe}},[M]),[k,j]=at.useState(I.baseLikes),[q,$]=at.useState(I.baseComments);at.useEffect(()=>{j(H=>{const fe={...I.baseLikes};return Object.keys(H).forEach(ge=>{fe[ge]=H[ge]}),fe}),$(H=>{const fe={...I.baseComments};return Object.keys(H).forEach(ge=>{fe[ge]=H[ge]}),fe})},[I]);const te=at.useMemo(()=>{const H=new Date;return H.setHours(0,0,0,0),H},[]),K=at.useMemo(()=>{const H=new Date(te);return H.setDate(H.getDate()-7),M.filter(fe=>new Date(fe.date)>=H).length},[M,te]),G=at.useMemo(()=>Object.values(k).reduce((H,fe)=>H+fe,0),[k]),V=at.useMemo(()=>Object.values(q).reduce((H,fe)=>H+fe.length,0),[q]),ae=M.length===0?0:Math.min(100,(G+V*2)/(M.length*50)*100),me=H=>{j(fe=>({...fe,[H]:(fe[H]||0)+1}))},B=H=>{var ge;const fe=(ge=x[H])==null?void 0:ge.trim();fe&&($(L=>({...L,[H]:[fe,...L[H]||[]].slice(0,4)})),w(L=>({...L,[H]:""})))},ne=H=>{if(H.preventDefault(),!p.caption.trim())return;const fe={id:`community-${Date.now()}`,author:p.author.trim()||"Sensei del Dojo",caption:p.caption.trim(),imageUrl:p.imageUrl.trim()||`https://picsum.photos/seed/${Date.now()}/800/800`,date:new Date().toISOString()};t==null||t(fe),f(!1),h({author:"Sensei del Dojo",caption:"",imageUrl:""})};return b.jsxs("div",{className:"p-8 text-high-contrast-white space-y-8",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Hub social"}),b.jsx("h1",{className:"text-3xl font-bold",children:"Comunidad del Dojo"}),b.jsx("p",{className:"text-secondary-gray mt-2",children:"Comparte retos, eventos y reconoce a quienes sostienen la energa del tatami."})]}),b.jsx("button",{onClick:()=>f(!0),className:"px-5 py-3 rounded-lg bg-gradient-to-r from-neon-blue to-cyan-400 hover:shadow-neon transition-shadow font-semibold",children:"Nueva publicacin"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"rounded-xl border border-neon-blue/20 bg-nebula-blue/60 p-4",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Semana actual"}),b.jsx("p",{className:"text-3xl font-bold mt-1",children:K}),b.jsx("p",{className:"text-sm text-secondary-gray",children:"publicaciones, +2 vs semana pasada"})]}),b.jsxs("div",{className:"rounded-xl border border-neon-blue/20 bg-nebula-blue/60 p-4",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Interaccin promedio"}),b.jsxs("p",{className:"text-3xl font-bold mt-1",children:[ae.toFixed(1),"%"]}),b.jsx("p",{className:"text-sm text-secondary-gray",children:"likes + comentarios por publicacin"})]}),b.jsxs("div",{className:"rounded-xl border border-neon-blue/20 bg-nebula-blue/60 p-4",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Alcance estimado"}),b.jsxs("p",{className:"text-3xl font-bold mt-1",children:[(G*4+800).toLocaleString()," personas"]}),b.jsx("p",{className:"text-sm text-secondary-gray",children:"incluye campaas y referidos"})]})]}),b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-xl p-6 space-y-4",children:[b.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Prximos eventos"}),b.jsx("h2",{className:"text-xl font-bold",children:"Agenda y campaas"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-xs text-secondary-gray",children:[n.length," programados"]}),b.jsx("button",{type:"button",onClick:E,className:"px-3 py-1.5 rounded-md border border-neon-blue/30 text-neon-blue hover:bg-neon-blue/15 transition-colors text-sm",children:"Agregar evento"})]})]}),n.length===0?b.jsx("p",{className:"text-sm text-secondary-gray",children:"An no hay eventos cargados. Agrega el primero para armar la agenda."}):b.jsx("div",{className:"flex overflow-x-auto gap-4 pb-2",children:n.map(H=>b.jsxs("div",{className:"min-w-[220px] rounded-xl border border-neon-blue/15 bg-space-black/50 flex flex-col",children:[b.jsx("div",{className:"h-32 overflow-hidden rounded-t-xl",children:b.jsx("img",{src:H.cover,alt:H.title,className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"p-4 space-y-2 flex-1",children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-neon-blue",children:H.date}),b.jsx("p",{className:"font-semibold",children:H.title}),b.jsx("p",{className:"text-xs text-secondary-gray",children:H.mood}),b.jsxs("p",{className:"text-sm text-secondary-gray/80",children:[H.attendees," atletas confirmados"]})]}),b.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 pb-4",children:[b.jsx("button",{type:"button",onClick:()=>A(H),className:"text-xs text-secondary-gray hover:text-high-contrast-white transition-colors",children:"Editar"}),b.jsx("button",{type:"button",onClick:()=>P(H.id),className:"text-xs text-rose-300 hover:text-rose-200 transition-colors",children:"Eliminar"})]})]},H.id))})]}),b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-xl p-6 space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs uppercase tracking-wide text-secondary-gray",children:"Embajadores"}),b.jsx("h2",{className:"text-xl font-bold",children:"Spotlight de alumnos"})]}),b.jsx("span",{className:"text-sm text-secondary-gray",children:"Actualizado semanalmente"})]}),b.jsx("div",{className:"flex overflow-x-auto gap-4 pb-2",children:iZ.map(H=>b.jsxs("div",{className:"min-w-[220px] rounded-xl border border-neon-blue/15 bg-space-black/40 p-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:H.image,alt:H.name,className:"w-14 h-14 rounded-full object-cover border border-neon-blue/30"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:H.name}),b.jsx("p",{className:"text-xs text-secondary-gray",children:H.discipline})]})]}),b.jsx("p",{className:"text-sm text-secondary-gray mt-3",children:H.streak}),b.jsx("span",{className:"inline-flex mt-2 px-2.5 py-1 rounded-full text-[11px] uppercase tracking-wide bg-neon-blue/10 text-neon-blue border border-neon-blue/20",children:H.badge})]},H.id))})]}),b.jsxs("div",{className:"space-y-6",children:[M.length===0&&b.jsx("div",{className:"rounded-xl border border-neon-blue/20 bg-nebula-blue/40 p-8 text-center text-secondary-gray",children:"An no hay publicaciones. Crea la primera para motivar a la comunidad."}),M.map(H=>b.jsxs("div",{className:"bg-nebula-blue border border-neon-blue/20 rounded-xl overflow-hidden",children:[b.jsxs("div",{className:"flex items-center p-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-neon-blue to-cyan-400 flex items-center justify-center text-space-black font-semibold",children:H.author.slice(0,2).toUpperCase()}),b.jsxs("div",{className:"ml-3",children:[b.jsx("p",{className:"font-semibold",children:H.author}),b.jsx("p",{className:"text-xs text-secondary-gray",children:new Date(H.date).toLocaleString()})]})]}),b.jsx("div",{className:"bg-space-black/40",children:b.jsx("img",{src:H.imageUrl,alt:H.caption,className:"w-full object-cover max-h-[520px]"})}),b.jsxs("div",{className:"p-4 space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>me(H.id),className:"transition-transform hover:scale-110 focus:outline-none",children:b.jsx(eZ,{filled:!!k[H.id]})}),b.jsx("button",{className:"transition-transform hover:scale-110 focus:outline-none",children:b.jsx(tZ,{})}),b.jsx("button",{className:"transition-transform hover:scale-110 focus:outline-none",children:b.jsx(nZ,{})}),b.jsxs("span",{className:"ml-auto text-xs text-secondary-gray uppercase tracking-wide",children:["Alcance estimado: ",(k[H.id]*12+320).toLocaleString()]})]}),b.jsxs("div",{className:"text-sm font-semibold",children:[k[H.id]||0," Me gusta  ",(q[H.id]||[]).length," comentarios"]}),b.jsxs("p",{className:"text-high-contrast-white",children:[b.jsx("span",{className:"font-bold",children:H.author})," ",H.caption]}),(q[H.id]||[]).slice(0,3).map((fe,ge)=>b.jsxs("p",{className:"text-sm text-secondary-gray",children:[b.jsx("span",{className:"font-semibold text-high-contrast-white",children:"Alumno motivado:"})," ",fe]},`${H.id}-comment-${ge}`)),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[b.jsx("input",{type:"text",value:x[H.id]||"",placeholder:"Escribe un comentario motivador...",onChange:fe=>w(ge=>({...ge,[H.id]:fe.target.value})),className:"flex-1 bg-space-black border border-neon-blue/20 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"}),b.jsx("button",{onClick:()=>B(H.id),className:"px-4 py-2 rounded-lg border border-neon-blue/20 text-neon-blue hover:bg-neon-blue/10 transition-colors",children:"Comentar"})]})]})]},H.id))]}),d&&b.jsx(Ar,{isOpen:d,onClose:()=>f(!1),title:"Nueva publicacin",children:b.jsxs("form",{className:"space-y-4",onSubmit:ne,children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-secondary-gray block mb-1",children:"Autor"}),b.jsx("input",{type:"text",value:p.author,onChange:H=>h(fe=>({...fe,author:H.target.value})),className:"w-full bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-secondary-gray block mb-1",children:"Imagen (URL)"}),b.jsx("input",{type:"url",value:p.imageUrl,onChange:H=>h(fe=>({...fe,imageUrl:H.target.value})),placeholder:"https://...",className:"w-full bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"}),b.jsx("p",{className:"text-[11px] text-secondary-gray mt-1",children:"Tip: usa enlaces pblicos (Unsplash, Google Drive compartido, Imgur, etc.)."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-secondary-gray block mb-1",children:"Mensaje"}),b.jsx("textarea",{value:p.caption,onChange:H=>h(fe=>({...fe,caption:H.target.value})),rows:3,className:"w-full bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"})]}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border border-secondary-gray/40 text-secondary-gray hover:bg-secondary-gray/10 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-gradient-to-r from-neon-blue to-cyan-400 text-space-black font-semibold hover:shadow-neon transition-shadow",children:"Publicar"})]})]})}),a.open&&b.jsx(Ar,{isOpen:a.open,onClose:C,title:a.editingId?"Editar evento":"Nuevo evento",children:b.jsxs("form",{className:"space-y-4",onSubmit:R,children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-secondary-gray block mb-1",children:"Ttulo"}),b.jsx("input",{type:"text",value:s.title,onChange:H=>N("title",H.target.value),required:!0,className:"w-full bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-secondary-gray block mb-1",children:"Fecha  hora"}),b.jsx("input",{type:"text",value:s.date,onChange:H=>N("date",H.target.value),placeholder:"Ej: 24 Oct  19:00",className:"w-full bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-secondary-gray block mb-1",children:"Asistentes"}),b.jsx("input",{type:"number",min:"0",value:s.attendees,onChange:H=>N("attendees",H.target.value),className:"w-full bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-secondary-gray block mb-1",children:"Detalle"}),b.jsx("textarea",{value:s.mood,onChange:H=>N("mood",H.target.value),rows:2,className:"w-full bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs uppercase tracking-wide text-secondary-gray block mb-1",children:"Imagen (URL)"}),b.jsx("input",{type:"url",value:s.cover,onChange:H=>N("cover",H.target.value),placeholder:"https://...",className:"w-full bg-space-black border border-neon-blue/30 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neon-blue/40"}),b.jsx("p",{className:"text-[11px] text-secondary-gray mt-1",children:"Puedes pegar cualquier enlace pblico que represente el evento."})]}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 rounded-lg border border-secondary-gray/40 text-secondary-gray hover:bg-secondary-gray/10 transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-gradient-to-r from-neon-blue to-cyan-400 text-space-black font-semibold hover:shadow-neon transition-shadow",children:"Guardar"})]})]})})]})},oZ=({profile:e,students:t})=>{const n=Object.values(Zt).map(d=>({name:d,value:t.filter(f=>f.belt===d).length})).filter(d=>d.value>0),r=[...new Set(t.map(d=>d.discipline))].map(d=>({name:d,value:t.filter(f=>f.discipline===d).length})).filter(d=>d.value>0),a=["#00F0FF","#38BDF8","#6366F1","#8B5CF6","#EC4899","#F97316","#34D399","#2DD4BF"],l=["#22D3EE","#2DD4BF","#34D399","#A3E635","#FACC15","#FB7185","#A855F7","#6366F1"],s=({active:d,payload:f})=>{if(!d||!f||f.length===0)return null;const{name:p,value:h,percent:x}=f[0];if(typeof h!="number")return null;const w=x!==void 0?`${Math.round(x*100)}%`:"",E=h===1?"alumno":"alumnos";return b.jsxs("div",{className:"rounded-lg border border-neon-blue/40 bg-space-black/90 px-3 py-2 shadow-neon",children:[b.jsx("p",{className:"text-sm font-semibold text-high-contrast-white",children:p}),b.jsxs("p",{className:"text-xs text-secondary-gray",children:[h," ",E,w?` (${w})`:""]})]})},c=({cx:d,cy:f,midAngle:p,innerRadius:h,outerRadius:x,percent:w,index:E})=>{const A=Math.PI/180,C=h+(x-h)*.6,N=d+C*Math.cos(-p*A),R=f+C*Math.sin(-p*A);return b.jsx("text",{x:N,y:R,fill:"#F8FAFC",textAnchor:N>d?"start":"end",dominantBaseline:"central",fontSize:12,children:`${(w*100).toFixed(0)}%`})};return b.jsxs("div",{className:"p-8 text-high-contrast-white",children:[b.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Perfil del Dojo"}),b.jsxs("div",{style:{backgroundImage:"url('https://picsum.photos/seed/techbg/1200/400')"},className:"relative bg-cover bg-center rounded-lg p-8 border border-neon-blue/20 mb-8",children:[b.jsx("div",{className:"absolute inset-0 bg-space-black/70 backdrop-blur-sm rounded-lg"}),b.jsxs("div",{className:"relative flex flex-col md:flex-row items-center gap-8",children:[b.jsx("img",{src:e.logoUrl,alt:"Dojo Logo",className:"w-32 h-32 rounded-full border-4 border-neon-blue shadow-neon"}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-neon-blue to-cyan-400",children:e.name}),b.jsx("p",{className:"text-secondary-gray mt-2",children:e.address}),b.jsxs("div",{className:"flex gap-6 mt-2",children:[b.jsxs("p",{children:[b.jsx("span",{className:"font-semibold",children:"Email:"})," ",e.contactEmail]}),b.jsxs("p",{children:[b.jsx("span",{className:"font-semibold",children:"Telfono:"})," ",e.contactPhone]})]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20",children:[b.jsx("h3",{className:"text-xl font-bold mb-4",children:"Distribucin por Cinturn"}),b.jsx("div",{style:{width:"100%",height:250},children:b.jsx(sl,{children:b.jsxs(pC,{children:[b.jsx(Cv,{data:n,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,fill:"#38BDF8",stroke:"#0F172A",strokeWidth:2,label:c,labelLine:!1,children:n.map((d,f)=>b.jsx(pl,{fill:a[f%a.length]},`cell-${f}`))}),b.jsx(ml,{content:b.jsx(s,{})}),b.jsx(bi,{verticalAlign:"bottom",wrapperStyle:{color:"#F8FAFC",fontSize:12}})]})})})]}),b.jsxs("div",{className:"bg-nebula-blue p-6 rounded-lg border border-neon-blue/20",children:[b.jsx("h3",{className:"text-xl font-bold mb-4",children:"Distribucin por Disciplina"}),b.jsx("div",{style:{width:"100%",height:250},children:b.jsx(sl,{children:b.jsxs(pC,{children:[b.jsx(Cv,{data:r,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,fill:"#34D399",stroke:"#0F172A",strokeWidth:2,paddingAngle:3,label:c,labelLine:!1,children:r.map((d,f)=>b.jsx(pl,{fill:l[f%l.length]},`cell-${f}`))}),b.jsx(ml,{content:b.jsx(s,{})}),b.jsx(bi,{verticalAlign:"bottom",wrapperStyle:{color:"#F8FAFC",fontSize:12}})]})})})]})]})]})},lZ=vr("images/dojo/Logo2.png"),sZ=({onLogin:e})=>{const[t,n]=T.useState(""),[r,a]=T.useState(""),[l,s]=T.useState(""),c=d=>{d.preventDefault(),t.length>0&&r.length>0?(n(""),a(""),s(""),e()):s("Por favor, introduce el usuario y la contrasea correcta.")};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-space-black p-4",children:b.jsxs("div",{className:"w-full max-w-md bg-nebula-blue border border-neon-blue/30 rounded-lg shadow-neon p-8",children:[b.jsxs("div",{className:"flex flex-col items-center mb-6",children:[b.jsx("div",{className:"w-32 h-32 rounded-xl border border-neon-blue/40 shadow-neon mb-4 overflow-hidden bg-space-black flex items-center justify-center",children:b.jsx("img",{src:lZ,alt:"Logo del Dojo",className:"w-full h-full object-contain"})}),b.jsx("h1",{className:"text-3xl font-bold text-high-contrast-white",children:"Dojo Manager Pro"}),b.jsx("p",{className:"text-secondary-gray",children:"Edicin Academia Nacional de Artes Marciales"})]}),b.jsxs("form",{onSubmit:c,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-bold text-secondary-gray block mb-2",children:"Usuario"}),b.jsx("input",{type:"text",value:t,onChange:d=>n(d.target.value),className:"w-full bg-space-black p-3 rounded border border-neon-blue/50 focus:outline-none focus:ring-2 focus:ring-neon-blue text-high-contrast-white",placeholder:"sensei@dojo.com"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-bold text-secondary-gray block mb-2",children:"Contrasea"}),b.jsx("input",{type:"password",value:r,onChange:d=>a(d.target.value),className:"w-full bg-space-black p-3 rounded border border-neon-blue/50 focus:outline-none focus:ring-2 focus:ring-neon-blue text-high-contrast-white",placeholder:""})]}),l&&b.jsx("p",{className:"text-red-400 text-sm",children:l}),b.jsx("div",{children:b.jsx("button",{type:"submit",className:"w-full px-4 py-3 rounded-lg bg-gradient-to-r from-neon-blue to-cyan-400 text-high-contrast-white font-bold hover:shadow-neon transition-all duration-300",children:"Iniciar Sesin"})})]})]})})},uZ=()=>{const{theme:e,toggleTheme:t}=Vv();return b.jsx("button",{onClick:t,className:`fixed top-4 right-4 p-2 rounded-full transition-all duration-300 shadow-md
                ${e==="dark"?"bg-high-contrast-white text-space-black hover:bg-gray-200":"bg-white text-light-text hover:bg-gray-100 border border-light-primary/20"}`,"aria-label":"Cambiar tema",title:e==="dark"?"Cambiar a tema claro":"Cambiar a tema oscuro",children:e==="dark"?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})},cZ=()=>{var k;const{theme:e}=Vv(),[t,n]=T.useState("dashboard"),[r,a]=T.useState(!1),[l,s]=T.useState(!1),[c,d]=Dr("dojo_students",lw),[f,p]=Dr("dojo_classes",sw),[h]=Dr("dojo_transactions",FI),[x,w]=Dr("dojo_posts",KI),[E,A]=Dr("dojo_profile",Zp);T.useEffect(()=>{try{if(E){const j=String(E.name||""),q=String(E.contactEmail||"");(j.includes("Galaxia")||q.includes("dojoneon"))&&A(Zp)}}catch(j){console.warn("Error al aplicar migracin de perfil:",j)}},[]),T.useEffect(()=>{try{let j=!1;const q=c.map(G=>{const V=lw.find(me=>me.id===G.id||me.name===G.name),ae=V==null?void 0:V.profilePicUrl;return ae&&G.profilePicUrl!==ae?(j=!0,{...G,profilePicUrl:ae}):G});j&&d(q);const $=j?q:c;let te=!1,K=f;if(K.some(G=>G.name.trim().toLowerCase()==="gg")&&(K=K.filter(G=>G.name.trim().toLowerCase()!=="gg"),te=!0),K=K.map(G=>{const V=sw.find(me=>me.id===G.id||me.name===G.name),ae=(V==null?void 0:V.instructor)??Ln[0]??"Profesor asignado";return!G.instructor&&ae?(te=!0,{...G,instructor:ae}):G}),te&&p(K),typeof window<"u"){const G=new Set($.map(V=>V.id));try{const V=window.localStorage.getItem("resolved_alert_ids");if(V){const ae=JSON.parse(V);if(Array.isArray(ae)){const me=ae.filter(B=>typeof B=="string"&&G.has(B));me.length!==ae.length&&window.localStorage.setItem("resolved_alert_ids",JSON.stringify(me))}else window.localStorage.removeItem("resolved_alert_ids")}}catch(V){console.warn("No se pudieron depurar las alertas resueltas almacenadas:",V),window.localStorage.removeItem("resolved_alert_ids")}$.forEach(V=>{const ae=`alert_interactions_${V.id}`,me=`alert_contact_${V.id}`,B=`ai_message_log_${V.id}`,ne=`alert_tasks_${V.id}`;try{let H=[];const fe=window.localStorage.getItem(ae);if(fe){const Z=JSON.parse(fe);Array.isArray(Z)&&(H=Z.filter(pe=>pe&&typeof pe.timestamp=="string"&&typeof pe.type=="string"))}const ge=window.localStorage.getItem(me);ge&&(!H||H.length===0)&&(H=[{timestamp:ge,type:"contact"}],window.localStorage.removeItem(me)),H&&H.length>0&&window.localStorage.setItem(ae,JSON.stringify(H));const L=window.localStorage.getItem(B);if(L){try{const Z=JSON.parse(L);if(Array.isArray(Z)&&Z.length>0){const pe=Z.map(Te=>({id:Te.id||`${V.id}-${Date.now()}`,studentId:V.id,message:String(Te.message||""),generatedAt:Te.generatedAt||new Date().toISOString(),templateId:typeof Te.templateId=="string"?Te.templateId:void 0})),he=window.localStorage.getItem("ai_message_logs"),ye=he?JSON.parse(he):[];if(Array.isArray(ye)){const Te=[...ye.filter(Oe=>Oe.studentId!==V.id),...pe];window.localStorage.setItem("ai_message_logs",JSON.stringify(Te))}else window.localStorage.setItem("ai_message_logs",JSON.stringify(pe))}}catch(Z){console.warn("No se pudo migrar el historial de mensajes para",V.id,Z)}window.localStorage.removeItem(B)}if(!window.localStorage.getItem(ne)){const Z=[{id:`${V.id}-bienvenida`,title:"Enviar mensaje de bienvenida",completed:!1,createdAt:new Date().toISOString()}];window.localStorage.setItem(ne,JSON.stringify(Z))}}catch(H){console.warn(`No se pudieron migrar las interacciones del alumno ${V.id}:`,H)}});try{const V=window.localStorage.getItem("attendance_records"),ae=()=>window.localStorage.setItem("attendance_records",JSON.stringify(uw));if(V){const me=JSON.parse(V);if(Array.isArray(me)){const B=me.filter(H=>H&&typeof H.studentId=="string"&&G.has(H.studentId));let ne=B.length===0;if(!ne){const fe=Date.now()-1080*60*60*1e3;let ge=!1;const L=new Set;B.forEach(Z=>{var ye;const pe=(ye=Z==null?void 0:Z.record)==null?void 0:ye.date;if(typeof pe!="string")return;const he=new Date(pe+"T00:00:00Z");if(!Number.isNaN(he.getTime())){he.getTime()>=fe&&(ge=!0);const Te=`${he.getUTCFullYear()}-${he.getUTCMonth()}-${Math.floor(he.getUTCDate()/7)}`;L.add(Te)}}),(!ge||L.size<4)&&(ne=!0)}ne?ae():B.length!==me.length&&window.localStorage.setItem("attendance_records",JSON.stringify(B))}else window.localStorage.removeItem("attendance_records"),ae()}else ae()}catch(V){console.warn("No se pudieron depurar los registros de asistencia:",V),window.localStorage.removeItem("attendance_records"),window.localStorage.setItem("attendance_records",JSON.stringify(uw))}try{const V=window.localStorage.getItem("feedback_records");if(V){const ae=JSON.parse(V);if(Array.isArray(ae)){const me=ae.filter(B=>B&&typeof B.studentId=="string"&&G.has(B.studentId));me.length!==ae.length?window.localStorage.setItem("feedback_records",JSON.stringify(me)):me.length===0&&window.localStorage.setItem("feedback_records",JSON.stringify(cw))}else window.localStorage.removeItem("feedback_records")}else window.localStorage.setItem("feedback_records",JSON.stringify(cw))}catch(V){console.warn("No se pudieron depurar los registros de feedback:",V),window.localStorage.removeItem("feedback_records")}try{const V=[];for(let ae=0;ae<window.localStorage.length;ae++){const me=window.localStorage.key(ae);if(me){if(me.startsWith("alert_interactions_")){const B=me.replace("alert_interactions_","");G.has(B)||V.push(me)}if(me.startsWith("alert_contact_")){const B=me.replace("alert_contact_","");G.has(B)||V.push(me)}if(me.startsWith("alert_tasks_")){const B=me.replace("alert_tasks_","");G.has(B)||V.push(me)}if(me.startsWith("ai_message_log_")){const B=me.replace("ai_message_log_","");G.has(B)||V.push(me)}}}V.forEach(ae=>window.localStorage.removeItem(ae))}catch(V){console.warn("No se pudieron limpiar las interacciones hurfanas:",V)}}if(E){const G=Zp.logoUrl;E.logoUrl!==G&&A({...E,logoUrl:G})}}catch(j){console.warn("Error actualizando imgenes locales:",j)}},[c,f,E,d,p,A]);const C=()=>{s(!0)},N=()=>{s(!1),n("dashboard")},R=j=>{if(typeof window<"u")try{j?window.localStorage.setItem("students_pending_filter",JSON.stringify(j)):window.localStorage.removeItem("students_pending_filter")}catch(q){console.warn("No se pudo almacenar el filtro solicitado:",q)}n("students"),a(!1)},P=T.useCallback(j=>{w(q=>[j,...q])},[w]);if(!l)return b.jsx(sZ,{onLogin:C});const M=()=>{switch(t){case"dashboard":return b.jsx(R_,{students:c,classes:f,transactions:h,onNavigateToStudents:R});case"students":return b.jsx(FW,{students:c,setStudents:d});case"schedule":return b.jsx(KW,{classes:f,setClasses:p});case"finances":return b.jsx(YW,{transactions:h});case"retention":return b.jsx(QW,{students:c,onNavigateToStudents:R});case"community":return b.jsx(aZ,{posts:x,onCreatePost:P});case"profile":return b.jsx(oZ,{profile:E,students:c});default:return b.jsx(R_,{students:c,classes:f,transactions:h,onNavigateToStudents:R})}},I=((k=G_.find(j=>j.id===t))==null?void 0:k.label)||"Dashboard";return b.jsxs("div",{className:`min-h-screen flex font-sans transition-all duration-300 ease-in-out
            ${e==="dark"?"bg-space-black text-high-contrast-white":"bg-light-bg text-light-text"}`,children:[b.jsx(uZ,{}),b.jsx(JI,{currentView:t,setCurrentView:n,isOpen:r,setIsOpen:a,onLogout:N}),r&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>a(!1)}),b.jsxs("main",{className:"flex-1 md:ml-64 w-full overflow-y-auto",children:[b.jsxs("header",{className:`md:hidden sticky top-0 backdrop-blur-md p-4 flex items-center gap-4 z-20
                    ${e==="dark"?"bg-nebula-blue/80 border-b border-neon-blue/20":"bg-light-surface/80 border-b border-light-primary/20"}`,children:[b.jsx("button",{onClick:()=>a(!0),className:e==="dark"?"text-high-contrast-white":"text-light-text",children:b.jsx(II,{})}),b.jsx("h1",{className:"text-xl font-bold",children:I})]}),b.jsx("div",{className:"w-full",children:M()})]})]})};class fZ extends at.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,message:t instanceof Error?t.message:String(t)}}componentDidCatch(t,n){console.error("UI error capturado:",t,n)}render(){return this.state.hasError?b.jsxs("div",{className:"min-h-screen bg-space-black text-high-contrast-white flex flex-col items-center justify-center p-6",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Se ha producido un error al cargar el panel"}),b.jsx("p",{className:"text-secondary-gray text-sm max-w-xl text-center mb-6",children:"Refresca la pgina o borra los datos guardados del navegador. Si el problema persiste, comparte este mensaje con el equipo tcnico:"}),b.jsx("code",{className:"bg-space-black/60 border border-neon-blue/30 rounded-lg px-4 py-3 text-sm text-secondary-gray",children:this.state.message})]}):this.props.children}}const lO=document.getElementById("root");if(!lO)throw new Error("Could not find root element to mount to");const dZ=RI.createRoot(lO);dZ.render(b.jsx(at.StrictMode,{children:b.jsx(fZ,{children:b.jsx(cZ,{})})}));
